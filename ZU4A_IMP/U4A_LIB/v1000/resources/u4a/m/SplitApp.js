sap.ui.define("u4a.m.SplitApp",["sap/m/SplitApp","sap/ui/thirdparty/jquery"],function(a,b){"use strict";var c=a.extend("u4a.m.SplitApp",{metadata:{library:"u4a.m",properties:{masterPageWidth:{type:"sap.ui.core.CSSSize",defaultValue:"330px"},masterPageExpand:{type:"boolean",defaultValue:!1},rightPageWidth:{type:"sap.ui.core.CSSSize",defaultValue:"330px"},rightPageExpand:{type:"boolean",defaultValue:!1},rightPageAutoHide:{type:"boolean",defaultValue:!0}},aggregations:{rightPage:{type:"sap.m.Page",multiple:!1}}},init:function(){a.prototype.init.apply(this,arguments),this.setMode(sap.m.SplitAppMode.HideMode)},renderer:function(a,b){sap.m.SplitAppRenderer.render(a,b),b.getRightPage()&&b._rightPageRender(a,b)},onAfterRendering:function(){a.prototype.onAfterRendering.apply(this,arguments);var b=this._oShowMasterBtn;null!=b&&(b.detachPress(b.mEventRegistry.press[0].fFunction),b.attachPress(this._attachPressMasterBtnEvent.bind(this))),this.setMasterPageExpand(this.getMasterPageExpand());var c=this.getDomRef();this._oRightPage=document.getElementById(this.getId()+"-RightPage");null==this._oRightPage||(c.appendChild(this._oRightPage),this.setRightPageExpand(this.getRightPageExpand()))},_attachPressMasterBtnEvent:function(){this._bMasterPageExpand=!this._bMasterPageExpand,this.setMasterPageExpand(this._bMasterPageExpand)},setMasterPageExpand:function(a){this.setProperty("masterPageExpand",a,!0),this._bMasterPageExpand=a,this._setMasterPageExpand(this._bMasterPageExpand)},setMasterPageWidth:function(a){this._pageWidthValidCheck(a),this.setProperty("masterPageWidth",a),this.setMasterPageExpand(this.getMasterPageExpand())},_setMasterPageExpand:function(a){var b=this._oMasterNav.getDomRef();if(null!=b){var c=this.getMasterPageWidth();this._setPageWidthAndExpandAnimation(b,c,a)}},setRightPageWidth:function(a){this._pageWidthValidCheck(a),this.setProperty("rightPageWidth",a),this.setRightPageExpand(this.getRightPageExpand())},setRightPageExpand:function(a){if(this.setProperty("rightPageExpand",a,!0),null!=this._oRightPage){var b=this.getRightPageWidth();this._setPageWidthAndExpandAnimation(this._oRightPage,b,a)}},_rightPageRender:function(a,b){var c=b.getRightPageWidth(),d=-1*parseInt(c);a.write("<div"),a.addStyle("height","100%"),a.addStyle("display","inline-block"),a.addStyle("position","absolute"),a.addStyle("z-index","4"),a.addStyle("top","0"),a.addStyle("box-sizing","border-box"),a.addStyle("width",c),a.addStyle("float","left"),a.addStyle("right","0"),a.addStyle("border-left","#ebebeb"),a.addStyle("background-color","#ffffff"),a.writeAttribute("id",b.getId()+"-RightPage"),a.writeStyles(),a.write(">"),a.renderControl(b.getRightPage()),a.write("</div>")},_setPageWidthAndExpandAnimation:function(a,c,d){if(null!=a&&"boolean"==typeof d){this._pageWidthValidCheck(c);var e,f,g=!1;b.sap.endsWith(c,"px")?(e=parseInt(c),b.sap.endsWith(a.id,"Master")&&(e*=-1,g=!0),f=e+"px"):(f="100%",b.sap.endsWith(a.id,"Master")&&!1==d&&(g=!0,e=parseInt(f),e*=-1,f=e+"%")),$(a).css("width",c),d?($(a).css("transform","translate3d(0,0,0)"),$(a).css("transition","all 300ms"),$(a).css("-webkit-transform","translate3d(0,0,0)"),$(a).css("-webkit-transition","all 300ms"),$(a).css("visibility","visible"),$(a).css("box-shadow","rgba(0, 0, 0, 0.15) 0px 0.625rem 1.875rem 0px, rgba(0, 0, 0, 0.15) 0px 0px 0px 1px")):($(a).css("transform","translate3d("+f+",0,0)"),$(a).css("-webkit-transform","translate3d("+f+",0,0)"),$(a).css("transition","all 300ms"),$(a).css("-webkit-transition","all 300ms"),$(a).css("box-shadow","rgba(255, 255, 255, 0) 0px 0rem 0rem 0px, rgba(255, 255, 255, 0) 0px 0px 0px 0px"))}},_pageWidthValidCheck:function(a){if(!b.sap.endsWith(a,"px")&&!b.sap.endsWith(a,"%"))throw new Error("[U4AIDE] property Type Error 'rightPageWidth' : 'px' \uB610\uB294 % \uB2E8\uC704\uB9CC \uC785\uB825 \uAC00\uB2A5\uD569\uB2C8\uB2E4.")},showMaster:function(){a.prototype.showMaster.apply(this,arguments),this.setMasterPageExpand(!0)},hideMaster:function(){a.prototype.hideMaster.apply(this,arguments),this.setMasterPageExpand(!1)},ontap:function(c){a.prototype.ontap.apply(this,arguments);var d=b(c.target).closest(".sapMSplitContainerDetail, .sapMSplitContainerMaster");0<d.length&&d.hasClass("sapMSplitContainerDetail")&&this.getRightPageAutoHide()&&this.setRightPageExpand(!1)}});return c});