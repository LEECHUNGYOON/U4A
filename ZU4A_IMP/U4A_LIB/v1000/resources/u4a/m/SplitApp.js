sap.ui.define("u4a.m.SplitApp",["sap/m/SplitApp","sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/dom/containsOrEquals"],function(a,n,s,r){"use strict";return a.extend("u4a.m.SplitApp",{metadata:{library:"u4a.m",properties:{masterPageWidth:{type:"sap.ui.core.CSSSize",defaultValue:"330px"},masterPageExpand:{type:"boolean",defaultValue:!1},rightPageWidth:{type:"sap.ui.core.CSSSize",defaultValue:"330px"},rightPageExpand:{type:"boolean",defaultValue:!1},rightPageAutoHide:{type:"boolean",defaultValue:!0}},aggregations:{rightPage:{type:"sap.m.Page",multiple:!1}}},init:function(){a.prototype.init.apply(this,arguments),this.setMode(sap.m.SplitAppMode.HideMode)},renderer:function(t,e){sap.m.SplitAppRenderer.render(t,e),e.getRightPage()&&e._rightPageRender(t,e)},onAfterRendering:function(){a.prototype.onAfterRendering.apply(this,arguments);var t=this._oShowMasterBtn;null!=t&&(t.detachPress(t.mEventRegistry.press[0].fFunction),t.attachPress(this._attachPressMasterBtnEvent.bind(this))),this.setMasterPageExpand(this.getMasterPageExpand());var e=this.getDomRef();this._oRightPage=document.getElementById(this.getId()+"-RightPage"),null!=this._oRightPage&&(e.appendChild(this._oRightPage),this.setRightPageExpand(this.getRightPageExpand()))},_attachPressMasterBtnEvent:function(){this._bMasterPageExpand=!this._bMasterPageExpand,this.setMasterPageExpand(this._bMasterPageExpand)},setMasterPageExpand:function(t){this.setProperty("masterPageExpand",t,!0),this._bMasterPageExpand=t,this._setMasterPageExpand(this._bMasterPageExpand)},setMasterPageWidth:function(t){this._pageWidthValidCheck(t),this.setProperty("masterPageWidth",t),this.setMasterPageExpand(this.getMasterPageExpand())},_setMasterPageExpand:function(t){var e=this._oMasterNav.getDomRef();if(null!=e){var a=this.getMasterPageWidth();this._setPageWidthAndExpandAnimation(e,a,t)}},setRightPageWidth:function(t){this._pageWidthValidCheck(t),this.setProperty("rightPageWidth",t),this.setRightPageExpand(this.getRightPageExpand())},setRightPageExpand:function(t){if(this.setProperty("rightPageExpand",t,!0),null!=this._oRightPage){var e=this.getRightPageWidth();this._setPageWidthAndExpandAnimation(this._oRightPage,e,t)}},_rightPageRender:function(t,e){var a=e.getRightPageWidth();parseInt(a);t.write("<div"),t.addStyle("height","100%"),t.addStyle("display","inline-block"),t.addStyle("position","absolute"),t.addStyle("z-index","4"),t.addStyle("top","0"),t.addStyle("box-sizing","border-box"),t.addStyle("width",a),t.addStyle("float","left"),t.addStyle("right","0"),t.addStyle("border-left","#ebebeb"),t.addStyle("background-color","#ffffff"),t.writeAttribute("id",e.getId()+"-RightPage"),t.writeStyles(),t.write(">"),t.renderControl(e.getRightPage()),t.write("</div>")},_setPageWidthAndExpandAnimation:function(t,e,a){if(null!=t&&"boolean"==typeof a){this._pageWidthValidCheck(e);var i,s;n.sap.endsWith(e,"px")?(i=parseInt(e),n.sap.endsWith(t.id,"Master")&&(i*=-1,0),s=i+"px"):(s="100%",n.sap.endsWith(t.id,"Master")&&0==a&&(i=parseInt(s),s=(i*=-1)+"%")),$(t).css("width",e),a?($(t).css("transform","translate3d(0,0,0)"),$(t).css("transition","all 300ms"),$(t).css("-webkit-transform","translate3d(0,0,0)"),$(t).css("-webkit-transition","all 300ms"),$(t).css("visibility","visible"),$(t).css("box-shadow","rgba(0, 0, 0, 0.15) 0px 0.625rem 1.875rem 0px, rgba(0, 0, 0, 0.15) 0px 0px 0px 1px")):($(t).css("transform","translate3d("+s+",0,0)"),$(t).css("-webkit-transform","translate3d("+s+",0,0)"),$(t).css("transition","all 300ms"),$(t).css("-webkit-transition","all 300ms"),$(t).css("box-shadow","rgba(255, 255, 255, 0) 0px 0rem 0rem 0px, rgba(255, 255, 255, 0) 0px 0px 0px 0px"))}},_pageWidthValidCheck:function(t){if(!n.sap.endsWith(t,"px")&&!n.sap.endsWith(t,"%"))throw new Error("[U4AIDE] property Type Error 'rightPageWidth' : 'px' 또는 % 단위만 입력 가능합니다.")},showMaster:function(){a.prototype.showMaster.apply(this,arguments),this.setMasterPageExpand(!0)},hideMaster:function(){a.prototype.hideMaster.apply(this,arguments),this.setMasterPageExpand(!1)},ontap:function(t){if(!s.system.phone){var e=!0,a=n(t.target).closest(".sapMSplitContainerDetail, .sapMSplitContainerMaster"),i=t.srcControl.getMetadata();0<a.length&&a.hasClass("sapMSplitContainerDetail")&&(e=!1),(this._oldIsLandscape||"ShowHideMode"!=this.getMode())&&"HideMode"!=this.getMode()||e||r(this._oShowMasterBtn.getDomRef(),t.target)||i.getEvent("tap")&&i.getEvent("press")||(this.hideMaster(),this.getRightPageAutoHide()&&this.setRightPageExpand(!1))}}})});