u4a.m.PositionType={Left:"Left",Right:"Right"},sap.ui.define("u4a.m.VerticalTimeLineItem",["sap/ui/core/Control","sap/ui/core/IconPool"],function(e,n){"use strict";return e.extend("u4a.m.VerticalTimeLineItem",{metadata:{library:"u4a.m",properties:{expandable:{type:"boolean",defaultValue:!1},expanded:{type:"boolean",defaultValue:!1},itemPosition:{type:"u4a.m.PositionType",defaultValue:u4a.m.PositionType.Left},itemCenterBarYear:{type:"string",defaultValue:""},itemCenterBarMonth:{type:"string",defaultValue:""},itemHeaderIcon:{type:"sap.ui.core.URI",defaultValue:null},itemHeaderDate:{type:"string",defaultValue:""},itemHeaderTime:{type:"string",defaultValue:""},itemHeaderTitle:{type:"string",defaultValue:""}},defaultAggregation:"contents",aggregations:{contents:{type:"sap.ui.core.Control",multiple:!0,singularName:"content"},footer:{type:"sap.m.IBar",multiple:!1}},events:{itemPress:{allowPreventDefault:!0}}},_styleClassName:"",_oIcon:null,renderer:function(e,t){e.write("<div"),e.writeControlData(t),e.addClass("U4A_VTLine_child U4A_VTLine_elem"),t.getItemPosition()==u4a.m.PositionType.Left?e.addClass("U4A_VTLine_elem--left"):e.addClass("U4A_VTLine_elem--right"),e.writeClasses(),e.write(">"),t.renderBarText(e,t),e.write("<div"),""!=t._styleClassName&&e.addClass(t._styleClassName),e.addClass("U4A_VTLine_event U4A_VTLine_child"),t._clearGlobalVariables(),e.writeClasses(),e.write(">"),t.renderContent(e,t),t.renderItemFooter(e,t),e.write("</div>"),e.write("</div>")},renderBarText:function(e,t){e.write("<div"),e.addClass("U4A_VTLine_date"),e.writeClasses(),e.write(">"),e.write("<span"),e.addClass("U4A_VTLine_date-day"),e.writeClasses(),e.write(">"),e.writeEscaped(t.getItemCenterBarYear()),e.write("</span>"),e.write("<span"),e.addClass("U4A_VTLine_date-month"),e.writeClasses(),e.write(">"),e.writeEscaped(t.getItemCenterBarMonth()),e.write("</span>"),e.write("</div>")},renderContent:function(e,t){t.renderItemHeader(e,t),e.write("<div"),e.addClass("U4A_VTLine_child U4A_VTLine_event-descr"),e.writeClasses(),e.write(">"),t.renderItemContent(e,t.getContents()),e.write("</div>")},renderItemHeader:function(e,t){e.write("<div"),e.addClass("U4A_VTLine_child U4A_VTLine_event-date-time"),e.writeClasses(),e.write(">"),e.write("<div"),e.addClass("U4A_VTLine_child U4A_VTLine_event-date"),e.writeClasses(),e.write(">"),e.write("<span>"),e.writeEscaped(t.getItemHeaderDate()),e.write("</span>"),e.write("</div>"),e.write("<div"),e.addClass("U4A_VTLine_child U4A_VTLine_event-time"),e.writeClasses(),e.write(">"),e.write("<span>"),e.writeEscaped(t.getItemHeaderTime()),e.write("</span>"),e.write("</div>"),e.write("</div>"),e.write("<h4"),e.addClass("U4A_VTLine_child U4A_VTLine_event-title"),e.writeClasses(),e.write(">"),t.getExpandable()&&t._isExpanded(e,t),""!=t.getItemHeaderIcon()&&e.writeIcon(t.getItemHeaderIcon()),e.writeEscaped(t.getItemHeaderTitle()),e.write("</h4>")},_isExpanded:function(e,t){var i=new sap.ui.core.Icon;t._oIcon=i,e.renderControl(i)},renderItemContent:function(e,t){t.forEach(e.renderControl,e)},renderItemFooter:function(e,t){var i=t.getFooter();e.write("<div"),e.addClass("U4A_VTLine_child U4A_VTLine_event-actions"),e.writeClasses(),e.write(">"),e.renderControl(i),e.write("</div>")},addStyleClass:function(e){this._styleClassName=e},onclick:function(e){e.target.offsetParent.classList.contains("U4A_VTLine_child")&&e.target.classList.contains("U4A_VTLine_child")&&this.fireItemPress()},onExit:function(e){this._clearGlobalVariables()},_clearGlobalVariables:function(){""!=this._styleClassName&&(this._styleClassName=""),null!=this._oIcon&&(this._oIcon=null)},_ItemExpandCollapse:function(e){var t=n.getIconURI("navigation-right-arrow"),i=n.getIconURI("navigation-down-arrow");e?(this.$ItemContent.slideUp(500),this.$ItemFooter.slideUp(500),this._oIcon.setSrc(t)):(this.$ItemContent.slideDown(500),this.$ItemFooter.slideDown(500),this._oIcon.setSrc(i))},onAfterRendering:function(e){var t=e.srcControl,i=t.getExpandable(),n=t.getExpanded();if(i){var a=$(this.getDomRef());this.$ItemContent=a.find(".U4A_VTLine_event-descr"),this.$ItemFooter=a.find(".U4A_VTLine_event-actions"),t._ItemExpandCollapse(n),t._oIcon.attachEvent("press",function(e){var t=this.getExpanded();this._ItemExpandCollapse(!t),this.setProperty("expanded",!t,!0)}.bind(this))}function r(){var n,a,r={timelineDate:document.querySelectorAll(".U4A_VTLine_date"),timelineElem:document.querySelectorAll(".U4A_VTLine_elem"),timelineBar:document.querySelector(".U4A_VTLine_bar")};$.each(r.timelineElem,function(e,t){var i=function(e){return e.classList.contains("U4A_VTLine_elem--left")?"left":e.classList.contains("U4A_VTLine_elem--right")?"right":void 0}(t);t.querySelector(".U4A_VTLine_event").classList.add("U4A_VTLine_event--"+i)}),n=getComputedStyle(r.timelineBar).backgroundImage,a=r.timelineBar.offsetHeight,$.each(r.timelineDate,function(e,t){t.style.backgroundImage=n,t.style.backgroundSize="100% "+a+"px";var i=function(e){var t=r.timelineBar.getBoundingClientRect();return e.getBoundingClientRect().top-t.top}(t);t.style.backgroundPosition="0 -"+i+"px"})}var s=setTimeout(function(){r(),clearTimeout(s)},10)}})});