sap.ui.define("u4a.m.LetterMessage",["jquery.sap.global","sap/ui/core/library"],function(n,e){"use strict";var t=e.Dock,h=(e.CSSSize,{});return h._mSettings={onClick:null,animationDuration:250,position:"center center",expand:!1},h._isShow=!1,h._validateSettings=function(e){h._isFiniteInteger(e.animationDuration),h._validateDockPosition(e.position),h._validateOnClick(e.onClick),h._validateBoolean(e.expand)},h._isFiniteInteger=function(e){if("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e<=0)throw new Error('[U4AIDE] "iNumber" should be a Integer on '+h+"._isFiniteInteger")},h._validateDockPosition=function(e){if(!t.isValid(e))throw new Error('[U4AIDE] "'+e+'" is not of type "sap.ui.core.Popup.Dock" on '+h+"._validateDockPosition")},h._validateOnClick=function(e){if("function"!=typeof e&&null!==e)throw new Error('[U4AIDE] "onClick" should be a function or null on '+h+"._validateOnClick")},h._validateBoolean=function(e){if("boolean"!=typeof e)throw new Error('[U4AIDE] "expand" should be a boolean on '+h+"._validateBoolean")},h.show=function(t){if(!h._isShow){var a="u4aMLetter_style";if(null==document.getElementById(a)){n.ajax({url:"/zu4a_imp/u4a_lib/v1000/css/m/LetterMessage.css",dataType:"text",mimeType:"text/css",success:function(e){$("<style id='"+a+"'></style>").appendTo("head").html(e),h._render(t)},error:function(e){throw new Error("[U4AIDE] Load Fail to LetterMessage css files")}})}else h._render(t)}},h._render=function(e){var t,a;a=n.extend({},h._mSettings),n.extend(a,e),this._validateSettings(a),null==(t=this._getLetterMsgDomRef())&&(t=function(e){var t=h._getLetterMsgDomRef();if(null!=t)return t;var a=document.createElement("div");a.id="__Letter",a.className="u4aMLetterMsg",a.style.display="none",a.style.width="200px",a.style.height="200px",h._setPosition(a,e.position);var n=document.createElement("div");n.className="u4aMLetterMsgAnimated",a.appendChild(n);var i=document.createElement("div");i.className="u4aMLetterShadow",a.appendChild(i);var r=document.createElement("div");r.className="u4aMLetterMsgBackFold";var s=document.createElement("div");s.className="u4aMLetter";var o=document.createElement("div");o.className="u4aMLetterTopFold";var l=document.createElement("div");l.className="u4aMLetterBody";var d=document.createElement("div");d.className="u4aMLetterLeftFold",n.appendChild(r),n.appendChild(s),n.appendChild(o),n.appendChild(l),n.appendChild(d);var c=document.createElement("div");c.className="u4aMLetterBorder";var m=document.createElement("div");m.className="u4aMLetterTitle";var u=document.createElement("div");u.className="u4aMLetterContext";var p=document.createElement("div");p.className="u4aMLetterStamp";var f=document.createElement("div");return f.className="u4aMLetterStampInner",p.appendChild(f),s.appendChild(c),s.appendChild(m),s.appendChild(u),s.appendChild(p),document.body.appendChild(a),a}(a)),this.mSettings=a,t.onclick=function(){h.hide(a.onClick)},h._isShow=!0,h._isExpand(a.expand),$(t).fadeIn(a.animationDuration)},h._isExpand=function(e){if(e){var t=$(".u4aMLetterMsgAnimated"),a=$(".u4aMLetter"),n=$(".u4aMLetterShadow"),i=$(".u4aMLetterTopFold");t.css({"-webkit-transform":"translateY(50px)",transform:"translateY(50px)","-moz-transform":"translateY(50px)","-ms-transform":"translateY(50px)"}),a.css("height","180px"),n.css("width","200px"),n.css("left","0px");i.css({transition:"transform .4s, z-index .2s",transform:"rotateX(180deg)","-ms-transition":"transform .4s, z-index .2s","-webkit-transition":"transform .4s, z-index .2s","-ms-transform":"rotateX(180deg)","-webkit-transform":"rotateX(180deg)","-moz-transition":"transform .4s, z-index .2s","-moz-transform":"rotateX(180deg)","z-index":"0"})}},h.hide=function(e){var t=this._getLetterMsgDomRef();if(null!=t){var a=this.mSettings.animationDuration;$(t).fadeOut(a,function(){null!=t&&($(t).remove(),h._isShow&&(h._isShow=!1,e&&e()))})}},h._getLetterMsgDomRef=function(){return document.getElementById("__Letter")},h._setPosition=function(e,t){var a=t.split(" "),n=a[0],i=a[1];switch(e.setAttribute("u4a-data-position",n+"-"+i),n){case"begin":case"left":e.style.left="100px";break;case"center":e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.style.webkitTransform="translate(-50%,-50%)";break;case"right":case"end":e.style.left="auto",e.style.right="100px"}switch(i){case"top":e.style.top="100px";break;case"center":e.style.top="50%";break;case"bottom":e.style.bottom="50px",e.style.transform="translateY(0%)","center"==n&&(e.style.transform="translate(-50%)")}},h.toString=function(){return"u4a.m.LetterMessage"},h},!0);