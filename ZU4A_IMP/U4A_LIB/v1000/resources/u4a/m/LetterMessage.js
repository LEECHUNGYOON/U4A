sap.ui.define("u4a.m.LetterMessage",["jquery.sap.global","sap/ui/core/library"],function(n,e){"use strict";var t=e.Dock,v=(e.CSSSize,{});return v._mSettings={onClick:null,animationDuration:250,position:"center center",expand:!1},v._isShow=!1,v._validateSettings=function(e){v._isFiniteInteger(e.animationDuration),v._validateDockPosition(e.position),v._validateOnClick(e.onClick),v._validateBoolean(e.expand)},v._isFiniteInteger=function(e){if("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e<=0)throw new Error('[U4AIDE] "iNumber" should be a Integer on '+v+"._isFiniteInteger")},v._validateDockPosition=function(e){if(!t.isValid(e))throw new Error('[U4AIDE] "'+e+'" is not of type "sap.ui.core.Popup.Dock" on '+v+"._validateDockPosition")},v._validateOnClick=function(e){if("function"!=typeof e&&null!==e)throw new Error('[U4AIDE] "onClick" should be a function or null on '+v+"._validateOnClick")},v._validateBoolean=function(e){if("boolean"!=typeof e)throw new Error('[U4AIDE] "expand" should be a boolean on '+v+"._validateBoolean")},v._onInit=function(){if(null==document.getElementById("letter_css_div")){var e=document.createElement("div");e.id="letter_css_div";var t=document.getElementById("u4a_css_area");null==t&&console.error("[U4AIDE] U4A_CSS_AREA가 없습니다."),t.appendChild(e),$(e).append("<link rel='stylesheet' type='text/css' href='/zu4a_imp/u4a_lib/v1000/css/m/LetterMessage.css'>")}},v.show=function(e){var t,a;v._isShow||(this._onInit(),a=n.extend({},v._mSettings),n.extend(a,e),this._validateSettings(a),null==(t=this._getLetterMsgDomRef())&&(t=function(e){var t=v._getLetterMsgDomRef();if(null!=t)return t;var a=document.createElement("div");a.id="__Letter",a.className="u4aMLetterMsg",a.style.display="none",a.style.width="200px",a.style.height="200px",v._setPosition(a,e.position);var n=document.createElement("div");n.className="u4aMLetterMsgAnimated",a.appendChild(n);var i=document.createElement("div");i.className="u4aMLetterShadow",a.appendChild(i);var r=document.createElement("div");r.className="u4aMLetterMsgBackFold";var s=document.createElement("div");s.className="u4aMLetter";var o=document.createElement("div");o.className="u4aMLetterTopFold";var l=document.createElement("div");l.className="u4aMLetterBody";var d=document.createElement("div");d.className="u4aMLetterLeftFold",n.appendChild(r),n.appendChild(s),n.appendChild(o),n.appendChild(l),n.appendChild(d);var c=document.createElement("div");c.className="u4aMLetterBorder";var m=document.createElement("div");m.className="u4aMLetterTitle";var u=document.createElement("div");u.className="u4aMLetterContext";var p=document.createElement("div");p.className="u4aMLetterStamp";var f=document.createElement("div");return f.className="u4aMLetterStampInner",p.appendChild(f),s.appendChild(c),s.appendChild(m),s.appendChild(u),s.appendChild(p),document.body.appendChild(a),a}(a)),this.mSettings=a,t.onclick=function(){v.hide(a.onClick)},v._isShow=!0,v._isExpand(a.expand),$(t).fadeIn(a.animationDuration))},v._isExpand=function(e){if(e){var t=$(".u4aMLetterMsgAnimated"),a=$(".u4aMLetter"),n=$(".u4aMLetterShadow"),i=$(".u4aMLetterTopFold");t.css({"-webkit-transform":"translateY(50px)",transform:"translateY(50px)","-moz-transform":"translateY(50px)","-ms-transform":"translateY(50px)"}),a.css("height","180px"),n.css("width","200px"),n.css("left","0px");i.css({transition:"transform .4s, z-index .2s",transform:"rotateX(180deg)","-ms-transition":"transform .4s, z-index .2s","-webkit-transition":"transform .4s, z-index .2s","-ms-transform":"rotateX(180deg)","-webkit-transform":"rotateX(180deg)","-moz-transition":"transform .4s, z-index .2s","-moz-transform":"rotateX(180deg)","z-index":"0"})}},v.hide=function(e){var t=this._getLetterMsgDomRef();if(null!=t){var a=this.mSettings.animationDuration;$(t).fadeOut(a,function(){null!=t&&($(t).remove(),v._isShow&&(v._isShow=!1,e&&e()))})}},v._getLetterMsgDomRef=function(){return document.getElementById("__Letter")},v._setPosition=function(e,t){var a=t.split(" "),n=a[0],i=a[1];switch(e.setAttribute("u4a-data-position",n+"-"+i),n){case"begin":case"left":e.style.left="100px";break;case"center":e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.style.webkitTransform="translate(-50%,-50%)";break;case"right":case"end":e.style.left="auto",e.style.right="100px"}switch(i){case"top":e.style.top="100px";break;case"center":e.style.top="50%";break;case"bottom":e.style.bottom="50px",e.style.transform="translateY(0%)","center"==n&&(e.style.transform="translate(-50%)")}},v.toString=function(){return"u4a.m.LetterMessage"},v},!0);