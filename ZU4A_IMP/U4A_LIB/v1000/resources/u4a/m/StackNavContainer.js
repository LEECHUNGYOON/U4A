jQuery.sap.declare("u4a.m.StackNavContainer"),jQuery.sap.require("sap.ui.core.Control"),u4a.m.PositionType={Left:"Left",Right:"Right"},u4a.m.StackConNaviSize={Small:"Small",Medium:"Medium",Large:"Large"},u4a.m.DirectionType={LTR:"LTR",RTL:"RTL"},sap&&sap.ui&&sap.ui.base&&sap.ui.base.DataType&&sap.ui.base.DataType.registerEnum&&"function"==typeof sap.ui.base.DataType.registerEnum&&(sap.ui.base.DataType.registerEnum("u4a.m.PositionType",u4a.m.PositionType),sap.ui.base.DataType.registerEnum("u4a.m.StackConNaviSize",u4a.m.StackConNaviSize),sap.ui.base.DataType.registerEnum("u4a.m.DirectionType",u4a.m.DirectionType)),$("#u4a_css_area").append("<link rel='stylesheet' type='text/css' href='/zu4a_imp/u4a_lib/v1000/css/m/StackNavContainer.css'>"),sap.ui.core.Control.extend("u4a.m.StackNavContainer",{metadata:{library:"u4a.m",properties:{naviPosition:{type:"u4a.m.PositionType",defaultValue:u4a.m.PositionType.Right},naviColor:{type:"sap.ui.core.CSSColor",defaultValue:"#3f5161"},naviSize:{type:"u4a.m.StackConNaviSize",defaultValue:u4a.m.StackConNaviSize.Small},swipeRotate:{type:"boolean",group:"Behavior",defaultValue:!0},rotateDirection:{type:"u4a.m.DirectionType",defaultValue:u4a.m.DirectionType.RTL}},defaultAggregation:"pages",aggregations:{pages:{type:"u4a.m.StackPage",multiple:!0,singularName:"page"}}},init:function(){},renderer:function(a,e){for(var t in this.oStackNaviCon=e,a.write("<div"),a.writeControlData(e),a.addClass("U4A_StackNaviCon"),a.writeClasses(),a.write(">"),e.getPages()){var i=(r=e.getPages()[t]).getLeftPage(),n=r.getRightPage(),o=parseInt(t)+1;a.write("<div"),0==t?a.addClass("U4A_StackPage U4A_StackPage-"+o+" U4A_StackPageActive"):a.addClass("U4A_StackPage U4A_StackPage-"+o),a.writeClasses(r),a.write(">"),i&&(a.write("<div"),a.addClass("U4A_StackPageHalf U4A_StackPageLeft"),a.writeClasses(),a.write(">"),a.renderControl(i),a.write("</div>")),n&&(a.write("<div"),a.addClass("U4A_StackPageHalf U4A_StackPageRight"),a.writeClasses(),a.write(">"),a.renderControl(n),a.write("</div>")),a.write("</div>")}if(a.write("</div>"),sap.ui.Device.os.name!=sap.ui.Device.os.OS.IOS&&sap.ui.Device.os.name!=sap.ui.Device.os.OS.ANDROID){a.write("<div");switch(e.getNaviPosition()){case u4a.m.PositionType.Left:a.addStyle("left","1.5rem"),a.addStyle("right","auto");break;case u4a.m.PositionType.Right:a.addStyle("left","auto");break;default:a.addStyle("bottom","0rem")}switch(a.addClass("U4A_StackConNaviPanel"),a.writeClasses(),a.writeStyles(),a.write(">"),a.write("<div"),a.addClass("U4A_StackNavConScollBtn U4A_StackNavUp"),e.getNaviSize()){case u4a.m.StackConNaviSize.Small:a.addClass("U4A_StackNavConSmallSize U4A_StackNavConArrowSmallSize");break;case u4a.m.StackConNaviSize.Medium:a.addClass("U4A_StackNavConMediumSize U4A_StackNavConArrowMediumSize");break;case u4a.m.StackConNaviSize.Large:a.addClass("U4A_StackNavConLargeSize U4A_StackNavConArrowLargeSize")}switch(a.writeClasses(),e.getNaviColor()&&(a.addStyle("border-color",e.getNaviColor()),a.writeStyles()),a.write(">"),a.write("</div>"),a.write("<div"),a.addClass("U4A_StackNavConScollBtn U4A_StackNavDown"),e.getNaviSize()){case u4a.m.StackConNaviSize.Small:a.addClass("U4A_StackNavConSmallSize U4A_StackNavConArrowSmallSize");break;case u4a.m.StackConNaviSize.Medium:a.addClass("U4A_StackNavConMediumSize U4A_StackNavConArrowMediumSize");break;case u4a.m.StackConNaviSize.Large:a.addClass("U4A_StackNavConLargeSize U4A_StackNavConArrowLargeSize")}for(var t in a.writeClasses(),e.getNaviColor()&&(a.addStyle("border-color",e.getNaviColor()),a.writeStyles()),a.write(">"),a.write("</div>"),a.write("<nav>"),a.write("<ul>"),e.getPages()){var r=e.getPages();o=parseInt(t)+1;switch(a.write("<li"),a.writeAttribute("data-target",o),0==t?(a.addClass("U4A_StackConNaviBtn U4A_StackPageNav"+o+" U4A_StackPageActive"),a.addStyle("background-color",e.getNaviColor())):a.addClass("U4A_StackConNaviBtn U4A_StackPageNav"+o),e.getNaviSize()){case u4a.m.StackConNaviSize.Small:a.addClass("U4A_StackNavConSmallSize U4A_StackNavConCircleSmallSize");break;case u4a.m.StackConNaviSize.Medium:a.addClass("U4A_StackNavConMediumSize U4A_StackNavConCircleMediumSize");break;case u4a.m.StackConNaviSize.Large:a.addClass("U4A_StackNavConLargeSize U4A_StackNavConCircleLargeSize")}a.addStyle("border-color",e.getNaviColor()),a.writeStyles(),a.writeClasses(),a.write(">"),a.write("</li>")}a.write("</ul>"),a.write("</nav>"),a.write("</div>")}},onBeforeRendering:function(){},onAfterRendering:function(a){var e=a.srcControl,t=$(".U4A_StackConNaviPanel");try{if(1!=t.length)for(var i=t.length;i>1;i--)t[i-1].remove()}catch(a){}let n=$(".U4A_StackPage").length,o=!1,r=1;var s=$(this)[0].getNaviColor();this.pagination=function(a,e){o=!0;var t=r-a,i=r;if(r=a,$(".U4A_StackPage").removeClass("U4A_StackPageActive U4A_StackPageSmall U4A_StackPagePrev"),$(".U4A_StackPage-"+a).addClass("U4A_StackPageActive"),$(".U4A_StackConNaviBtn").removeClass("U4A_StackPageActive"),$(".U4A_StackConNaviBtn").css("border-color",s),$(".U4A_StackConNaviBtn").css("background-color",""),$(".U4A_StackPageNav"+a).css("border-color",s),$(".U4A_StackPageNav"+a).css("background-color",s),$(".U4A_StackPageNav"+a).addClass("U4A_StackPageActive"),a>1){if($(".U4A_StackPage-"+(a-1)).addClass("U4A_StackPagePrev"),e){$(".U4A_StackPage-"+(a-1)).hide();var n=a;setTimeout((function(){$(".U4A_StackPage-"+(n-1)).show()}),600)}for(;--a;)$(".U4A_StackPage-"+a).addClass("U4A_StackPageSmall")}if(t>1)for(var c=a+1;c<i;c++)$(".U4A_StackPage-"+c+" .U4A_StackPageHalf").css("transition","transform .7s ease-out");setTimeout((function(){o=!1,$(".U4A_StackPage .U4A_StackPageHalf").attr("style",""),$(".U4A_StackPage")}),700)},this.pagination.navigateUp=function(){try{e.getSwipeRotate()?1==r?e.pagination(n):e.pagination(r-1):r>1&&(r--,e.pagination(r,!0))}catch(a){}},this.pagination.navigateDown=function(){try{e.getSwipeRotate()?r==n?e.pagination(1):e.pagination(r+1):r<n&&(r++,e.pagination(r))}catch(a){}},this.pagination.navigatePrev=function(){e.pagination(1)},this.pagination.navigateEnd=function(){e.pagination(n)},$(".sapMPage").on("swiperight",(function(a){if(!o)switch(e.getRotateDirection()){case u4a.m.DirectionType.RTL:e.pagination.navigateUp();break;case u4a.m.DirectionType.LTR:e.pagination.navigateDown()}})),$(".sapMPage").on("swipeleft",(function(a){if(!o)switch(e.getRotateDirection()){case u4a.m.DirectionType.RTL:e.pagination.navigateDown();break;case u4a.m.DirectionType.LTR:e.pagination.navigateUp()}})),$(".U4A_StackNavConScollBtn").on("click",(function(){o||($(this).hasClass("U4A_StackNavUp")?e.pagination.navigateUp():e.pagination.navigateDown())})),$(document).on("keydown",function(a){if(!o)switch(a.which){case 33:this.pagination.navigateUp();break;case 34:this.pagination.navigateDown();break;case 35:this.pagination.navigateEnd();break;case 36:this.pagination.navigatePrev()}}.bind(this)),$(document).on("click",".U4A_StackConNaviBtn:not(.U4A_StackPageActive)",(function(){o||e.pagination(+$(this).attr("data-target"))}))}});