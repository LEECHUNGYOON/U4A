sap.ui.define("u4a.charts.am5.RadarChart",["u4a/charts/am5/SerialChart","sap/base/util/uid","u4a/charts/am5/am5Loader","u4a/charts/am5/am5xyLoader","u4a/charts/am5/am5radarLoader"],function(a,b){"use strict";function c(){return new Promise(a=>{function b(c){return"undefined"!=typeof window.am5&&"undefined"!=typeof window.am5radar&&"undefined"!=typeof window.am5xy?a():void setTimeout(function(){b(c)},100)}b()})}function d(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b?._createValueAxis&&"undefined"!=typeof a?._oChart?.oRoot&&"undefined"!=typeof a?._oChart?.oChartInstance){b._oChart.oRoot=a._oChart.oRoot;let c=b._createValueAxis(a);return"undefined"==typeof c?void 0:!0===a.getRotate()?void a._oChart.oChartInstance.xAxes.push(c):void a._oChart.oChartInstance.yAxes.push(c)}}function e(a,b){if("undefined"!=typeof a&&"undefined"!=typeof b?._createCategoryAxis&&"undefined"!=typeof a?._oChart?.oRoot&&"undefined"!=typeof a?._oChart?.oChartInstance){b._oChart.oRoot=a?._oChart?.oRoot;let c=b._createCategoryAxis(a);if("undefined"!=typeof c)return c.data.setAll(b._oChart.aData),!0===a.getRotate()?void a._oChart.oChartInstance.yAxes.push(c):void a._oChart.oChartInstance.xAxes.push(c)}}function f(a){return new Promise(function(b){am5.ready(async function(){-1===am5.registry.licenses.findIndex(b=>b===atob(a.licenceKey))&&am5.addLicense(atob(a.licenceKey));let c=a.getDomRef()||void 0;if("undefined"==typeof c)return console.error("\uCC28\uD2B8 dom \uC5C6\uC74C!!!"),b();if(-1!==am5.registry.rootElements.findIndex(a=>a?.dom===c))return b();let d=am5.Root.new(c);a.setChartTheme(d),a._drawChart(d),await a._oChart.oChartInstance.appear();let e=a._oChart.oChartInstance.get("height");a._oChart.oChartInstance.set("height",e),a._oChart.oChartInstance.markDirtySize(),b()})})}function g(a,b){let c=b.getValueAxis()||void 0;"undefined"==typeof c||d(a,c)}function h(a){let b=a.getCategoryAxis();if(0!==b.length)for(let c,d=0,f=b.length;d<f;d++)c=b[d],e(a,c),g(a,c),c._createSeries(a)}function i(a){let b=a.getLegend()||void 0;if("undefined"!=typeof b?._createLegend){let c=b._createLegend();"undefined"==typeof c||(a._oChart.oChartInstance.children.push(c),c.data.setAll(a._oChart.oChartInstance.series.values))}}function j(a){return new Promise(async function(b){await c(),await f(a),a.fireAfterRenderingFinish(),b()})}u4a.charts.am5.WheelType={zoomX:"zoomX",zoomY:"zoomY",zoomXY:"zoomXY",panX:"panX",panY:"panY",panXY:"panXY",none:"none"},sap.ui.base.DataType.registerEnum("u4a.charts.am5.WheelType",u4a.charts.am5.WheelType),u4a.charts.am5.MaxTooltipDistanceType={xy:"xy",x:"x",y:"y"},sap.ui.base.DataType.registerEnum("u4a.charts.am5.MaxTooltipDistanceType",u4a.charts.am5.MaxTooltipDistanceType),u4a.charts.am5.ScrollbarXPosition={top:"top",bottom:"bottom"},sap.ui.base.DataType.registerEnum("u4a.charts.am5.ScrollbarXPosition",u4a.charts.am5.ScrollbarXPosition),u4a.charts.am5.ScrollbarYPosition={left:"left",right:"right"},sap.ui.base.DataType.registerEnum("u4a.charts.am5.ScrollbarYPosition",u4a.charts.am5.ScrollbarYPosition);let k=a.extend("u4a.charts.am5.RadarChart",{metadata:{library:"u4a.charts.am5",properties:{maxTooltipDistance:{type:"int",defaultValue:0},maxTooltipDistanceBy:{type:"u4a.charts.am5.MaxTooltipDistanceType",default:"xy"},panX:{type:"boolean",defaultValue:!1},panY:{type:"boolean",defaultValue:!1},wheelStep:{type:"float",defaultValue:.25},wheelY:{type:"u4a.charts.am5.WheelType",defaultValue:"none"},wheelX:{type:"u4a.charts.am5.WheelType",defaultValue:"none"},scrollbarXPosition:{type:"u4a.charts.am5.ScrollbarXPosition",defaultValue:"top"},scrollbarYPosition:{type:"u4a.charts.am5.ScrollbarYPosition",defaultValue:"right"},endAngle:{type:"int",defaultValue:270},innerRadius:{type:"sap.ui.core.CSSSize"},radius:{type:"sap.ui.core.CSSSize",defaultValue:"80%"},startAngle:{type:"int",defaultValue:-90},rotate:{type:"boolean",defaultValue:!1}},aggregations:{categoryAxis:{type:"u4a.charts.am5.RadarCategoryAxis",multiple:!0,singularName:"categoryAxis"},background:{type:"u4a.charts.am5.Background",multiple:!1},legend:{type:"u4a.charts.am5.Legend",multiple:!1},title:{type:"u4a.charts.am5.Title",multiple:!1}},events:{afterRenderingFinish:{visibility:"restricted",deprecated:!0},click:{},dblclick:{},rightclick:{}}},init:function(){a.prototype.init.apply(this,arguments),this._aExcludeProp=["visible","width","height","rotate"],sap.ui.getCore().attachThemeChanged(function(){this.setChartTheme(this._oChart.oRoot)}.bind(this))},onBeforeRendering:function(){this._removeChart()},renderer:function(a,b){a.openStart("div",b),a.class("u4aAM5RadarChart"),a.style("width",b.getWidth()||"auto"),a.style("height",b.getHeight()||"100%"),a.openEnd(),a.close("div")},onAfterRendering:function(a){if("undefined"==typeof window?.oU4A?.taskPromiseStack)return void j(a.srcControl);let c=b(),d=new Promise(async function(b){await j(a.srcControl),b(c)});d.uKey=c,oU4A.taskPromiseStack.push(d)},exit:function(){this._removeChart()},_drawChart:function(a){this._oChart.oRoot=a;let b=this._getChartProperies(this._aExcludeProp);this.getStartAngle()===this.getEndAngle()&&(console.error("startAngle and endAngle cannot have the same value."),"undefined"!=typeof b.startAngle&&"undefined"==typeof b.endAngle&&delete b.startAngle,"undefined"==typeof b.startAngle&&"undefined"!=typeof b.endAngle&&delete b.endAngle,"undefined"!=typeof b.startAngle&&"undefined"!=typeof b.endAngle&&delete b.startAngle);let c=this.getDomRef()||void 0;return"undefined"==typeof c&&(b.width=this._convAm5CssSize(this.getWidth()),b.height=this._convAm5CssSize(this.getHeight()),b.visible=this.getVisible()),b.layout=this._oChart.oRoot.verticalLayout,b.cursor=am5radar.RadarCursor.new(this._oChart.oRoot,{}),b.cursor.lineX.set("visible",!1),b.cursor.lineY.set("visible",!1),this._oChart.oChartInstance=this._oChart.oRoot.container.children.push(am5radar.RadarChart.new(this._oChart.oRoot,b)),this._setBackGround(),this._oChart.oChartInstance.events.on("click",function(a){this._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.events.on("dblclick",function(a){this._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.events.on("rightclick",function(a){this._fireEvent(a)}.bind(this)),this._getChartData(this),h(this),this._setNoDataChartContent(),i(this),this._setTitle(),this._oChart.oChartInstance},_setNoDataChartContent:function(){if("undefined"==typeof this?._oChart?.oChartInstance?.series?.values?.length)return void this._showNoDataChart();if(0===this?._oChart?.oChartInstance?.series?.values?.length)return void this._showNoDataChart();let a=!1;for(let b,c=0,d=this._oChart.oChartInstance.series.values.length;c<d;c++)if((b=this._oChart.oChartInstance.series.values[c],"undefined"!=typeof b?.data?.values?.length)&&0!==b?.data?.values?.length&&-1!==b?.data?.values.findIndex(a=>"undefined"!=typeof a.value&&null!==a.value)){a=!0;break}!0==a||this._showNoDataChart()},_showNoDataChart:function(){var a=[{index:0,value:0,openValue:null}];0===this._oChart.oChartInstance.xAxes.values.length&&this._oChart.oChartInstance.xAxes.push(am5xy.CategoryAxis.new(this._oChart.oRoot,{categoryField:"country",renderer:am5radar.AxisRendererCircular.new(this._oChart.oRoot,{})}));let b=this._oChart.oChartInstance.xAxes.values[0];b.data.setAll(a),0===this._oChart.oChartInstance.yAxes.values.length&&this._oChart.oChartInstance.yAxes.push(am5xy.ValueAxis.new(this._oChart.oRoot,{renderer:am5radar.AxisRendererRadial.new(this._oChart.oRoot,{})}));let c=this._oChart.oChartInstance.yAxes.values[0];0===this._oChart.oChartInstance.series.values.length&&this._oChart.oChartInstance.series.push(am5radar.RadarColumnSeries.new(this._oChart.oRoot,{xAxis:b,yAxis:c,valueYField:"value",categoryXField:"index"}));let d=this._oChart.oChartInstance.series.values[0];d.data.setAll(a)},_fireEvent:function(a){if("undefined"==typeof a?.point)return;if("undefined"==typeof a?.type)return;let b=a.type,c=a.point,d={};d.pointX=c.x,d.pointY=c.y,this.fireEvent(b,d)},_getChartData:function(){let a=this.getCategoryAxis();if(0!==a.length)for(let b,c=0,d=a.length;c<d;c++)b=a[c],b._getChartData()},_createScrollbarX:function(){if("undefined"!=typeof this?._oChart?.oChartInstance){let a=this.getScrollbarX()||void 0;if("undefined"!=typeof a?._createScrollbar){let b=a._createScrollbar("horizontal");"undefined"==typeof b||this._oChart.oChartInstance.set("scrollbarX",b)}}},_createScrollbarY:function(){if("undefined"!=typeof this?._oChart?.oChartInstance){let a=this.getScrollbarY()||void 0;if("undefined"!=typeof a?._createScrollbar){let b=a._createScrollbar("vertical");"undefined"==typeof b||this._oChart.oChartInstance.set("scrollbarY",b)}}},_setTitle:function(){if("undefined"!=typeof this?._oChart?.oChartInstance){let a=this.getTitle()||void 0;if("undefined"!=typeof a?._createTitle){let b=a?._createTitle();"undefined"==typeof b||this._oChart.oChartInstance.children.moveValue(b,0)}}},_setBackGround:function(){if("undefined"!=typeof this?._oChart?.oChartInstance){this._oChart.oChartInstance.set("background");let a=this.getBackground()||void 0;if("undefined"!=typeof a?._createSprite){let b=a._createSprite();"undefined"==typeof b||this._oChart.oChartInstance.set("background",b)}}},_removeChart:function(){"undefined"==typeof this._oChart?.oRoot||(this._oChart.oRoot.dispose(),this._oChart={})},_setDomStyle:function(a,b){let c=this.getDomRef()||void 0;"undefined"==typeof c||(c.style[a]=b)},setParent:function(b){a.prototype.setParent.apply(this,arguments),null===b&&this._removeChart()},setMaxTooltipDistance:function(a){let b=this._setProperty("maxTooltipDistance",a);this._setChartSettings("maxTooltipDistance",b)},setMaxTooltipDistanceBy:function(a){let b=this._setProperty("maxTooltipDistanceBy",a);this._setChartSettings("maxTooltipDistanceBy",b)},setMaxTooltipDistanceBy:function(a){let b=this._setProperty("maxTooltipDistanceBy",a);this._setChartSettings("maxTooltipDistanceBy",b)},setPanX:function(a){let b=this._setProperty("panX",a);this._setChartSettings("panX",b)},setPanY:function(a){let b=this._setProperty("panY",a);this._setChartSettings("panY",b)},setWheelStep:function(a){let b=this._setProperty("wheelStep",a);this._setChartSettings("wheelStep",b)},setWheelY:function(a){let b=this._setProperty("wheelY",a);this._setChartSettings("wheelY",b)},setWheelX:function(a){let b=this._setProperty("wheelX",a);this._setChartSettings("wheelX",b)},setEndAngle:function(a){let b=this._setProperty("endAngle",a);return this.getStartAngle()===b?void console.error("startAngle and endAngle cannot have the same value."):void this._setChartSettings("endAngle",b)},setInnerRadius:function(a){let b=this._setProperty("innerRadius",a);this._setChartSettings("innerRadius",b)},setRadius:function(a){let b=this._setProperty("radius",a);this._setChartSettings("radius",this._convAM5Property("radius",b))},setStartAngle:function(a){let b=this._setProperty("startAngle",a);return this.getEndAngle()===b?void console.error("startAngle and endAngle cannot have the same value."):void this._setChartSettings("startAngle",b)},setBackground:function(a){this.setAggregation("background",a,!0),this._setBackGround()},setRotate:function(a){this._setProperty("rotate",a);"undefined"==typeof this?._oChart?.oChartInstance||(this._oChart.oChartInstance.dispose(),this._drawChart(this._oChart.oRoot))}});return k});