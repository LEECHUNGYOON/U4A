sap.ui.define("u4a.charts.am5.PieChartContent",["sap/ui/core/Element","u4a.charts.am5.Sprite"],function(a,b){"use strict";let c=a.extend("u4a.charts.am5.PieChartContent",{metadata:{library:"u4a.charts.am5",properties:{endAngle:{type:"int",defaultValue:270},innerRadius:{type:"sap.ui.core.Percentage"},radius:{type:"sap.ui.core.Percentage",defaultValue:"80%"},startAngle:{type:"int",defaultValue:-90}},aggregations:{pieSeries:{type:"u4a.charts.am5.PieSeries",multiple:!0,singularName:"pieSeries"}}},init:function(){this._oChart={},this._oChart.series=void 0},renderer:function(){},exit:function(){},_getChartData:function(){this._oChart.aData=[];let a=this.getPieSeries();if(0!==a.length)for(let b=0,c=a.length;b<c;b++){let c=a[b],d=c._getChartData();this._oChart.aData.push(d)}},_getEventUI:function(a){var b=a?.target?.dataItem?.dataContext?._sId;return"undefined"==typeof b?void 0:sap.ui.getCore().byId(b)},_createPieSeries:function(a){if("undefined"!=typeof a?._oChart?.oRoot){let c={};return c.endAngle=this.getEndAngle(),c.innerRadius=b.prototype._convAm5CssSize.apply(this,[this.getInnerRadius()]),c.radius=b.prototype._convAm5CssSize.apply(this,[this.getRadius()]),c.startAngle=this.getStartAngle(),c.valueField="value",c.categoryField="category",this._oChart.oChartInstance=am5percent.PieSeries.new(a._oChart.oRoot,c),this._oChart.oChartInstance.slices.template.adapters.add("opacity",function(a,b){return b?.dataItem?.dataContext?.slicesTemplate?.opacity}),this._oChart.oChartInstance.set("tooltip",am5.Tooltip.new(a._oChart.oRoot,{templateField:"tooltipText"})),this._oChart.oChartInstance.slices.template.events.on("click",function(a){let b=this._getEventUI(a);"undefined"==typeof b||b._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.slices.template.events.on("dblclick",function(a){let b=this._getEventUI(a);"undefined"==typeof b||b._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.slices.template.events.on("rightclick",function(a){let b=this._getEventUI(a);"undefined"==typeof b||b._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.slices.template.set("templateField","slicesTemplate"),this._oChart.oChartInstance.labels.template.set("templateField","labelStyle"),this._oChart.oChartInstance}},_setProperty:function(a,b){let c=this.validateProperty(a,b);return this.setProperty(a,c,!0),c},_setChartSettings:function(a,b){if("undefined"!=typeof this?._oChart?.oChartInstance){let c=this._convAM5Property(a,b);this._oChart.oChartInstance.set(a,c),this._oChart.oChartInstance.markDirty()}},_convAM5Property:function(a,c){let d=this.getMetadata();if("undefined"==typeof d)return c;let e=d.getProperty(a);if("undefined"==typeof e)return c;switch(e.type){case"sap.ui.core.CSSColor":return b.prototype._getAm5Color(c);case"sap.ui.core.CSSSize":case"sap.ui.core.Percentage":return b.prototype._convAm5CssSize(c);default:return c;}},setInnerRadius:function(a){let b=this._setProperty("innerRadius",a);this._setChartSettings("innerRadius",b)},setRadius:function(a){let b=this._setProperty("radius",a);this._setChartSettings("radius",b)},setStartAngle:function(a){let b=this._setProperty("startAngle",a);this._setChartSettings("startAngle",b)}});return c});