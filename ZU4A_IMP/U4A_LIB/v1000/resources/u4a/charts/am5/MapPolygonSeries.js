sap.ui.define("u4a.charts.am5.MapPolygonSeries",["u4a/charts/am5/MapSeries"],function(a){"use strict";u4a.charts.am5.GeoJSONType={southKoreaHigh:"southKoreaHigh",southKoreaLow:"southKoreaLow",canadaHigh:"canadaHigh",canadaLow:"canadaLow",usaHigh:"usaHigh",usaLow:"usaLow",worldHigh:"worldHigh",worldLow:"worldLow",chinaHigh:"chinaHigh",chinaLow:"chinaLow"},sap.ui.base.DataType.registerEnum("u4a.charts.am5.GeoJSONType",u4a.charts.am5.GeoJSONType);let b=a.extend("u4a.charts.am5.MapPolygonSeries",{metadata:{library:"u4a.charts.am5",properties:{exclude:{type:"string[]",defaultValue:[]},geoJSONType:{type:"u4a.charts.am5.GeoJSONType",defaultValue:"worldLow"},include:{type:"string[]",defaultValue:void 0}},events:{click:{},dblclick:{},rightclick:{}}},init:function(){a.prototype.init.apply(this,arguments),this._aExcludeProp=["geoJSONType"]},renderer:function(){},exit:function(){a.prototype.exit.apply(this,arguments)},_getGeodataJSON:function(){return new Promise(async function(a){var b=this.getGeoJSONType();let c=sap.ui.require.toUrl("am5Chart")+`/geodata/json/${b}.json`;try{var d=await am5.net.load(c)}catch(a){return}try{return a(am5.JSONParser.parse(d.response))}catch(a){}}.bind(this))},_fireEvent:function(a){if("undefined"==typeof a?.target?.dataItem?.component)return;if("undefined"==typeof a?.target?.dataItem?.dataContext)return;if("undefined"==typeof a?.point)return;let b=a.type,c=a.target.dataItem,d=a.point,e={};e.CNTRY=c?.dataContext?.CNTRY,e.TYPE=c?.dataContext?.TYPE,e.areaId=c?.dataContext?.id,e.name=c?.dataContext?.name,e.item=this,e.pointX=d.x,e.pointY=d.y,this.fireEvent(b,e)},_createMapPolygonSeries:function(a){return new Promise(async function(b){if("undefined"==typeof a?._oChart?.oRoot)return b();let c=this._getChartProperies(this._aExcludeProp);return c.geoJSON=await this._getGeodataJSON(),this._oChart.oChartInstance=am5map.MapPolygonSeries.new(a._oChart.oRoot,c),this._oChart.oChartInstance.mapPolygons.template.events.on("click",function(a){this._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.mapPolygons.template.events.on("dblclick",function(a){this._fireEvent(a)}.bind(this)),this._oChart.oChartInstance.mapPolygons.template.events.on("rightclick",function(a){this._fireEvent(a)}.bind(this)),this._oChart.oRoot=a._oChart.oRoot,b(this._oChart.oChartInstance)}.bind(this))},setGeoJSONType:function(a){this._setProperty("geoJSONType",a);"undefined"==typeof this?._oChart?.oChartInstance||this._getGeodataJSON().then(function(a){this._oChart.oChartInstance.set("geoJSON",a);let b=this.getParent();"undefined"==typeof b?._oChart?.oChartInstance||b._oChart.oChartInstance.set("zoomLevel",1)}.bind(this))},setExclude:function(a){let b=this._setProperty("exclude",a);this._setChartSettings("exclude",b)},setInclude:function(a){let b=this._setProperty("include",a);this._setChartSettings("include",b)}});return b});