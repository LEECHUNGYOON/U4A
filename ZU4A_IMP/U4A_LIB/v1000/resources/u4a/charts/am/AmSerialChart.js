sap.ui.define("u4a.charts.am.AmSerialChart",["sap/ui/core/Control"],function(a){"use strict";var b=a.extend("u4a.charts.am.AmSerialChart",{metadata:{library:"u4a.charts.am",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"320px"},title:{type:"string",defaultValue:""},visible:{type:"boolean",defaultValue:!0},styleClass:{type:"string",defaultValue:""},showLegend:{type:"boolean",defaultValue:!0},rotate:{type:"boolean",defaultValue:!1},legendPosition:{type:"string",defaultValue:"bottom"},legendAlign:{type:"string",defaultValue:"center"},columnWidth:{type:"float",defaultValue:.8},fontSize:{type:"int",defaultValue:11}},events:{init:{allowPreventDefault:!0},clickGraphItem:{allowPreventDefault:!0},clickGraph:{allowPreventDefault:!0},changed:{allowPreventDefault:!0},rightClickGraphItem:{allowPreventDefault:!0},rollOverGraph:{allowPreventDefault:!0},rollOverGraphItem:{allowPreventDefault:!0}}},init:function(){"undefined"==typeof window.AmCharts&&jQuery.u4aJSloadAsync("/zu4a_imp/tools/amchart/v343/amcharts/amcharts.js",function(){}),"undefined"==typeof window.AmCharts.AmSerialChart&&jQuery.u4aJSloadAsync("/zu4a_imp/tools/amchart/v343/amcharts/serial.js",function(){}),this._c=new AmCharts.AmSerialChart,this._setChartEvent()},renderer:function(a,b){a.write("<div"),a.writeControlData(b),a.addStyle("width",b.getWidth()),a.addStyle("height",b.getHeight()),a.writeStyles(),a.write(">"),a.write("</div>")},onBeforeRendering:function(){},onAfterRendering:function(){this._createChart()},exit:function(){},_setChart:function(){this._c.creditsPosition="top-right",this._c.categoryAxis.gridPosition="start",this._c.plotAreaBorderColor="#DADADA",this._c.plotAreaBorderAlpha=1,this._setTitle(this.getTitle()),this.getVisible()||(document.getElementById(this.getId()).hidden=!0),this._setStyleClass(this.getStyleClass()),this._setLegend(this.getShowLegend()),this._c.rotate=this.getRotate(),this._c.columnWidth=this.getColumnWidth(),this._c.fontSize=this.getFontSize(),this._c.validateData(),this._c.validateNow()},_createChart:function(){return 2===this._c.events.init.length?(this._c.write(this.getId()),this._c.validateData(),void this._c.validateNow()):void(this._c.addListener("init",function(){this._setChart()}.bind(this)),this._c.write(this.getId()))},_setChartEvent:function(){if(this._c){var a=this;this._c.addListener("init",function(b){a.fireInit(b)}),this._c.addListener("clickGraphItem",function(b){a.fireClickGraphItem(b)}),this._c.addListener("clickGraph",function(b){a.fireClickGraph(b)}),this._c.addListener("changed",function(b){a.fireChanged(b)}),this._c.addListener("rightClickGraphItem",function(b){a.fireRightClickGraphItem(b)}),this._c.addListener("rollOverGraph",function(){a.fireRollOverGraph()}),this._c.addListener("rollOverGraphItem",function(b){a.fireRollOverGraphItem(b)})}},_setLegend:function(a,b){if(this._c){this._c.removeLegend();var c=new AmCharts.AmLegend;c.enabled=a,c.align=this.getLegendAlign(),c.position=this.getLegendPosition(),""===c.position&&(c.position="bottom"),this._c.addLegend(c),b&&this._c.validateNow()}},_setChartProp:function(a,b){this._c&&(this._c[a]=b,this._c.validateNow(),this._c.validateData())},_setStyleClass:function(a){if(!this.aCustomStyleClasses)return"undefined"==typeof a||null===a?void 0:void this.addStyleClass(a);for(var b=this.aCustomStyleClasses.length,c=0;c<b;c++)this.removeStyleClass(this.aCustomStyleClasses[0]);"undefined"==typeof a||null===a||this.addStyleClass(a)},_setTitle:function(a,b){if(this._c)return this._c.titles=[],"undefined"==typeof a||null===a||""===a?void(b&&this._c.validateNow()):void(this._c.addTitle(a,20),b&&this._c.validateNow())},setWidth:function(a){this.setProperty("width",a,!0);this._c&&this._c.div&&this._c.div.style&&(this._c.div.style.width=a)},setHeight:function(a){this.setProperty("height",a,!0);this._c&&this._c.div&&this._c.div.style&&(this._c.div.style.height=a)},setStyleClass:function(a){this.setProperty("styleClass",a,!0),this._setStyleClass(a)},setTitle:function(a){this.setProperty("title",a,!0),this._setTitle(a,!0)},setVisible:function(a){if(this.setProperty("visible",a,!0),this._c&&this._c.div){var b=!0;a&&(b=!1),this._c.div.hidden=b,this._c.validateNow()}},setShowLegend:function(a){this.setProperty("showLegend",a,!0),this._setLegend(a,!0)},setRotate:function(a){this.setProperty("rotate",a,!0),this._setChartProp("rotate",a)},setLegendPosition:function(a){this.setProperty("legendPosition",a,!0);this._c&&this._c.legend&&(this._c.legend.position=a,""===this._c.legend.position&&(this._c.legend.position="bottom"),this._c.validateNow())},setLegendAlign:function(a){this.setProperty("legendAlign",a,!0);this._c&&this._c.legend&&(this._c.legend.align=a,this._c.validateNow())},setFontSize:function(a){this.setProperty("fontSize",a,!0);this._c&&this._c.legend&&(this._c.legend.fontSize=a,this._setChartProp("fontSize",a))},setColumnWidth:function(a){this.setProperty("columnWidth",a,!0),this._setChartProp("columnWidth",a)}});return b});