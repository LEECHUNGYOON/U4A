sap.ui.define("u4a.charts.am.AmPieChart",["sap/ui/core/Control"],function(a){"use strict";var b=a.extend("u4a.charts.am.AmPieChart",{metadata:{library:"u4a.charts.am",properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"320px"},title:{type:"string",defaultValue:""},visible:{type:"boolean",defaultValue:!0},styleClass:{type:"string",defaultValue:""},showLegend:{type:"boolean",defaultValue:!0},innerRadius:{type:"int",defaultValue:null},labelRadius:{type:"int",defaultValue:null},outlineAlpha:{type:"float",defaultValue:null},outlineColor:{type:"sap.ui.core.CSSColor",defaultValue:null},outlineThickness:{type:"int",defaultValue:null},startDuration:{type:"float",defaultValue:null},legendPosition:{type:"string",defaultValue:"bottom"},legendAlign:{type:"string",defaultValue:"center"},LegendFontSize:{type:"int",defaultValue:11},fontSize:{type:"int",defaultValue:11},radius:{type:"string",defaultValue:null},marginTop:{type:"int",defaultValue:10},marginLeft:{type:"int",defaultValue:null},marginRight:{type:"int",defaultValue:null},marginBottom:{type:"int",defaultValue:10},autoMargins:{type:"boolean",defaultValue:!0},showRadiusText:{type:"boolean",defaultValue:!0},angle:{type:"int",defaultValue:null},depth3D:{type:"int",defaultValue:null},backgroundAlpha:{type:"float",defaultValue:0},backgroundColor:{type:"sap.ui.core.CSSColor",defaultValue:"#FFFFFF"},borderAlpha:{type:"float",defaultValue:0},borderColor:{type:"sap.ui.core.CSSColor",defaultValue:"#000000"},textColor:{type:"sap.ui.core.CSSColor",defaultValue:"#000000"},legendTextColor:{type:"sap.ui.core.CSSColor",defaultValue:"#000000"},showLegendValueText:{type:"boolean",defaultValue:!0},legendMarkerSize:{type:"int",defaultValue:16},legendValueWidth:{type:"int",defaultValue:50},legendVerticalGap:{type:"int",defaultValue:10},legendHorizontalGap:{type:"int",defaultValue:0}},events:{init:{allowPreventDefault:!0},clickSlice:{allowPreventDefault:!0},pullInSlice:{allowPreventDefault:!0},pullOutSlice:{allowPreventDefault:!0},rollOverSlice:{allowPreventDefault:!0}}},init:function(){"undefined"==typeof window.AmCharts&&jQuery.u4aJSloadAsync("/zu4a_imp/tools/amchart/v343/amcharts/amcharts.js",function(){}),"undefined"==typeof window.AmCharts.AmPieChart&&jQuery.u4aJSloadAsync("/zu4a_imp/tools/amchart/v343/amcharts/pie.js",function(){}),this._c=new AmCharts.AmPieChart,this._setChartEvent()},renderer:function(a,b){a.write("<div"),a.writeControlData(b),a.addStyle("width",b.getWidth()),a.addStyle("height",b.getHeight()),a.writeStyles(),a.write(">"),a.write("</div>")},onBeforeRendering:function(){},onAfterRendering:function(){this._createChart()},exit:function(){},_setChart:function(){this._c.creditsPosition="top-right",this._setTitle(this.getTitle()),this.getVisible()||(document.getElementById(this.getId()).hidden=!0),this._setStyleClass(this.getStyleClass()),this._setLegend(this.getShowLegend()),this._c.innerRadius=this.getInnerRadius(),("undefined"==typeof this._c.innerRadius||null===this._c.innerRadius||""===this._c.innerRadius)&&(this._c.innerRadius=0),this._c.labelRadius=this.getLabelRadius(),this._c.outlineAlpha=this.getOutlineAlpha(),this._c.outlineColor=this.getOutlineColor(),this._c.outlineThickness=this.getOutlineThickness(),this._c.fontSize=this.getFontSize(),this._c.marginTop=this.getMarginTop(),this._c.marginBottom=this.getMarginBottom(),this._c.marginLeft=this.getMarginLeft(),this._c.marginRight=this.getMarginRight(),this._c.autoMargins=this.getAutoMargins(),this._c.labelText="[[title]]: [[percents]]%",!1===this.getShowRadiusText()&&(this._c.labelText=""),this._c.radius=this.getRadius(),this._c.angle=this.getAngle(),this._c.depth3D=this.getDepth3D(),this._c.backgroundAlpha=this.getBackgroundAlpha(),this._c.backgroundColor=this.getBackgroundColor(),this._c.borderAlpha=this.getBorderAlpha(),this._c.borderColor=this.getBorderColor(),this._c.color=this.getTextColor(),this._c.validateData(),this._c.validateNow()},_createChart:function(){return 2===this._c.events.init.length?(this._c.write(this.getId()),this._c.validateData(),void this._c.validateNow()):void(this._c.addListener("init",function(){this._setChart()}.bind(this)),this._c.write(this.getId()))},_setChartEvent:function(){if(this._c){var a=this;this._c.addListener("init",function(b){a.fireInit(b)}),this._c.addListener("clickSlice",function(b){a.fireClickSlice(b)}),this._c.addListener("pullInSlice",function(b){a.firePullInSlice(b)}),this._c.addListener("pullOutSlice",function(b){a.firePullOutSlice(b)}),this._c.addListener("rightClickGraphItem",function(b){a.fireRightClickGraphItem(b)}),this._c.addListener("rollOverSlice",function(b){a.fireRollOverSlice(b)})}},_setLegend:function(a,b){if(this._c){this._c.removeLegend();var c=new AmCharts.AmLegend;c.enabled=a,c.align=this.getLegendAlign(),c.position=this.getLegendPosition(),""===c.position&&(c.position="bottom"),c.fontSize=this.getLegendFontSize(),c.color=this.getLegendTextColor(),c.valueText="",!0===this.getShowLegendValueText()&&(c.valueText="[[value]]"),c.valueWidth=this.getLegendValueWidth(),c.verticalGap=this.getLegendVerticalGap(),c.horizontalGap=this.getLegendHorizontalGap(),c.markerSize=this.getLegendMarkerSize(),this._c.addLegend(c),b&&(this._c.validateData(),this._c.validateNow())}},_setChartProp:function(a,b){this._c&&(this._c[a]=b,this._c.validateNow())},_setStyleClass:function(a){if(!this.aCustomStyleClasses)return"undefined"==typeof a||null===a?void 0:void this.addStyleClass(a);for(var b=this.aCustomStyleClasses.length,c=0;c<b;c++)this.removeStyleClass(this.aCustomStyleClasses[0]);"undefined"==typeof a||null===a||this.addStyleClass(a)},_setTitle:function(a,b){if(this._c)return this._c.titles=[],"undefined"==typeof a||null===a||""===a?void(b&&this._c.validateNow()):void(this._c.addTitle(a,20),b&&this._c.validateNow())},setWidth:function(a){this.setProperty("width",a,!0);this._c&&this._c.div&&this._c.div.style&&(this._c.div.style.width=a,this._c.validateNow())},setHeight:function(a){this.setProperty("height",a,!0);this._c&&this._c.div&&this._c.div.style&&(this._c.div.style.height=a,this._c.validateNow())},setStyleClass:function(a){this.setProperty("styleClass",a,!0),this._setStyleClass(a)},setTitle:function(a){this.setProperty("title",a,!0),this._setTitle(a,!0)},setVisible:function(a){if(this.setProperty("visible",a,!0),this._c&&this._c.div){var b=!0;a&&(b=!1),this._c.div.hidden=b,this._c.validateNow()}},setShowLegend:function(a){this.setProperty("showLegend",a,!0),this._setLegend(a,!0)},setInnerRadius:function(a){this.setProperty("innerRadius",a,!0);this._c&&(this._c.innerRadius=a,("undefined"==typeof a||null===a||""===a)&&(this._c.innerRadius=0),this._c.validateNow())},setLabelRadius:function(a){this.setProperty("labelRadius",a,!0),this._setChartProp("labelRadius",a)},setOutlineAlpha:function(a){this.setProperty("outlineAlpha",a,!0),this._setChartProp("outlineAlpha",a)},setOutlineColor:function(a){this.setProperty("outlineColor",a,!0),this._setChartProp("outlineColor",a)},setOutlineThickness:function(a){this.setProperty("outlineThickness",a,!0),this._setChartProp("outlineThickness",a)},setStartDuration:function(a){this.setProperty("startDuration",a,!0),this._setChartProp("startDuration",a)},setLegendPosition:function(a){this.setProperty("legendPosition",a,!0);this._c&&this._c.legend&&(this._c.legend.position=a,""===this._c.legend.position&&(this._c.legend.position="bottom"),this._c.validateNow())},setLegendAlign:function(a){this.setProperty("legendAlign",a,!0);this._c&&this._c.legend&&(this._c.legend.align=a,this._c.validateNow())},setLegendFontSize:function(a){this.setProperty("LegendFontSize",a,!0);this._c&&this._c.legend&&(this._c.legend.fontSize=a,this._c.validateNow())},setFontSize:function(a){this.setProperty("fontSize",a,!0),this._setChartProp("fontSize",a)},setRadius:function(a){this.setProperty("radius",a,!0),this._setChartProp("radius",a)},setMarginTop:function(a){this.setProperty("marginTop",a,!0),this._setChartProp("marginTop",a)},setMarginBottom:function(a){this.setProperty("marginBottom",a,!0),this._setChartProp("marginBottom",a)},setMarginLeft:function(a){this.setProperty("marginLeft",a,!0),this._setChartProp("marginLeft",a)},setMarginRight:function(a){this.setProperty("marginRight",a,!0),this._setChartProp("marginRight",a)},setAutoMargins:function(a){this.setProperty("autoMargins",a,!0),this._setChartProp("autoMargins",a)},setShowRadiusText:function(a){if(this.setProperty("showRadiusText",a,!0),!!this._c){var b="[[title]]: [[percents]]%";!1===a&&(b=""),this._c.labelText=b,this._c.validateNow()}},setAngle:function(a){this.setProperty("angle",a,!0),this._setChartProp("angle",a)},setDepth3D:function(a){this.setProperty("depth3D",a,!0),this._setChartProp("depth3D",a)},setBackgroundAlpha:function(a){this.setProperty("backgroundAlpha",a,!0),this._setChartProp("backgroundAlpha",a)},setBackgroundColor:function(a){this.setProperty("backgroundColor",a,!0),this._setChartProp("backgroundColor",a)},setBorderAlpha:function(a){this.setProperty("borderAlpha",a,!0),this._setChartProp("borderAlpha",a)},setBorderColor:function(a){this.setProperty("borderColor",a,!0),this._setChartProp("borderColor",a)},setTextColor:function(a){this.setProperty("textColor",a,!0),this._setChartProp("color",a)},setLegendTextColor:function(a){this.setProperty("legendTextColor",a,!0);this._c&&this._c.legend&&(this._c.legend.color=a,this._c.validateNow())},setShowLegendValueText:function(a){this.setProperty("showLegendValueText",a,!0);this._c&&this._c.legend&&(this._c.legend.valueText="",!0===a&&(this._c.legend.valueText="[[value]]"),this._c.validateNow())},setLegendMarkerSize:function(a){this.setProperty("legendMarkerSize",a,!0);this._c&&this._c.legend&&(this._c.legend.markerSize=a,this._c.validateNow())},setLegendValueWidth:function(a){this.setProperty("legendValueWidth",a,!0);this._c&&this._c.legend&&(this._c.legend.valueWidth=a,this._c.validateNow())},setLegendVerticalGap:function(a){this.setProperty("legendVerticalGap",a,!0);this._c&&this._c.legend&&(this._c.legend.verticalGap=a,this._c.validateNow())},setLegendHorizontalGap:function(a){this.setProperty("legendHorizontalGap",a,!0);this._c&&this._c.legend&&(this._c.legend.horizontalGap=a,this._c.validateNow())}});return b});