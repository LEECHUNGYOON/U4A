sap.ui.define("u4a.util.PressTrigger",["sap/ui/core/Control"],function(a){"use strict";var b=a.extend("u4a.util.PressTrigger",{metadata:{library:"u4a.util",properties:{second:{type:"int",defaultValue:0},immediateRun:{type:"boolean",defaultValue:!0}},events:{finished:{allowPreventDefault:!0}}},renderer:function(a,b){a.write("<div"),a.writeControlData(b),a.writeAttribute("visibility","hidden"),a.addStyle("display","none"),a.writeStyles(),a.write(">"),a.write("</div>")},onAfterRendering:function(a){var b=a.srcControl;b._setBrowserDocumentEvent(),b._runActionTrigger()},_setBrowserDocumentEvent:function(){var a=sap.ui.Device.os.name;this.EventHandler=this._documentEventTriggered.bind(this),!0==this.getImmediateRun()?("win"==a?$(window).bind("click",this.EventHandler):$(window).bind("touchstart",this.EventHandler),$(document).on("keyup",this.EventHandler)):("win"==a?$(window).unbind("click"):$(window).unbind("touchstart"),$(document).off("keyup"))},_runActionTrigger:function(){var a=1e3*this.getSecond(),b=this.getImmediateRun();this.TriggerInterval&&(clearInterval(this.TriggerInterval),this.TriggerInterval=null);!1==b||(this.TriggerInterval=setInterval(function(){this.setImmediateRun(!1),clearInterval(this.TriggerInterval),this.TriggerInterval=null,this.fireFinished()}.bind(this),a))},_documentEventTriggered:function(){this._runActionTrigger()}});return b});