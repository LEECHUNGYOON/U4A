//@ui5-bundle sap/ui/richtexteditor/library-preload.js
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/RTESplitButton", ["sap/m/SplitButton","./RTESplitButtonRenderer"],function(t){"use strict";var e=t.extend("sap.ui.richtexteditor.RTESplitButton",{metadata:{properties:{currentColor:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:"rgb(0, 0, 0)"}},interfaces:["sap.m.IOverflowToolbarContent"],library:"sap.ui.richtexteditor"}});e.prototype.init=function(){t.prototype.init.apply(this,arguments);this._cachedElem=this._createIcon()};e.prototype._createIcon=function(){var t,e,r,o,n,i={x:"1",y:"12",width:"14",height:"3",rx:"0.2",ry:"0.2"},l="http://www.w3.org/2000/svg";t=document.createElementNS(l,"svg");t.setAttribute("class","rteFontColorIcon");t.setAttribute("viewBox","0 0 16 16");t.style.fill=this.getCurrentColor();e=document.createElementNS(l,"path");e.setAttribute("d","M662.477,379.355h3.038l.806,2.7h1.163l-2.729-9h-1.518l-2.753,9h1.21Zm1.519-5.4,1.281,4.5h-2.586Z");e.setAttribute("transform","translate(-656.047 -373.055)");t.appendChild(e);r=document.createElementNS(l,"rect");r.setAttribute("class","outline");o=document.createElementNS(l,"rect");o.setAttribute("class","fill");for(n in i){r.setAttribute(n,i[n]);o.setAttribute(n,i[n])}t.appendChild(r);t.appendChild(o);return t};e.prototype.onAfterRendering=function(){t.prototype.onAfterRendering.apply(this,arguments);this.$().find(".sapMSBText .sapMBtnInner").html(this._cachedElem)};e.prototype.onBeforeRendering=function(){this.addStyleClass("sapRTESB")};e.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._cachedElem=null};e.prototype._getIconSvgFill=function(){return this._cachedElem&&this._cachedElem.querySelector(".fill")};e.prototype.getIconColor=function(){return this.getCurrentColor()};e.prototype.setIconColor=function(t){var e=this._getIconSvgFill();if(e){e.style.fill=t}this.setProperty("currentColor",t,false);return this};return e});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/RTESplitButtonRenderer", ["sap/m/SplitButtonRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var n=r.extend(e);n.apiVersion=2;n.render=function(r,n){e.render.apply(this,[r,n])};return n},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/RichTextEditor", ["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/Popup","sap/ui/core/ResizeHandler","./library","./ToolbarWrapper","sap/ui/dom/includeScript","sap/base/Log","sap/base/security/sanitizeHTML","sap/ui/events/KeyCodes","sap/ui/core/Core","./RichTextEditorRenderer"],(function(jQuery,t,e,i,o,r,n,s,a,u,p,l,h){"use strict";var d=e.TextDirection,y="Initial",c="Loading",g="Initializing",E="Loaded",_="Ready",T="Destroyed",b=t.extend("sap.ui.richtexteditor.RichTextEditor",{metadata:{library:"sap.ui.richtexteditor",properties:{value:{type:"string",group:"Data",defaultValue:""},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:d.Inherit},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},editorType:{type:"string",group:"Misc",defaultValue:"TinyMCE"},editorLocation:{type:"string",group:"Misc",defaultValue:"js/tiny_mce6/tinymce.js",deprecated:!0},editable:{type:"boolean",group:"Misc",defaultValue:!0},showGroupFontStyle:{type:"boolean",group:"Misc",defaultValue:!0},showGroupTextAlign:{type:"boolean",group:"Misc",defaultValue:!0},showGroupStructure:{type:"boolean",group:"Misc",defaultValue:!0},showGroupFont:{type:"boolean",group:"Misc",defaultValue:!1},showGroupClipboard:{type:"boolean",group:"Misc",defaultValue:!0},showGroupInsert:{type:"boolean",group:"Misc",defaultValue:!1},showGroupLink:{type:"boolean",group:"Misc",defaultValue:!1},showGroupUndo:{type:"boolean",group:"Misc",defaultValue:!1},wrapping:{type:"boolean",group:"Appearance",defaultValue:!0},required:{type:"boolean",group:"Misc",defaultValue:!1},sanitizeValue:{type:"boolean",group:"Misc",defaultValue:!0},plugins:{type:"object[]",group:"Behavior",defaultValue:[]},useLegacyTheme:{type:"boolean",group:"Appearance",defaultValue:!0,deprecated:!0},buttonGroups:{type:"object[]",group:"Behavior",defaultValue:[]},customToolbar:{type:"boolean",group:"Misc",defaultValue:!1}},events:{change:{parameters:{newValue:{type:"string"}}},ready:{},readyRecurring:{},beforeEditorInit:{}},aggregations:{_toolbarWrapper:{type:"sap.ui.richtexteditor.IToolbar",multiple:!1,visibility:"hidden",defaultValue:null},customButtons:{type:"sap.ui.core.Control",multiple:!0,singularName:"customButton",defaultValue:null}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"}}}});b._lastId=0,b._iCountInstances=0,b.BUTTON_GROUPS=n.ButtonGroups,b.EDITORTYPE_TINYMCE5=n.EditorType.TinyMCE5,b.EDITORTYPE_TINYMCE6=n.EditorType.TinyMCE6,b.EDITORTYPE_TINYMCE=n.EditorType.TinyMCE;var f={};f[b.EDITORTYPE_TINYMCE]="js/tiny_mce6/tinymce.min.js",f[b.EDITORTYPE_TINYMCE5]="js/tiny_mce5/tinymce.min.js",f[b.EDITORTYPE_TINYMCE6]="js/tiny_mce6/tinymce.min.js",b.DEFAULT_PLUGINS_TINYMCE5=["emoticons","directionality","tabfocus","table","image","link","textcolor","colorpicker","textpattern","powerpaste"],b.DEFAULT_PLUGINS_TINYMCE6=["emoticons","directionality","image","table","link","powerpaste"],b.MAPPED_LANGUAGES_TINYMCE={bg:"bg_BG",en_US:"en_GB",fr:"fr_FR",fr_CA:"fr_FR",hu:"hu_HU",in:"id",iw:"he",ji:"yi",ko:"ko_KR",no:"nb",pt:"pt_PT",sh:"sr",sl:"sl_SI",sv:"sv_SE",th:"th_TH"},b.SUPPORTED_LANGUAGES_TINYMCE={en:!0,af_ZA:!0,ar_SA:!0,ar:!0,az:!0,be:!0,bg_BG:!0,bn_BD:!0,bs:!0,ca:!0,cs_CZ:!0,cs:!0,cy:!0,da:!0,de_AT:!0,de:!0,dv:!0,el:!0,en_CA:!0,en_GB:!0,es_MX:!0,es:!0,et:!0,eu:!0,fa_IR:!0,fa:!0,fi:!0,fo:!0,fr_FR:!0,ga:!0,gd:!0,gl:!0,he_IL:!0,hi:!0,hi_IN:!0,hr:!0,hu_HU:!0,hy:!0,id:!0,is_IS:!0,it:!0,ja:!0,ka_GE:!0,kab:!0,kk:!0,km_KH:!0,ko_KR:!0,ku_IQ:!0,ku:!0,lb:!0,lt:!0,lv:!0,ml_IN:!0,ml:!0,mn_MN:!0,nb_NO:!0,nl:!0,pl:!0,pt_BR:!0,pt_PT:!0,ro:!0,ru:!0,si_LK:!0,sk:!0,sl_SI:!0,sl:!0,sr:!0,sv_SE:!0,ta_IN:!0,ta:!0,tg:!0,th_TH:!0,tr_TR:!0,tr:!0,tt:!0,ug:!0,uk_UA:!0,uk:!0,uz:!0,vi_VN:!0,vi:!0,zh_CN:!0,zh_TW:!0},b.SUPPORTED_LANGUAGES_TINYMCE5={eo:!0,es_ES:!0,it_IT:!0,ro_RO:!0},b.SUPPORTED_LANGUAGES_TINYMCE6={eo:!0,es_ES:!0,it_IT:!0,ro_RO:!0},b.SUPPORTED_LANGUAGES_DEFAULT_REGIONS={zh:"CN",fr:"FR",bn:"BD",bg:"BG",ka:"GE",he:"IL",hi:"IN",hu:"HU",is:"IS",km:"KH",ko:"KR",ku:"IQ",ml:"IN",mn:"MN",nb:"NO",pt:"PT",si:"SI",sl:"SI",sv:"SE",th:"TH",tr:"TR",vi:"VN"},b.SUPPORTED_LANGUAGES_DEFAULT_REGIONS_TINYMCE6={zh:"CN",fr:"FR",bn:"BD",bg:"BG",ka:"GE",he:"IL",hu:"HU",is:"IS",km:"KH",ko:"KR",ku:"IQ",ml:"IN",mn:"MN",nb:"NO",pt:"PT",si:"SI",sl:"SI",sv:"SE",th:"TH"},b.pLoadTinyMCE=null;var C={};return C[b.EDITORTYPE_TINYMCE]=b.EDITORTYPE_TINYMCE6,C[b.EDITORTYPE_TINYMCE5]=b.EDITORTYPE_TINYMCE5,C[b.EDITORTYPE_TINYMCE6]=b.EDITORTYPE_TINYMCE6,b.loadTinyMCE=function(t){if(t){var e=sap.ui.require.toUrl("sap/ui/richtexteditor/"+t),i=document.querySelector("#sapui5-tinyMCE");e!==(i?i.getAttribute("src"):"")&&1===b._iCountInstances&&(delete window.tinymce,delete window.TinyMCE,b.pLoadTinyMCE=null),b.pLoadTinyMCE||(b.pLoadTinyMCE=a({id:"sapui5-tinyMCE",url:e}))}return b.pLoadTinyMCE},b.prototype.init=function(){var t=C[this.getEditorType()]||b.EDITORTYPE_TINYMCE;this._bEditorCreated=!1,this._sTimerId=null,b._iCountInstances++,this._textAreaId=this.getId()+"-textarea",this._iframeId=this._textAreaId+"_ifr",this._textAreaDom=document.createElement("textarea"),this._textAreaDom.id=this._textAreaId,this._textAreaDom.style.height="100%",this._textAreaDom.style.width="100%",this.setEditorType(t),this._setupToolbar(),this._uid=sap.ui.requireSync("sap/base/util/uid")},b.prototype.onBeforeRendering=function(){this._customToolbarEnablement();var t=this.getAggregation("_toolbarWrapper");t&&t.setToolbarEnabled(this.getEditable(),!0),!this._bCustomToolbarRequirementsFullfiled&&this.getCustomToolbar()&&u.warning("Cannot set custom toolbar - not all requirements are fulfilled."),this.isPropertyInitial("editorType")&&u.info("You are using the default value of the editorType which is subject to changes and might affect your application."),this.onBeforeRenderingTinyMCE()},b.prototype.onAfterRendering=function(){if(void 0===window?.oU4A?.taskPromiseStack)return void this.onAfterRenderingTinyMCE();let t=this.sId,e=this._uid(),i=new Promise((function(i){!function o(){setTimeout((()=>{let r=sap.ui.getCore().byId(t)||void 0;if(void 0===r){if(void 0!==window?.oU4AErroHandle?.seterroHTML){var n="[U4A Error] rich Text Editor UI Instance not found.";throw oU4AErroHandle.seterroHTML(n),zu4aGFwating(!1),new Error(n)}return i(e)}"undefined"!==r?._oEditor?.container?"undefined"!==r?._oEditor?.contentAreaContainer&&r?._oEditor?.contentAreaContainer&&0!==r._oEditor.contentAreaContainer.getElementsByTagName("iframe").length?i(e):o():o()}),100)}()}));i.uKey=e,oU4A.taskPromiseStack.push(i),this.onAfterRenderingTinyMCE()},b.prototype.reinitialize=function(){clearTimeout(this._iReinitTimeout),this._iReinitTimeout=window.setTimeout(this.reinitializeTinyMCE.bind(this),0)},b.prototype.getNativeApi=function(){return this.getNativeApiTinyMCE()},b.prototype.exit=function(){clearTimeout(this._reinitDelay),this.exitTinyMCE(),b._iCountInstances--},b.prototype.setValue=function(t){return t=null==t?"":t,this.getSanitizeValue()&&(u.trace("sanitizing HTML content for "+this),t=p(t)),t===this.getValue()||(this.setProperty("value",t,!0),t=this.getProperty("value"),C[this.getEditorType()]?this.setValueTinyMCE(t):this.reinitialize()),this},b.prototype.setEditable=function(t){var e=this.getAggregation("_toolbarWrapper");return this.setProperty("editable",t,!0),e&&e.setToolbarEnabled(t,!0),this.reinitialize(),this},b.prototype.setWrapping=function(t){return this.setProperty("wrapping",t,!0),this.reinitialize(),this},b.prototype.setRequired=function(t){return this.setProperty("required",t,!0),this.reinitialize(),this},b.prototype._setShowGroup=function(t,e){var i=this.getAggregation("_toolbarWrapper");return this.setProperty(e.property,t,!0),this.setButtonGroupVisibility(e.buttonGroup,t),i?(i.setShowGroup(e.buttonGroup,t),this):(this.reinitialize(),this)},b.prototype.setShowGroupFontStyle=function(t){return this._setShowGroup(t,{property:"showGroupFontStyle",buttonGroup:"font-style"})},b.prototype.setShowGroupTextAlign=function(t){return this._setShowGroup(t,{property:"showGroupTextAlign",buttonGroup:"text-align"})},b.prototype.setShowGroupStructure=function(t){return this._setShowGroup(t,{property:"showGroupStructure",buttonGroup:"structure"})},b.prototype.setShowGroupFont=function(t){return this._setShowGroup(t,{property:"showGroupFont",buttonGroup:"font"})},b.prototype.setShowGroupClipboard=function(t){return this._setShowGroup(t,{property:"showGroupClipboard",buttonGroup:"clipboard"})},b.prototype.setShowGroupInsert=function(t){return this._setShowGroup(t,{property:"showGroupInsert",buttonGroup:"insert"})},b.prototype.setShowGroupLink=function(t){return this._setShowGroup(t,{property:"showGroupLink",buttonGroup:"link"})},b.prototype.setShowGroupUndo=function(t){return this._setShowGroup(t,{property:"showGroupUndo",buttonGroup:"undo"})},b.prototype.setCustomToolbar=function(t){return this._tinyMCEStatus&&this._tinyMCEStatus!==y?u.error("Cannot set customToolbar property to "+t+" after initialization.",this):this.setProperty("customToolbar",t),this},b.prototype.addPlugin=function(t){"string"==typeof t&&(t={name:t});var e=this.getProperty("plugins")||[];return!e.some((function(e){return e.name===t.name}))&&e.push(t),this.setProperty("plugins",e),this.reinitialize(),this},b.prototype.removePlugin=function(t){for(var e=this.getProperty("plugins").slice(0),i=0;i<e.length;++i)e[i].name===t&&(e.splice(i,1),--i);return this.setProperty("plugins",e),this.reinitialize(),this},b.prototype.addButtonGroup=function(t){var e=this.getProperty("buttonGroups").slice(),i=this.getAggregation("_toolbarWrapper");if(!t)return this;for(var o=0;o<e.length;++o)if("string"==typeof t&&e[o].name===t||e[o].name===t.name)return u.warning("Trying to add already existing group: "+("string"==typeof t?t:t.name)+". Please remove the group first and then add it.",this),this;if(!("object"!=typeof t||t.name&&Array.isArray(t.buttons)))return u.error("The properties 'name' and 'buttons' are mandatory for the group configuration object. Please make sure they exist within the provided configuration.",this),this;if(!("object"!=typeof t||Array.isArray(t.buttons)&&t.buttons.length))return u.error("The 'buttons' array of the provided group configuration object cannot be empty.",this),this;if("string"==typeof t)switch(t){case"formatselect":t={name:"formatselect",buttons:["formatselect"]};break;case"styleselect":t={name:"styleselect",buttons:["styleselect"],customToolbarPriority:40};break;case"table":t={name:"table",buttons:["table"],customToolbarPriority:90};break;case"blocks":t={name:"blocks",buttons:["blocks"]};break;case"styles":t={name:"styles",buttons:["styles"],customToolbarPriority:40};break;default:t={name:this._createId("buttonGroup"),buttons:[t]}}this._checkAndUpdateGroupInfo(t);var r=this.getButtonGroups();return r.push(t),this.setProperty("buttonGroups",r),i&&i.addButtonGroupToContent(t),this},b.prototype.removeButtonGroup=function(t){for(var e=this.getProperty("buttonGroups").slice(0),i=this.getAggregation("_toolbarWrapper"),o=0;o<e.length;++o)e[o].name===t&&(e.splice(o,1),--o,i&&i.removeButtonGroup(t));return this.setProperty("buttonGroups",e),this.reinitialize(),this},b.prototype.setButtonGroups=function(t){var e;return Array.isArray(t)?(t.forEach(this._checkAndUpdateGroupInfo),this.setProperty("buttonGroups",t),(e=this.getAggregation("_toolbarWrapper"))&&e.setButtonGroups(t),this.reinitialize(),this):(u.error("Button groups cannot be set: "+t+" is not an array."),this)},b.prototype._checkAndUpdateGroupInfo=function(t){void 0===t.visible&&(t.visible=!0),void 0===t.priority&&(t.priority=10),void 0===t.row&&(t.row=0)},b.prototype.setPlugins=function(t){var e;return Array.isArray(t)?(e=t.filter((function(t){return"lists"===t.name})),this.getShowGroupStructure()&&!e.length&&t.push({name:"lists"}),this.setProperty("plugins",t)):(u.error("Plugins cannot be set: "+t+" is not an array."),this)},b.prototype.setButtonGroupVisibility=function(t,e){for(var i=this.getButtonGroups(),o=0,r=i.length;o<r;++o)i[o].name===t&&(i[o].visible=e);return this},b.prototype._createId=function(t){return void 0===t&&(t="_rte"),t+b._lastId++},b.prototype._setupToolbar=function(){var t=function(t){return t.map((function(t){return{name:t}}))},e={TinyMCE:t(b.DEFAULT_PLUGINS_TINYMCE6),TinyMCE6:t(b.DEFAULT_PLUGINS_TINYMCE6)};e.TinyMCE5=t(b.DEFAULT_PLUGINS_TINYMCE5),this.setPlugins(e[this.getEditorType()]);var i={TinyMCE:["fontfamily","fontsize","forecolor","backcolor"],TinyMCE6:["fontfamily","fontsize","forecolor","backcolor"],TinyMCE5:["fontselect","fontsizeselect","forecolor","backcolor"]};this.setButtonGroups([{name:"font-style",visible:this.getShowGroupFontStyle(),row:0,priority:10,customToolbarPriority:20,buttons:["bold","italic","underline","strikethrough"]},{name:"font",visible:this.getShowGroupFont(),row:0,priority:30,customToolbarPriority:50,buttons:i[this.getEditorType()]},{name:"clipboard",visible:this.getShowGroupClipboard(),row:1,priority:10,customToolbarPriority:110,buttons:["cut","copy","paste"]},{name:"structure",visible:this.getShowGroupStructure(),row:1,priority:20,customToolbarPriority:60,buttons:["bullist","numlist","outdent","indent"]},{name:"undo",visible:this.getShowGroupUndo(),row:1,priority:40,customToolbarPriority:100,buttons:["undo","redo"]},{name:"insert",visible:this.getShowGroupInsert(),row:1,priority:50,customToolbarPriority:80,buttons:["image","emoticons"]},{name:"link",visible:this.getShowGroupLink(),row:1,priority:60,customToolbarPriority:70,buttons:["link","unlink"]},{name:"text-align",visible:this.getShowGroupTextAlign(),row:0,priority:20,customToolbarPriority:30,buttons:["alignleft","aligncenter","alignright","alignjustify"]},{name:"table",buttons:["table"],customToolbarPriority:90,visible:!0,priority:10,row:0}])},b.prototype.setEditorType=function(t){return this._bEditorCreated?u.error("editorType property cannot be set after the RichtextEditor has been rendered"):(this.setProperty("editorType",t),t=this.getEditorType(),this._setupToolbar(),C[t]||(this.setProperty("editorType",b.EDITORTYPE_TINYMCE),u.error("Invalid editorType value set. Fallbacks to latest.")),"TinyMCE5"===C[t]&&u.warning("TinyMCE version 5 is used as editor type. TinyMCE 5 is depreacated and will be removed from the code entirely in future."),this.initTinyMCE()),this},b.prototype.setEditorLocation=function(t){return this._bEditorCreated?u.error("editorLocation property cannot be set after the RichtextEditor has been rendered"):this.setProperty("editorLocation",t),this},b.prototype._createButtonRowsTinyMCE=function(t,e){t=void 0===t?",":t,e=void 0===e?"|":e;var i,o,r,n=this.getButtonGroups(),s=t+e+t,a={},u="";for(i=0,o=n.length;i<o;++i)a[(r=n[i]).priority]||(a[r.priority]=[]),void 0===r.priority&&(r.priority=Number.MAX_VALUE),a[r.priority].push(r);for(var p in a)for(i=0,o=a[p].length;i<o;++i)(r=a[p][i]).visible&&r.buttons&&0!==r.buttons.length&&(u||(u=""),u+=r.buttons.join(t)+s);return u},b.prototype._createPluginsListTinyMCE=function(){for(var t=this.getPlugins(),e=[],i=0,o=t.length;i<o;++i)e.push(t[i].name);return e.join(",")},b.prototype.onTinyMCEChange=function(t){var e=this.getValue(),i=t.getContent(),o=this.getSanitizeValue()?p(i):i;e===o||this.bExiting||(this.setProperty("value",o,!0),this.fireChange({oldValue:e,newValue:o}))},b.prototype.initTinyMCE=function(){this._oEditor=null,this._tinyMCEStatus=y,this._boundResizeEditorTinyMCE=this._resizeEditorTinyMCE.bind(this),this._bInitializationPending=!1,this._lastRestHeight=0},b.prototype.exitTinyMCE=function(){this._bUnloading=!0,r.deregister(this._resizeHandlerId),this._resizeHandlerId=null,this._removeEditorTinyMCE()},b.prototype._removeEditorTinyMCE=function(){switch(this._tinyMCEStatus){case y:case c:case E:break;case g:this._pTinyMCEInitialized.then(this._removeEditorTinyMCE.bind(this,this._oEditor));break;case _:this._oEditor.remove(),this._tinyMCEStatus=T,this._boundResizeEditorTinyMCE=null,this._oEditor=null;break;case T:break;default:u.error("Unknown TinyMCE status: "+this._tinyMCEStatus)}},b.prototype._shouldLoadTinyMCE=function(){var t=this.getEditorType();return!window.tinymce||(t===b.EDITORTYPE_TINYMCE5?"5"!=window.tinymce.majorVersion:t===b.EDITORTYPE_TINYMCE6&&"6"!=window.tinymce.majorVersion)},b.prototype.onBeforeRenderingTinyMCE=function(){if(this._shouldLoadTinyMCE()){var t=f[this.getEditorType()];this._tinyMCEStatus=c,this._pTinyMCELoaded=b.loadTinyMCE(t).then(function(){this._tinyMCEStatus=E}.bind(this))}else this._pTinyMCELoaded=Promise.resolve(),this._tinyMCEStatus=E},b.prototype.onAfterRenderingTinyMCE=function(){var t=this.getDomRef();if(this._shouldLoadTinyMCE())this._pTinyMCELoaded.then(this.onAfterRenderingTinyMCE.bind(this));else if(t)switch(this._tinyMCEStatus){case g:t.appendChild(this._textAreaDom);break;case E:case c:this.getDomRef().appendChild(this._textAreaDom),this.reinitializeTinyMCE();break;case _:t.appendChild(this._textAreaDom),this.reinitializeTinyMCE();break;default:u.error("Unknown TinyMCE status: "+this._tinyMCEStatus)}},b.prototype.reinitializeTinyMCE=function(){if(!this._bInitializationPending&&!this._bUnloading){var t=function(){this._oEditor&&this._oEditor.remove(),this._initializeTinyMCE()}.bind(this);switch(this._tinyMCEStatus){case y:break;case c:this._bInitializationPending=!0,this._pTinyMCELoaded.then(t);break;case g:this._bInitializationPending=!0,this._pTinyMCEInitialized.then(t);break;case E:case _:this._bInitializationPending=!0,setTimeout((function(){t()}),0);break;default:u.error("Unknown TinyMCE status: "+this._tinyMCEStatus)}}},b.prototype.getNativeApiTinyMCE=function(){return this._oEditor},b.prototype.setValueTinyMCE=function(t){switch(this._tinyMCEStatus){case y:case g:case c:break;case _:this._oEditor.setContent(t),this._oEditor.undoManager.clear(),this._oEditor.undoManager.add(),this.getEditable()||jQuery.each(this._oEditor.getDoc().getElementsByTagName("a"),(function(t,e){e.target="_blank"}));break;default:u.error("Unknown TinyMCE status: "+this._tinyMCEStatus)}},b.prototype._initializeTinyMCE=function(){this._pTinyMCEInitialized=new Promise(function(t,e){this._bInitializationPending=!1,this._tinyMCEStatus=g,this._textAreaDom.value=this._patchTinyMCEValue(this.getValue()),window.tinymce.init(this._createConfigTinyMCE(function(){this._tinyMCEStatus=_,setTimeout(function(){this._bInitializationPending||this._onAfterReadyTinyMCE(),t()}.bind(this),0)}.bind(this)))}.bind(this))},b.prototype._patchTinyMCEValue=function(t){return 0===t.indexOf("\x3c!--")&&(t="&#8203;"+t),t},b.prototype._onAfterReadyTinyMCE=function(){var t=document.getElementById(this._iframeId),e=this.getAggregation("_toolbarWrapper"),i=e&&e.getAggregation("_toolbar").getDomRef(),o=h.getLibraryResourceBundle("sap.ui.richtexteditor");if(t&&t.setAttribute("aria-labelledby",this.getAriaLabelledBy().join(" ")),!this._bUnloading){!this._tinyMCEDesktopDetected()&&this._bHasNativeMobileSupport||e&&e.getAggregation("_toolbar").removeStyleClass("sapUiHidden"),this._oEditor.on("change",(t=>this.onTinyMCEChange(this._oEditor))),this._oEditor.on("focusout",(t=>this.onTinyMCEChange(this._oEditor))),this.getCustomToolbar()&&this._oEditor.save();var n=jQuery(t);if(this.getTooltip()&&this.getTooltip().length>0){var s=this.getTooltip_Text();this._oEditor.getBody().setAttribute("title",s),n.attr("title",s)}this._registerWithPopupTinyMCE(),this._resizeHandlerId||(this._resizeHandlerId=r.register(this,this._boundResizeEditorTinyMCE)),this._resizeEditorOnDocumentReady(),i&&i.setAttribute("aria-roledescription",o.getText("CUSTOM_TOOLBAR_ARIA_ROLEDESCRIPTION")),this._oEditor.getContainer().classList.add("sapUiRteEditorContainer"),this.fireReadyTinyMCE()}},b.prototype._resizeEditorOnDocumentReady=function(){var t=this._resizeEditorTinyMCE.bind(this),e=this._oEditor.getDoc();e&&("complete"==e.readyState?t():e.addEventListener("readystatechange",(function(){"complete"==e.readyState&&t()})))},b.prototype._tinyMCEDesktopDetected=function(){return window.tinymce&&window.tinymce.Env.desktop},b.prototype.fireReadyTinyMCE=function(){switch(this._tinyMCEStatus){case y:case c:case E:case g:break;case _:this._bInitializationPending||(this._readyFired||(this._readyFired=!0,this.fireReady.apply(this,arguments)),this.fireReadyRecurring.apply(this,arguments));break;default:u.error("Unknown TinyMCE status: "+this._tinyMCEStatus)}},b.prototype._getTextDirection=function(){return this.getTextDirection()===this.getMetadata().getProperty("textDirection").getDefaultValue()?h.getConfiguration().getRTL()?"rtl":"ltr":this.getTextDirection().toLowerCase()},b.prototype._createConfigTinyMCE=function(t){var e=this.getAggregation("_toolbarWrapper"),i=this._createButtonRowsTinyMCE(" ","|");0===i.length&&(i=!1);var o=this._createPluginsListTinyMCE();this.getEditable()||(o=o.replace(/(,powerpaste|powerpaste,)/gi,""));var r=this.getEditorType()===b.EDITORTYPE_TINYMCE6||this.getEditorType()===b.EDITORTYPE_TINYMCE;r&&(o=this.getPlugins().map((function(t){return t.name}))),r&&!this.getEditable()&&(o=o.filter((function(t){return"powerpaste"!==t})));var n={height:"calc(100% - var(--_sap_ui_richtexteditor__toolbar_height))",directionality:this._getTextDirection(),selector:"[id='"+this._textAreaId+"']",theme:"silver",menubar:!1,language:this._getLanguageTinyMCE(),browser_spellcheck:!0,convert_urls:!1,plugins:o,contextmenu:!1,toolbar_items_size:"small",toolbar:i,toolbar_mode:"sliding",statusbar:!1,image_advtab:!0,readonly:!this.getEditable(),nowrap:!this.getWrapping(),init_instance_callback:function(e){this._oEditor=e,t()}.bind(this)};return this._bCustomToolbarRequirementsFullfiled&&e&&(n=e.modifyRTEToolbarConfig(n)),this.fireBeforeEditorInit({configuration:n}),this._bHasNativeMobileSupport=n.mobile,n},b.prototype._getLanguageTinyMCE=function(){var t,e=new i(h.getConfiguration().getLanguage()),o=e.getLanguage(),r=e.getRegion(),n=this.getEditorType()===b.EDITORTYPE_TINYMCE6||this.getEditorType()===b.EDITORTYPE_TINYMCE;return o=b.MAPPED_LANGUAGES_TINYMCE[o]||o,r||(r=n?b.SUPPORTED_LANGUAGES_DEFAULT_REGIONS_TINYMCE6[o]:b.SUPPORTED_LANGUAGES_DEFAULT_REGIONS[o]),t=r?o+"_"+r.toUpperCase():o,b.SUPPORTED_LANGUAGES_TINYMCE[t]||b.SUPPORTED_LANGUAGES_TINYMCE6[t]?t:b.SUPPORTED_LANGUAGES_TINYMCE6[o]||b.SUPPORTED_LANGUAGES_TINYMCE[o]?o:"en"},b.prototype._resizeEditorTinyMCE=function(){if(this._tinyMCEStatus===_){var t,e,i=this._oEditor.getContentAreaContainer(),o=this.getDomRef().offsetHeight,r=this._oEditor.getContainer().offsetHeight,n=i.offsetHeight,s=this.getAggregation("_toolbarWrapper");if(t=o-(r-n)-(s?s.getAggregation("_toolbar").getDomRef().offsetHeight:"0"),0==(e=Math.abs(this._lastRestHeight-t))||e>5)try{this._oEditor.theme.resizeTo(void 0,t-2)}catch(t){}this._lastRestHeight=t}},b.prototype._registerWithPopupTinyMCE=function(){var t=this.$().closest("[data-sap-ui-popup]");setTimeout(function(){if(1===t.length){var e="tox-dialog-"+this.getId();this._oEditor&&(this._oEditor.on("OpenWindow",(function(t){jQuery(".tox-dialog[role='dialog']").attr("id",e);var i="#"+e;o.addExternalContent(i,!0)})),this._oEditor.on("CloseWindow",(function(t){var i="#"+e;o.removeExternalContent(i,!0),jQuery(".tox-dialog[role='dialog']").attr("id")})))}}.bind(this),0)},b.prototype._checkCustomToolbarRequirements=function(){var t=this.getCustomToolbar()&&C[this.getEditorType()]&&n.RichTextEditorHelper.bSapMLoaded;return this.$().toggleClass("sapUiRTEWithCustomToolbar",t),t},b.prototype._customToolbarEnablement=function(){var t,e=this.getAggregation("_toolbarWrapper");this._bCustomToolbarRequirementsFullfiled=this._checkCustomToolbarRequirements(),this._bCustomToolbarRequirementsFullfiled&&!e&&(t=this.getAggregation("customButtons"),this.removeAllAggregation("customButtons"),e=new s({editor:this}),this.setAggregation("_toolbarWrapper",e),setTimeout((function(){var t=e.getAggregation("_toolbar");t&&t.addStyleClass("sapUiHidden")}),0),t&&t.length&&setTimeout((function(){t.forEach((function(t){e.modifyToolbarContent("add",t)}))}),0))},["add","destroy","get","indexOf","insert","removeAll","remove"].forEach((function(t){var e=t+"CustomButton"+(["destroy","get","removeAll"].indexOf(t)>-1?"s":""),i=/^(add|insert|destroy)/.test(t);b.prototype[e]=function(){var e=null,o=arguments[0],r=this.getAggregation("_toolbarWrapper");return"object"==typeof o&&"sap.m.Button"!==o.getMetadata().getName()?(u.error("Only sap.m.Button is allowed as aggregation."),i?this:void 0):(e=r&&r.modifyToolbarContent?r.modifyToolbarContent.bind(r,t).apply(r,arguments):this[t+"Aggregation"].bind(this,"customButtons").apply(this,arguments),i?this:e)}})),b}));
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/RichTextEditorRenderer", ["sap/ui/core/Core"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,i){var r=i.getAggregation("_toolbarWrapper");var s=r&&i._bCustomToolbarRequirementsFullfiled;var a=e.getLibraryResourceBundle("sap.ui.richtexteditor");var o=i.getPlugins();var l=false;t.openStart("div",i);t.class("sapUiRTE");if(i.getRequired()){t.class("sapUiRTEReq")}if(i.getUseLegacyTheme()){t.class("sapUiRTELegacyTheme")}if(s){t.class("sapUiRTEWithCustomToolbar")}t.style("width",i.getWidth());l=o.some(function(e){return e.name==="autoresize"});if(i.getHeight()&&!l){t.style("height",i.getHeight())}if(i.getTooltip_AsString()){t.attr("title",i.getTooltip_AsString())}t.accessibilityState(i,{role:"region",label:a.getText("RTE_ARIA_LABEL"),labelledby:null});t.openEnd();if(s){t.renderControl(r)}var n="render"+i.getEditorType()+"Editor";if(this[n]&&typeof this[n]==="function"){this[n].call(this,t,i)}t.close("div")};return t},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/ToolbarWrapper", ["sap/ui/thirdparty/jquery","sap/ui/core/Control","./library","sap/m/library","sap/ui/core/IconPool","sap/ui/core/Item","sap/ui/core/Core","sap/ui/richtexteditor/RTESplitButton","sap/base/security/URLListValidator","sap/base/Log","./ToolbarWrapperRenderer"],function(jQuery,t,e,o,r,i,n,a,s,l){"use strict";var u=e.ButtonGroups,c=e.EditorCommands,g=e.ButtonsToCommandsMap,h=o.ButtonType;var d=t.extend("sap.ui.richtexteditor.ToolbarWrapper",{metadata:{interfaces:["sap.ui.richtexteditor.IToolbar"],library:"sap.ui.richtexteditor",aggregations:{_toolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"},_customInsertImageDialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_customInsertLinkDialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_customTextColorDialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_customBackgroundColorDialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_customInsertTableDialog:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{editor:{type:"sap.ui.richtexteditor.RichTextEditor",multiple:false}}}});d.prototype.init=function(){this._helper=e.RichTextEditorHelper;this._oResourceBundle=n.getLibraryResourceBundle("sap.ui.richtexteditor");this._oAccessibilityTexts={};this._sTextColor=c.TextColor.defaultValue;this._sBackgroundColor=c.BackgroundColor.defaultValue};d.prototype.onBeforeRendering=function(){if(!this.getAggregation("_toolbar")){var t=this._createCustomToolbar(),e=this.getEditor();if(e){t&&t.setEnabled(e.getEditable())}t&&t.addStyleClass("sapUiRTECustomToolbar");this.setAggregation("_toolbar",t);this.setAggregation("_customInsertImageDialog",this._helper.createDialog(this._createInsertImageConfig("InsertImage")));this.setAggregation("_customInsertLinkDialog",this._helper.createDialog(this._createInsertLinkConfig("InsertLink")));this.setAggregation("_customTextColorDialog",this._helper.createColorPalettePopover(this._createColorPalettePopoverConfig("TextColor")));this.setAggregation("_customBackgroundColorDialog",this._helper.createColorPalettePopover(this._createColorPalettePopoverConfig("BackgroundColor")));this.setAggregation("_customInsertTableDialog",this._helper.createDialog(this._createInsertTableConfig("InsertTable")))}};d.prototype.onAfterRendering=function(){var t=this.getEditor();this._initialButtonGroupsState=t&&t.getButtonGroups().map(function(t){return jQuery.extend(true,{},t)});this._modifyPopoverOpeningArrowHandlers(true);this._syncColors("TextColor",this._sTextColor);this._syncColors("BackgroundColor",this._sBackgroundColor)};d.prototype.exit=function(){for(var t in this._oAccessibilityTexts){this._destroyAssociatedInvisibleTexts(t)}this._customButtons=null;this._oAccessibilityTexts=null;this._helper=null;this._oResourceBundle=null;this._sTextColor=null;this._sBackgroundColor=null};d.prototype._modifyPopoverOpeningArrowHandlers=function(t){var e=this._findButtonById("TextColor"),o=e&&e._getArrowButton(),r=this._findButtonById("BackgroundColor"),i=r&&r._getArrowButton();if(t&&o&&!this._bTextColorSyncHandlersAttached){this.getAggregation("_customTextColorDialog")._ensurePopover().attachAfterOpen(o,this._customColorDialogAfterOpen,this).attachAfterClose(o,this._customColorDialogAfterClose,this);this._bTextColorSyncHandlersAttached=true}if(t&&i&&!this._bBackgroundColorSyncHandlersAttached){this.getAggregation("_customBackgroundColorDialog")._ensurePopover().attachAfterOpen(i,this._customColorDialogAfterOpen,this).attachAfterClose(i,this._customColorDialogAfterClose,this);this._bBackgroundColorSyncHandlersAttached=true}if(!t&&o&&this._bTextColorSyncHandlersAttached){this.getAggregation("_customTextColorDialog")._ensurePopover().detachAfterOpen(this._customColorDialogAfterOpen,this).detachAfterClose(this._customColorDialogAfterClose,this);this._bTextColorSyncHandlersAttached=null}if(!t&&i&&this._bBackgroundColorSyncHandlersAttached){this.getAggregation("_customBackgroundColorDialog")._ensurePopover().detachAfterOpen(this._customColorDialogAfterOpen,this).detachAfterClose(this._customColorDialogAfterClose,this);this._bBackgroundColorSyncHandlersAttached=null}};d.prototype._customColorDialogAfterOpen=function(t,e){e&&e._activeButton()};d.prototype._customColorDialogAfterClose=function(t,e){e&&e._inactiveButton()};d.prototype._getId=function(t){this._getId.counter=this._getId.counter?this._getId.counter+1:1;var e=this.getEditor()?this.getEditor().getId():"_rte"+this._getId.counter,o=this.getId(),r=[e+o];if(t||t===0){r.push(t)}return r.join("-")};d.prototype.getEditor=function(){var t=this.getAssociation("editor"),e=n.byId(t);return e||null};d.prototype.modifyRTEToolbarConfig=function(t){var e=this;t.toolbar=false;t.setup=function(t){t.on("PreInit",function(){t.addShortcut("alt+f10","Focus the first element in the toolbar.",function(){var t=e.getAggregation("_toolbar").getAggregation("content").filter(function(t){return t.getVisible()})[0];t&&t.focus()})});t.on("NodeChange",function(){e._syncToolbarStates(this)})};return t};d.prototype._applyColor=function(t,e,o,r){if(r||this._getColor(t).replace(/,\s/g,",")!==o){this.getEditor().getNativeApi().execCommand(e,false,o)}};d.prototype._syncColors=function(t,e){var o=this._findButtonById(t),r;if(!e){return}if(t==="TextColor"){o&&o.setIconColor(e)}if(t==="BackgroundColor"){r=o&&o._getTextButton().getDomRef("img");r&&n.byId(r.id).setColor(e)}};d.prototype._syncToolbarStates=function(t){var e,o,i,a=t.formatter,s=this._oResourceBundle,l=function(t,o,i){var n,a,l;for(n in t){l=e[n];a=r.getIconURI(l.icon);if(t.hasOwnProperty(n)&&o.match(t[n].style)&&i.getIcon()!==a){i.setTooltip(s.getText(t.bundleKey)+" "+s.getText(l.bundleKey));i.setIcon(a);break}}},u=function(t,e,o){var r,i,n,a=t.getDoc().queryCommandValue("FormatBlock");for(r in e){if(!e.hasOwnProperty(r)){continue}i=o.getId()+r;n=e[r];if(o.getSelectedItemId()!==i&&(a===n.commandValue||a===n.text)){o.setSelectedItemId(i);break}}},g=function(t,e,o){var r,i,n,a,s=t.getDoc().queryCommandValue("FontName");for(r in e){if(!e.hasOwnProperty(r)){continue}a=o.getId()+r;i=e[r].commandValue.match(/\w+/g).join("").toLowerCase();s=s&&s.match(/\w+/g).join("").toLowerCase();n=e[r].text.match(/\w+/g).join("").toLowerCase();if(o.getSelectedItemId()!==a&&(i===s||s===n)){o.setSelectedItemId(a);break}}},h=function(t,e){var o=t.selection.getNode(),r=o&&o.tagName.toLowerCase()==="img"||o.parentElement&&o.parentElement.tagName.toLowerCase()==="img";e.setPressed(!!r)},d=function(t,e,o){var r=t.selection.getNode(),i=r&&r.tagName.toLowerCase()==="a"||r.parentElement&&r.parentElement.tagName.toLowerCase()==="a";if(o){e.setPressed(!!i)}else{e.setEnabled(!!i)}};for(i in c){if(!c.hasOwnProperty(i)){continue}e=c[i];o=n.byId(this._getId(i));if(!o){continue}switch(i){case"TextAlign":l(e,a,o);break;case"FontFamily":g(t,e,o);break;case"FormatBlock":u(t,e,o);break;case"InsertImage":h(t,o);break;case"InsertLink":d(t,o,true);break;case"Unlink":d(t,o,false);break;case"FontSize":var p=t.getDoc().queryCommandValue(i),f=o.getId()+p;if(o.getSelectedItemId()!==f&&p){o.setSelectedItemId(f)}break;default:o.getMetadata().getName()==="sap.m.OverflowToolbarToggleButton"&&o.setPressed(a.match(e.style))}}};d.prototype._createButtonConfig=function(t){var e=c[t],o=this.getEditor();return{id:this._getId(t),icon:r.getIconURI(e.icon),tooltip:this._oResourceBundle.getText(e.bundleKey),text:this._oResourceBundle.getText(e.bundleKey),press:function(){if(o){o.getNativeApi().execCommand(e.command)}else{l.warning("Cannot execute native command: "+e.command)}}}};d.prototype._createMenuButtonItems=function(t){var e=this._helper,o=[],i,n;for(var a in c[t]){if(a==="bundleKey"){continue}n=c[t][a];i=this._oResourceBundle.getText(n.bundleKey)||n.text;o.push(e.createMenuItem(this._getId(t+a),i,r.getIconURI(n.icon)))}return o};d.prototype._findTextAlignCommandByIcon=function(t){var e=c["TextAlign"],o,i;Object.keys(e).forEach(function(n){o=r.getIconURI(e[n].icon);if(n!=="bundleKey"&&o===t){i=n}});return i};d.prototype._createFontStyleSelectItems=function(){var t=c["FontFamily"],e=[],o;for(var r in t){o={id:this._getId("FontFamily"+r),text:t[r].text};e.push(new i(o))}return e};d.prototype._getFontStyleCommand=function(t){var e=c["FontFamily"];for(var o in e){if(e.hasOwnProperty(o)&&e[o].text===t){return e[o].commandValue}}};d.prototype._getFormatBlockCommand=function(t){var e=c["FormatBlock"];for(var o in e){if(e.hasOwnProperty(o)&&this._oResourceBundle.getText(e[o].bundleKey)===t){return e[o].commandValue}}};d.prototype._createFontSizeSelectItems=function(){var t=[],e=1,o;c["FontSize"].forEach(function(r){o={id:this._getId("FontSize"+e),text:r+" pt"};t.push(new i(o));e++},this);return t};d.prototype._createFormatBlockItems=function(){var t=c["FormatBlock"],e=[],o;for(var r in t){o={id:this._getId("FormatBlock"+r),text:this._oResourceBundle.getText(t[r].bundleKey)};e.push(new i(o))}return e};d.prototype._getColor=function(t){var e=this.getEditor(),o=c[t].style,r=e&&e.getNativeApi().selection.getNode(),i=e&&e.getNativeApi().dom.getParents(r),n,a,s;for(n=0;n<i.length;n++){a=i[n];s=a.style[o];if(s&&s!=""){return s}}return c[t].defaultValue};d.prototype._createSplitButtonForDialog=function(t){var e=c[t],o=this,i,n;if(!e){return null}n={id:this._getId(t),tooltip:this._oResourceBundle.getText(e.bundleKey),press:function(){if(t==="TextColor"){o._applyColor(t,e.command,o._sTextColor)}if(t==="BackgroundColor"){o._applyColor(t,e.command,o._sBackgroundColor)}},arrowPress:function(){i=o.getAggregation("_custom"+t+"Dialog");this._getArrowButton()._activeButton();if(!i){return}i.openBy(this)}};if(t==="BackgroundColor"){n.icon=r.getIconURI(e.icon)}return n};d.prototype._createButtonForDialog=function(t){var e=c[t],o=this,i;if(!e){return null}return{id:this._getId(t),icon:r.getIconURI(e.icon),tooltip:this._oResourceBundle.getText(e.bundleKey),text:this._oResourceBundle.getText(e.bundleKey),press:function(){i=o.getAggregation("_custom"+t+"Dialog");if(!i){return}switch(t){case"InsertImage":this.setPressed(true);o._syncImageDialogData(i);break;case"InsertLink":o._syncLinkDialogData(i);break;case"InsertTable":o._resetDialogContent(i);break;default:break}i.open()}}};d.prototype._syncImageDialogData=function(t){var e=this.getEditor().getNativeApi().selection,o=e&&e.getNode(),r=t&&t.getContent(),i,n,a,s,l,u,c,g,h;if(!r.length){return}i=r[6];h=r[5];if(h.getMetadata().getName()==="sap.m.HBox"&&h.getAggregation("items").length){n=h.getAggregation("items")[2];a=h.getAggregation("items")[0]}if(o.tagName.toLowerCase()==="img"){s=o}else{s=o.parentElement}if(s.tagName.toLowerCase()!=="img"){this._resetDialogContent(t);return}if(!i.getEnabled()){i.setEnabled(true)}i.setSelected(s.getAttribute("data-sap-ui-rte-image-ratio")==="true"?true:false);l=s.getAttribute("src");u=s.getAttribute("alt");c=parseFloat(s.width);g=parseFloat(s.height);r[1].setValue(l);r[3].setValue(u);n.setValue(g);a.setValue(c)};d.prototype._syncLinkDialogData=function(t){var e=t&&t.getContent(),o,r,i,n,a,s,l,u,c;if(!(e instanceof Array)||!e.length){return}o=this.getEditor().getNativeApi().selection;l=o.getNode();r=this._getSelectionAnchor(o);if(!r){r=l.parentElement}u=o.getContent().length!==0&&r.textContent&&o.getContent().length<r.textContent.length&&r.tagName==="A";c=o.getContent().length!==0;if(!c||u){n=r.text}else{n=o.getNode()&&o.getNode().tagName.toLowerCase()==="a"?o.getNode().textContent:o.getContent({format:"text"})}i=r.getAttribute("href");a=r.getAttribute("title");s=r.getAttribute("target")==="true";e[1].setValue(i);e[3].setValue(n&&n.replace(/\uFEFF/g,""));e[5].setValue(a);e[6].getAggregation("items")[1].setSelectedIndex(s)};d.prototype._resetDialogContent=function(t){var e=t.findAggregatedObjects(true),o;e.forEach(function(t){o=t.getMetadata().getName();if(o==="sap.m.Input"){t.resetProperty("value")}else if(o==="sap.m.CheckBox"){t.resetProperty("selected").setEnabled(false)}})};d.prototype._createColorPalettePopoverConfig=function(t){var e=c[t],o=e.defaultValue,r=this;return{defaultColor:o,colorSelect:function(o){var i=o.getParameters().value;r._applyColor(t,e.command,i,o.getParameter("defaultAction"));if(t==="TextColor"){r._sTextColor=i;r._syncColors("TextColor",i)}if(t==="BackgroundColor"){r._sBackgroundColor=i;r._syncColors("BackgroundColor",i)}}}};d.prototype._generateImageHTML=function(t,e,o,r,i){var n=t?' src="'+t+'"':"",a=e?' alt="'+e+'"':"",s=o?' height="'+o+'px"':"",l=r?' width="'+r+'px"':"",u=s+l,c=i!==undefined?' data-sap-ui-rte-image-ratio="'+i+'"':"";return"<img"+n+a+u+c+">"};d.prototype._createInsertImageConfig=function(){var t,e=this._oResourceBundle.getText(c["InsertImage"].bundleKey),o=this._helper.createInput(),r=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_IMAGE_URL"),labelFor:o}),i=this._helper.createInput(),n=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_IMAGE_DESCRIPTION"),labelFor:i}),a=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_CONTENT_DIMENSIONS"),labelFor:s}),s=this._helper.createInput({width:"8rem",fieldWidth:"6rem",description:"px",ariaLabelledBy:a,change:function(){_(false,true)}}),l=this._helper.createText({textAlign:"Center",width:"2rem",text:"x"}),u=this._helper.createInput({fieldWidth:"6rem",width:"8rem",description:"px",ariaLabelledBy:a,change:function(){_(true,false)}}),g=this._helper.createHBox({wrap:"Wrap",alignItems:"Center",justifyContent:"SpaceBetween",items:[s,l,u]}),d=this._helper.createCheckBox({select:function(){_(true,true)}}),p=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_IMAGE_RATIO"),labelFor:d}),f=this.getEditor(),_=function(e,o){var r=f&&f.getNativeApi().selection,i=r&&r.getNode(),n=parseFloat(s.getValue()),a=parseFloat(u.getValue()),l,c;if(!d.getSelected()){return}if(i.tagName.toLowerCase()!=="img"&&!(i.parentElement&&i.parentElement.tagName.toLowerCase()==="img")){return}i=i.tagName.toLowerCase()==="img"?i:i.parentElement;l=parseFloat(i.width);c=parseFloat(i.height);t=l/c;if(e&&(a!==c||a!=u._lastValue)){s.setValue(a*t)}else if(o&&(n!==l||n!=s._lastValue)){u.setValue(n/t)}},m=this,b=[];b.push(this._helper.createButton({id:this._getId("InsertImageButton"),type:h.Emphasized,text:this._oResourceBundle.getText("DIALOG_OK_BUTTON"),press:function(){f.getNativeApi().insertContent(m._generateImageHTML(o.getValue(),i.getValue(),u.getValue(),s.getValue(),d.getSelected()));m.getAggregation("_customInsertImageDialog").close();m._syncToolbarStates(f.getNativeApi())}}));b.push(this._helper.createButton({id:this._getId("CancelInsertImageButton"),text:this._oResourceBundle.getText("DIALOG_CANCEL_BUTTON"),press:function(){m.getAggregation("_customInsertImageDialog").close();m._syncToolbarStates(f.getNativeApi())}}));return{contentWidth:"320px",title:e,buttons:b,content:[r,o,n,i,a,g,d,p]}};d.prototype._getSelectionAnchor=function(t){var e,o;if(!t){return}e=t.getNode();if(t.getStart().tagName=="A"){o=t.getStart()}else if(e.tagName=="A"){o=e}return o};d.prototype._generateLinkHTML=function(t,e,o,r){var i={href:t&&s.validate(t)?t:"",target:o?o:null,title:e&&s.validate(e)?e:""},n=this.getEditor().getNativeApi(),a=n.selection,l=false,u,c,g;u=this._getSelectionAnchor(a);if(t===""&&!u){return}if(t===""&&u){n.execCommand("Unlink");return}if(!u){c=n.dom.select('a[href="'+i.href+'"]');if(r!==""){n.insertContent(n.dom.createHTML("a",i,n.dom.encode(r)));l=true}else{n.execCommand("mceInsertLink",false,i);l=true}g=n.dom.select('a[href="'+i.href+'"]');u=g.filter(function(t){return c.indexOf(t)===-1})[0]}if("innerText"in u){u.innerText=r!==""?r:t}else{u.textContent=r!==""?r:t}n.dom.setAttribs(u,i);n.selection.select(u);if(!l){n.fire("change")}};d.prototype._createInsertLinkConfig=function(){var t=this._oResourceBundle.getText(c["InsertLink"].bundleKey),e=this._helper.createInput(),o=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_LINK_URL"),labelFor:e}),r=this._helper.createInput(),n=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_LINK_DISPLAY_TEXT"),labelFor:r}),a=this._helper.createInput(),s=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_LINK_TITLE"),labelFor:a}),l=this._helper.createSelect({id:this._getId("InsertLinkSelect"),items:[new i({id:this._getId("InsertLinkSelectNone"),text:this._oResourceBundle.getText("INSERT_LINK_TARGET_NONE")}),new i({id:this._getId("InsertLinkSelectNewWindow"),text:this._oResourceBundle.getText("INSERT_LINK_TARGET_NEW_WINDOW")})]}),u=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_LINK_TARGET"),labelFor:l}),g=this._helper.createVBox({direction:"Column",alignItems:"Start",items:[u,l]}),d=this.getEditor(),p=this,f=[];f.push(this._helper.createButton({id:this._getId("InsertLinkButton"),type:h.Emphasized,text:this._oResourceBundle.getText("DIALOG_OK_BUTTON"),press:function(){var t=l.getSelectedItem()===l.getItems()[1];p._generateLinkHTML(e.getValue(),a.getValue(),t,r.getValue());p.getAggregation("_customInsertLinkDialog").close();p._syncToolbarStates(d.getNativeApi())}}));f.push(this._helper.createButton({id:this._getId("CancelInsertLinkButton"),text:this._oResourceBundle.getText("DIALOG_CANCEL_BUTTON"),press:function(){p.getAggregation("_customInsertLinkDialog").close();p._syncToolbarStates(d.getNativeApi())}}));return{contentWidth:"320px",title:t,buttons:f,content:[o,e,n,r,s,a,g]}};d.prototype._createInsertTableConfig=function(){var t=this._oResourceBundle.getText(c["InsertTable"].bundleKey),o=this._helper.createStepInput({value:2,min:0,width:"50%"}),r=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_TABLE_ROWS"),labelFor:o}),i=this._helper.createStepInput({value:2,min:0,width:"50%"}),n=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_TABLE_COLS"),labelFor:i}),a=this._helper.createLabel({text:this._oResourceBundle.getText("INSERT_CONTENT_DIMENSIONS")}),s=this._helper.createInput({width:"8rem",fieldWidth:"6rem",description:"px",ariaLabelledBy:a}),l=this._helper.createText({textAlign:"Center",width:"2rem",text:"x"}),u=this._helper.createInput({fieldWidth:"6rem",width:"8rem",description:"px",ariaLabelledBy:a}),g=this._helper.createHBox({wrap:"Wrap",alignItems:"Center",justifyContent:"SpaceBetween",items:[s,l,u]}),h=this.getEditor(),d=this,p=[];p.push(this._helper.createButton({id:this._getId("InsertTableButton"),text:this._oResourceBundle.getText("DIALOG_OK_BUTTON"),press:function(){var t=h.getNativeApi().dom;var r=h.getNativeApi();var n;if(h.getEditorType()===e.EditorType.TinyMCE6){r.execCommand("mceInsertTable",false,{rows:o.getValue(),columns:i.getValue()});n=t.getParents(r.selection.getNode()).find(function(t){return t.tagName.toLowerCase()==="table"})}else{n=r.plugins.table.insertTable(i.getValue(),o.getValue())}t.setStyle(n,"width",u.getValue()+"px");t.setStyle(n,"height",s.getValue()+"px");d.getAggregation("_customInsertTableDialog").close()}}));p.push(this._helper.createButton({id:this._getId("CancelInsertTableButton"),text:this._oResourceBundle.getText("DIALOG_CANCEL_BUTTON"),press:function(){d.getAggregation("_customInsertTableDialog").close()}}));return{title:t,buttons:p,content:this._helper.createVBox({direction:"Column",alignItems:"Start",items:[r,o,n,i,a,g]})}};d.prototype._createCustomToolbar=function(){var t=this._helper,e=[],o=Object.keys(u),r=[],i=this.getEditor()?this.getEditor().getButtonGroups():[];o.forEach(function(t){i.forEach(function(e){if(e.name===t){r.push(e)}})});r=this._sortToolbarContent(r);r.forEach(function(t){e=e.concat(this._createButtonGroup(t))}.bind(this));return t.createOverflowToolbar(this._getId(),e)};d.prototype.setToolbarEnabled=function(t,e){var o=this.getAggregation("_toolbar");if(o&&o.getEnabled()!==t){o.setEnabled(t,e)}};d.prototype.setShowGroup=function(t,e){var o=this._findGroupedControls(t),r=this.getAggregation("_toolbar");o.forEach(function(t){t.setVisible(e)});r&&r.rerender()};d.prototype._mapNativeButtonsToCommands=function(t,e){var o=this.getEditor();var r=[];var i=u[t];if(!Array.isArray(i)||e&&!e.length){return[]}switch(t){case"text-align":r.push("TextAlign");break;case"formatselect":case"blocks":case"styleselect":case"styles":r.push("FormatBlock");break;case"insert":r.push("InsertImage");break;default:e.forEach(function(e){var n=g[e];if(i.indexOf(n)>-1){r.push(n)}else{l.warning("Unsupported button for the custom toolbar found: "+e+", for group: "+t+".",o)}});break}return r};d.prototype._createFontToolbarContent=function(t,o){var r=[];var i=e.Accessibility;var n=this.getEditor();var s=this;if(t.indexOf("FontFamily")!==-1){var u=this._helper.createInvisibleText({text:this._oResourceBundle.getText(i["FontFamily"])}).toStatic();this._registerAssociatedInvisibleTexts("font",u.getId());r.push(this._helper.createSelect({id:this._getId("FontFamily"),ariaLabelledBy:u,selectedItemId:this._getId("FontFamilyVerdana"),items:this._createFontStyleSelectItems(),change:function(t){var e;if(n){e=t.getSource().getSelectedItem();n.getNativeApi().execCommand("FontName",false,s._getFontStyleCommand(e.getText()))}else{l.warning("Cannot execute native command: "+"FontName")}}}).setVisible(o))}if(t.indexOf("FontSize")!==-1){var c=this._helper.createInvisibleText({text:this._oResourceBundle.getText(i["FontSize"])}).toStatic();this._registerAssociatedInvisibleTexts("font",c.getId());r.push(this._helper.createSelect({id:this._getId("FontSize"),ariaLabelledBy:c,selectedItemId:this._getId("FontSize2"),items:this._createFontSizeSelectItems(),change:function(t){var e;if(n){e=t.getSource().getSelectedItem();n.getNativeApi().execCommand("FontSize",false,e.getText().replace(/\s/g,""))}else{l.warning("Cannot execute native command: "+"FontSize")}}}).setVisible(o))}if(t.indexOf("TextColor")!==-1){var g=this._helper.createInvisibleText({text:this._oResourceBundle.getText(i["FontColor"])}).toStatic();var h=new a(this._createSplitButtonForDialog("TextColor")).setVisible(o);h._getTextButton().addAriaLabelledBy(g);r.push(h)}if(t.indexOf("BackgroundColor")!==-1){var d=this._helper.createInvisibleText({text:this._oResourceBundle.getText(i["BackgroundColor"])}).toStatic();var p=this._helper.createSplitButton(this._createSplitButtonForDialog("BackgroundColor")).setVisible(o);p._getTextButton().addAriaLabelledBy(d);r.push(p)}return r};d.prototype._createTextAlignToolbarContent=function(t){var e=this.getEditor();var o=e?e.getShowGroupFontStyle()||t:false;var r=this;var i=e._getTextDirection()==="rtl";var n=i?2:0;var a=this._createMenuButtonItems("TextAlign");return[this._helper.createMenuButton(this._getId("TextAlign"),a,function(t){var o,n,a;if(e){o=t.getParameter("item");n=e.getNativeApi();a=o.getIcon();if(a===this.getParent().getIcon()){var s=i?"JustifyRight":"JustifyLeft";n.execCommand(s)}else{n.execCommand("Justify"+r._findTextAlignCommandByIcon(a))}}else{l.warning("Cannot execute native command: "+"Justify")}},a[n].getIcon(),this._oResourceBundle.getText(c["TextAlign"].bundleKey)).setVisible(o)]};d.prototype._createFormatSelectToolbarContent=function(t){var o=this.getEditor();var r=e.Accessibility;var i=this._helper.createInvisibleText({text:this._oResourceBundle.getText(r["FormatBlock"])}).toStatic();this._registerAssociatedInvisibleTexts("formatselect",i.getId());return[this._helper.createSelect({id:this._getId("FormatBlock"),ariaLabelledBy:i,items:this._createFormatBlockItems(),change:function(t){var e;if(o){e=t.getSource().getSelectedItem();if(e){var r=o.getAggregation("_toolbarWrapper")._getFormatBlockCommand(e.getText());o.getNativeApi().execCommand("FormatBlock",false,r)}}else{l.warning("Cannot execute native command: "+"FormatBlock")}}}).setVisible(t)]};d.prototype._createFontStyleToolbarContent=function(t,e){var o=[];t.forEach(function(t){o.push(this._helper.createOverflowToolbarToggleButton(this._createButtonConfig(t)).setVisible(e))},this);return o};d.prototype._createInsertToolbarContent=function(t){return[this._helper.createOverflowToolbarToggleButton(this._createButtonForDialog("InsertImage")).setVisible(t)]};d.prototype._createLinkToolbarContent=function(t,e){var o=[];if(t.indexOf("InsertLink")!==-1){o.push(this._helper.createOverflowToolbarToggleButton(this._createButtonForDialog("InsertLink")).setVisible(e))}if(t.indexOf("Unlink")!==-1){o.push(this._helper.createOverflowToolbarButton(this._createButtonConfig("Unlink")).setVisible(e))}return o};d.prototype._createStructureToolbarContent=function(t,e){var o=[];t.forEach(function(t){o.push(this._helper.createOverflowToolbarButton(this._createButtonConfig(t)).setVisible(e))},this);return o};d.prototype._createClipboardToolbarContent=function(t,e){var o=[];t.forEach(function(t){o.push(this._helper.createOverflowToolbarButton(this._createButtonConfig(t)).setVisible(e))},this);return o};d.prototype._createUndoToolbarContent=function(t,e){var o=[];t.forEach(function(t){o.push(this._helper.createOverflowToolbarButton(this._createButtonConfig(t)).setVisible(e))},this);return o};d.prototype._createButtonGroup=function(t){var e=this.getEditor(),o=this._helper,r=[],i=[];if(!e){return[]}i=this._mapNativeButtonsToCommands(t.name,t.buttons);switch(t.name){case"font-style":r=this._createFontStyleToolbarContent(i,t.visible);break;case"font":r=this._createFontToolbarContent(i,t.visible);break;case"text-align":r=this._createTextAlignToolbarContent(t.visible);break;case"styleselect":case"styles":case"blocks":case"formatselect":r=this._createFormatSelectToolbarContent(this._isButtonGroupAdded("styleselect")||this._isButtonGroupAdded("styles")||this._isButtonGroupAdded("blocks")||this._isButtonGroupAdded("formatselect"));break;case"structure":r=this._createStructureToolbarContent(i,t.visible);break;case"clipboard":r=this._createClipboardToolbarContent(i,t.visible);break;case"undo":r=this._createUndoToolbarContent(i,t.visible);break;case"insert":r=this._createInsertToolbarContent(t.visible);break;case"link":r=this._createLinkToolbarContent(i,t.visible);break;case"table":r.push(o.createOverflowToolbarButton(this._createButtonForDialog("InsertTable")).setVisible(t.visible));break;default:break}return r};d.prototype.addButtonGroupToContent=function(t){var e;if(t.name==="table"){e=t.name;u[t.name]=["InsertTable"]}if(t.name==="formatselect"||t.name==="styleselect"||t.name==="styles"||t.name==="blocks"){e="formatselect";u[t.name]=["FormatBlock"]}if(!u[t.name]&&!u.custom[t.name]){return this}if(!e){e=t.name}var o=this.getAggregation("_toolbar"),r=this._createButtonGroup(t),i=r.length,n,a;a=this._findGroupPriorityPosition(t);r.reverse();for(n=0;n<i;n++){o.insertContent(r[n],a)}return this};d.prototype._sortToolbarContent=function(t){t.sort(function(t,e){return t.customToolbarPriority-e.customToolbarPriority});return t};d.prototype._findGroupPriorityPosition=function(t){var e=this.getEditor().getButtonGroups(),o=0;if(typeof t.customToolbarPriority!=="number"){t.customToolbarPriority=this._getLastGroupPriority(e)+10}e=this._sortToolbarContent(e);e.map(function(t){return{name:t.name,iButtonsCount:this._mapNativeButtonsToCommands(t.name,t.buttons).length,customToolbarPriority:t.customToolbarPriority}}.bind(this)).forEach(function(e){if(e.customToolbarPriority<t.customToolbarPriority&&e.name!==t.name){o+=u[e.name]?e.iButtonsCount:0}});return o};d.prototype._getLastGroupPriority=function(t){var e=t.map(function(t){return t.customToolbarPriority||0});return Math.max.apply(null,e)};d.prototype.removeButtonGroup=function(t){var e=this._findGroupedControls(t);if(t==="font"){this._modifyPopoverOpeningArrowHandlers(false)}this._destroyAssociatedInvisibleTexts(t);e.forEach(function(t){t.destroy()})};d.prototype._destroyAssociatedInvisibleTexts=function(t){var e=this._oAccessibilityTexts[t]||[];e.forEach(function(t){n.byId(t).destroy()});this._oAccessibilityTexts[t]=[]};d.prototype._registerAssociatedInvisibleTexts=function(t,e){if(!this._oAccessibilityTexts[t]){this._oAccessibilityTexts[t]=[]}this._oAccessibilityTexts[t].push(e)};d.prototype.setButtonGroups=function(t){var e=this.getAggregation("_toolbar"),o=this._getGroupsForUpdate(t);if(!e){return this}o.aRemovedGroups.forEach(function(t){this.removeButtonGroup(t.name)}.bind(this));o.aAddedGroups=this._sortToolbarContent(o.aAddedGroups);o.aAddedGroups.forEach(function(t){this.addButtonGroupToContent(t,true)}.bind(this));return this};d.prototype._getJSONStringForGroups=function(t){var e=[];t.forEach(function(t){e.push(JSON.stringify(t,["name","visible","customToolbarPriority","buttons"]))});return e};d.prototype._getGroupsForUpdate=function(t){var e=this._getJSONStringForGroups(t),o=this._getJSONStringForGroups(this._initialButtonGroupsState),r={aRemovedGroups:[],aAddedGroups:[]};e.forEach(function(e,i){if(o.indexOf(e)===-1){r.aAddedGroups.push(t[i])}});o.forEach(function(t,o){if(e.indexOf(t)===-1){r.aRemovedGroups.push(this._initialButtonGroupsState[o])}}.bind(this));return r};d.prototype._findGroupedControls=function(t){var e=this.getAggregation("_toolbar"),o=[];if(!e){return[]}if(u[t]){o=u[t]}else if(u.custom[t]){o=u.custom[t].controls}var r=o.map(function(t){return this._getId(t)},this);return e.findAggregatedObjects(false,function(t){return r.indexOf(t.getId())>-1})||[]};d.prototype.modifyToolbarContent=function(t){var e;var o=Array.prototype.slice.call(arguments);var r=this.getAggregation("_toolbar");if(!r){return null}o.shift();switch(t){case"add":e=this._proxyToolbarAdd.apply(this,o);break;case"destroy":e=this._proxyToolbarDestroy.apply(this,o);break;case"get":e=this._proxyToolbarGet.apply(this,o);break;case"indexOf":e=this._proxyToolbarIndexOf.apply(this,o);break;case"insert":e=this._proxyToolbarInsert.apply(this,o);break;case"removeAll":e=this._proxyToolbarRemoveAll.apply(this,o);break;case"remove":e=this._proxyToolbarRemove.apply(this,o);break;default:break}return e};d.prototype._isButtonGroupAdded=function(t){var e=this.getEditor().getButtonGroups(),o=false,r;for(r=0;r<e.length;r++){if(e[r].name===t){o=true;break}}return o};d.prototype._updateCustomToolbarRefIds=function(t,e){var o,r;o=this._customButtons||[];r=o.indexOf(t);if(r>-1){o.splice(r,1)}if(e!==-1){e=e>=0&&e<=o.length?e:o.length;o.splice(e,0,t)}this._customButtons=o};d.prototype._proxyToolbarAdd=function(t){var e=this.getAggregation("_toolbar"),o=e.addContent(t);e.rerender();if(o){this._updateCustomToolbarRefIds(t.getId())}return o};d.prototype._proxyToolbarGet=function(){var t=this.getAggregation("_toolbar"),e=this._customButtons||[];return t.findAggregatedObjects(false,function(t){return e.indexOf(t.getId())>-1})||[]};d.prototype._proxyToolbarDestroy=function(){var t=this._proxyToolbarGet();t.forEach(function(t){t.destroy()});this._customButtons=[]};d.prototype._proxyToolbarIndexOf=function(t){var e=this._customButtons||[],o=typeof t==="object"?t.getId():t;return e.indexOf(o)};d.prototype._proxyToolbarInsert=function(t,e){var o,r=this.getAggregation("_toolbar"),i=r.getContent()||[],n=this._customButtons||[],a=i.length-n.length;if(e<0){e=0}else if(e>n.length){e=n.length}else if(!e&&e!==0){e=n.length}a+=e;o=r.insertContent(t,a);r.rerender();if(o){this._updateCustomToolbarRefIds(t.getId(),e)}return o};d.prototype._proxyToolbarRemoveAll=function(){var t=this._proxyToolbarGet();t.forEach(this._proxyToolbarRemove,this);return t};d.prototype._proxyToolbarRemove=function(t){var e,o,r=this.getAggregation("_toolbar");switch(typeof t){case"string":e=t;break;case"object":e=t.getId();break;case"number":e=this._customButtons[t];break;default:break}o=r.removeContent(e);if(o&&e){this._updateCustomToolbarRefIds(e,-1)}return o};d.prototype._findButtonById=function(t){var e=this.getEditor();if(!e){return null}return n.byId(e.getId()+this.getId()+"-"+t)};return d});
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/ToolbarWrapperRenderer", [],function(){"use strict";var r={apiVersion:2};r.render=function(r,e){r.renderControl(e.getAggregation("_toolbar"))};return r},true);
/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.predefine("sap/ui/richtexteditor/library", ["sap/ui/core/Core","sap/ui/core/library"],function(e){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.richtexteditor",dependencies:["sap.ui.core"],types:["sap.ui.richtexteditor.EditorType"],interfaces:["sap.ui.richtexteditor.IToolbar"],controls:["sap.ui.richtexteditor.RichTextEditor","sap.ui.richtexteditor.ToolbarWrapper","sap.ui.richtexteditor.RTESplitButton"],elements:[],version:"1.120.21"});t.EditorType={TinyMCE:"TinyMCE",TinyMCE5:"TinyMCE5",TinyMCE6:"TinyMCE6"};t.ButtonsToCommandsMap={bold:"Bold",italic:"Italic",underline:"Underline",fontfamily:"FontFamily",strikethrough:"Strikethrough",fontselect:"FontFamily",fontsize:"FontSize",fontsizeselect:"FontSize",forecolor:"TextColor",backcolor:"BackgroundColor",cut:"Cut",copy:"Copy",paste:"Paste",bullist:"UnorderedList",numlist:"OrderedList",outdent:"Outdent",indent:"Indent",undo:"Undo",redo:"Redo",image:"InsertImage",link:"InsertLink",unlink:"Unlink",alignleft:"Left",aligncenter:"Center",alignright:"Right",alignjustify:"Full",styleselect:"FormatBlock",formatselect:"FormatBlock",styles:"FormatBlock",blocks:"FormatBlock",table:"InsertTable"};t.EditorCommands={Bold:{icon:"bold-text",command:"Bold",style:"bold",bundleKey:"BOLD_BUTTON_TOOLTIP"},Italic:{icon:"italic-text",command:"Italic",style:"italic",bundleKey:"ITALIC_BUTTON_TOOLTIP"},Underline:{icon:"underline-text",command:"Underline",style:"underline",bundleKey:"UNDERLINE_BUTTON_TOOLTIP"},Strikethrough:{icon:"strikethrough",command:"Strikethrough",style:"strikethrough",bundleKey:"STRIKETHROUGH_BUTTON_TOOLTIP"},Copy:{icon:"copy",command:"Copy",bundleKey:"COPY_BUTTON_TOOLTIP"},Cut:{icon:"scissors",command:"Cut",bundleKey:"CUT_BUTTON_TOOLTIP"},Paste:{icon:"paste",command:"Paste",bundleKey:"PASTE_BUTTON_TOOLTIP"},UnorderedList:{icon:"list",command:"InsertUnorderedList",bundleKey:"UNORDERED_LIST_BUTTON_TOOLTIP"},OrderedList:{icon:"numbered-text",command:"InsertOrderedList",bundleKey:"ORDERED_LIST_BUTTON_TOOLTIP"},Outdent:{icon:"outdent",command:"Outdent",bundleKey:"OUTDENT_BUTTON_TOOLTIP"},Indent:{icon:"indent",command:"Indent",bundleKey:"INDENT_BUTTON_TOOLTIP"},Undo:{icon:"undo",command:"Undo",bundleKey:"UNDO_BUTTON_TOOLTIP"},Redo:{icon:"redo",command:"Redo",bundleKey:"REDO_BUTTON_TOOLTIP"},TextAlign:{Left:{icon:"text-align-left",style:"alignleft",bundleKey:"TEXTALIGH_LEFT"},Center:{icon:"text-align-center",style:"aligncenter",bundleKey:"TEXTALIGH_CENTER"},Right:{icon:"text-align-right",style:"alignright",bundleKey:"TEXTALIGH_RIGHT"},Full:{icon:"text-align-justified",style:"alignjustify",bundleKey:"TEXTALIGH_FULL"},bundleKey:"TEXTALIGN_BUTTON_TOOLTIP"},FontFamily:{AndaleMono:{text:"Andale Mono",commandValue:'"andale mono",monospace'},Arial:{text:"Arial",commandValue:"arial, helvetica, sans-serif"},ArialBlack:{text:"Arial Black",commandValue:'"arial black", sans-serif'},BookAntiqua:{text:"Book Antiqua",commandValue:'"book antiqua", palatino, serif'},ComicSansMS:{text:"Comic Sans MS",commandValue:'"comic sans ms", sans-serif'},CourierNew:{text:"Courier New",commandValue:'"courier new", couriret, monospace'},Georgia:{text:"Georgia",commandValue:"georgia, palatino, serif"},Helvetica:{text:"Helvetica",commandValue:"helvetica, arial, sans-serif"},Impact:{text:"Impact",commandValue:"impact, sans-serif"},Symbol:{text:"Symbol",commandValue:'"symbol"'},Tahoma:{text:"Tahoma",commandValue:"tahoma, arial, helvetica, sans-serif"},Terminal:{text:"Terminal",commandValue:"terminal, monaco, monospace"},TimesNewRoman:{text:"Times New Roman",commandValue:'"times new roman", times, sans-serif'},TrebuchetMS:{text:"Trebuchet MS",commandValue:'"trebuchet ms", geneva, sans-serif'},Verdana:{text:"Verdana",commandValue:"verdana, geneva, sans-serif"},Webdings:{text:"Webdings",commandValue:'"webdings"'},Wingdings:{text:"Wingdings",commandValue:'wingdings, "zapf dingbats"'}},FontSize:[8,10,12,14,18,24,36],TextColor:{icon:"text-color",command:"ForeColor",style:"color",defaultValue:"#000000",bundleKey:"TEXT_COLOR_BUTTON_TOOLTIP"},BackgroundColor:{icon:"color-fill",command:"HiliteColor",style:"background-color",defaultValue:"#ffffff",bundleKey:"BACKGROUND_COLOR_BUTTON_TOOLTIP"},InsertImage:{icon:"picture",bundleKey:"IMAGE_BUTTON_TOOLTIP"},InsertLink:{icon:"chain-link",bundleKey:"LINK_BUTTON_TOOLTIP"},Unlink:{icon:"broken-link",command:"unlink",bundleKey:"UNLINK_BUTTON_TOOLTIP"},InsertTable:{icon:"table-view",bundleKey:"TABLE_BUTTON_TOOLTIP"},FormatBlock:{Paragraph:{text:"Paragraph",commandValue:"p",bundleKey:"PARAGRAPH_BUTTON_TEXT"},Heading1:{text:"Heading 1",commandValue:"h1",bundleKey:"HEADING1_BUTTON_TEXT"},Heading2:{text:"Heading 2",commandValue:"h2",bundleKey:"HEADING2_BUTTON_TEXT"},Heading3:{text:"Heading 3",commandValue:"h3",bundleKey:"HEADING3_BUTTON_TEXT"},Heading4:{text:"Heading 4",commandValue:"h4",bundleKey:"HEADING4_BUTTON_TEXT"},Heading5:{text:"Heading 5",commandValue:"h5",bundleKey:"HEADING5_BUTTON_TEXT"},Heading6:{text:"Heading 6",commandValue:"h6",bundleKey:"HEADING6_BUTTON_TEXT"}}};t.Accessibility={FontFamily:"FONT_FAMILY_TEXT",FontSize:"FONT_SIZE_TEXT",FontColor:"FONT_COLOR_TEXT",BackgroundColor:"BACKGROUND_COLOR_TEXT",FormatBlock:"FORMAT_BUTTON_TOOLTIP"};t.ButtonGroups={"font-style":["Bold","Italic","Underline","Strikethrough"],"text-align":["TextAlign"],font:["FontFamily","FontSize","TextColor","BackgroundColor"],structure:["UnorderedList","OrderedList","Outdent","Indent"],link:["InsertLink","Unlink"],insert:["InsertImage"],undo:["Undo","Redo"],clipboard:["Cut","Copy","Paste"],custom:[],table:["table"]};var n={};var o=function(){sap.ui.require(["sap/m/MenuItem","sap/m/Button","sap/m/OverflowToolbarButton","sap/m/OverflowToolbarToggleButton","sap/m/SplitButton","sap/m/MenuButton","sap/m/Menu","sap/m/Select","sap/m/ToolbarSeparator","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/Dialog","sap/m/Label","sap/m/CheckBox","sap/m/Input","sap/m/HBox","sap/m/VBox","sap/m/Text","sap/m/StepInput","sap/ui/core/InvisibleText","sap/m/ColorPalettePopover","sap/m/library"],function(e,o,a,r,i,l,u,T,c,d,s,m,p,O,y,b,B,f,g,I,_,L){t.RichTextEditorHelper.bSapMLoaded=true;n.Button=o;n.OverflowToolbarButton=a;n.OverflowToolbarToggleButton=r;n.SplitButton=i;n.MenuButton=l;n.Menu=u;n.Select=T;n.ToolbarSeparator=c;n.OverflowToolbar=d;n.OverflowToolbarLayoutData=s;n.MenuItem=e;n.Dialog=m;n.Label=p;n.CheckBox=O;n.Input=y;n.HBox=b;n.VBox=b;n.Text=f;n.StepInput=g;n.InvisibleText=I;n.ColorPalettePopover=_;n.ButtonTypeDefault=L.ButtonType.Default;n.ButtonTypeTransparent=L.ButtonType.Transparent;n.PriorityNeverOverflow=L.OverflowToolbarPriority.NeverOverflow})};var a=function(e,t){if(n[e]){return new n[e](t)}};t.RichTextEditorHelper={bSapMLoaded:false,createOverflowToolbar:function(e,t){return a("OverflowToolbar",{id:e,content:t})},createInvisibleText:function(e){return a("InvisibleText",e)},createButton:function(e){e.type?e.type:n.ButtonTypeTransparent;return a("Button",e)},createOverflowToolbarButton:function(e){e.type=n.ButtonTypeTransparent;return a("OverflowToolbarButton",e)},createSplitButton:function(e){e.type=n.ButtonTypeDefault;return a("SplitButton",e)},createOverflowToolbarToggleButton:function(e){e.type=n.ButtonTypeTransparent;return a("OverflowToolbarToggleButton",e)},createMenuButton:function(e,t,o,r,i){return a("MenuButton",{layoutData:a("OverflowToolbarLayoutData",{priority:n.PriorityNeverOverflow}),type:n.ButtonTypeTransparent,id:e,menu:a("Menu",{itemSelected:o,items:t}),icon:r,tooltip:i})},createMenuItem:function(e,t,n){return a("MenuItem",{id:e,icon:n,text:t})},createToggleButton:function(e){e.layoutData=a("OverflowToolbarLayoutData",{priority:n.PriorityNeverOverflow});e.type=n.ButtonTypeTransparent;return a("ToggleButton",e)},createToolbarSeparator:function(){return a("ToolbarSeparator")},createSelect:function(e){return a("Select",e)},createInput:function(e){return a("Input",e)},createLabel:function(e){return a("Label",e)},createCheckBox:function(e){return a("CheckBox",e)},createDialog:function(e){return a("Dialog",e).addStyleClass("sapUiContentPadding")},createText:function(e){return a("Text",e)},createHBox:function(e){return a("HBox",e)},createVBox:function(e){return a("VBox",e)},createStepInput:function(e){return a("StepInput",e)},createColorPalettePopover:function(e){return a("ColorPalettePopover",e)}};if(sap.ui.getCore().getLoadedLibraries()["sap.m"]){o()}else{var r=function(e){var t=e.getParameters();if(t.stereotype==="library"&&t.name==="sap.m"){setTimeout(o.bind(null),0);setTimeout(sap.ui.getCore()["detachLibraryChanged"].bind(sap.ui.getCore(),r),0)}};sap.ui.getCore().attachLibraryChanged(r)}return t});
sap.ui.require.preload({
	"sap/ui/richtexteditor/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.richtexteditor","type":"library","embeds":[],"applicationVersion":{"version":"1.120.21"},"title":"A rich text editor (RTE) control.","description":"A rich text editor (RTE) control. Requires installation of an additional rich text editor library.","ach":"CA-UI5-CTR-RIL","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"TinyMCE-5","packagedWithMySelf":true,"version":"5.10.9-138"},{"name":"TinyMCE-6","packagedWithMySelf":true,"version":"6.8.4-35"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_fiori_3","sap_fiori_3_dark","sap_fiori_3_hcb","sap_fiori_3_hcw","sap_horizon","sap_horizon_dark","sap_horizon_hcb","sap_horizon_hcw"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.120","libs":{"sap.ui.core":{"minVersion":"1.120.21"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.richtexteditor.RichTextEditor","sap.ui.richtexteditor.ToolbarWrapper","sap.ui.richtexteditor.RTESplitButton"],"elements":[],"types":["sap.ui.richtexteditor.EditorType"],"interfaces":["sap.ui.richtexteditor.IToolbar"]}}}}'
});
//# sourceMappingURL=library-preload.js.map