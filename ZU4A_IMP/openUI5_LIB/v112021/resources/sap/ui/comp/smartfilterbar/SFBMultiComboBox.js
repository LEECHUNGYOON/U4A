/*!
 * SAPUI5
 * (c) Copyright 2009-2023 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/m/MultiComboBox","sap/m/MultiComboBoxRenderer","sap/ui/comp/util/ComboBoxUtils","sap/m/inputUtils/ListHelpers","sap/ui/base/ManagedObjectObserver"],function(e,t,r,i,o){"use strict";var n=i.CSS_CLASS+"Token";var s=e.extend("sap.ui.comp.smartfilterbar.SFBMultiComboBox",{metadata:{library:"sap.ui.comp",interfaces:["sap.ui.comp.IDropDownTextArrangement"],properties:{textArrangement:{type:"string",group:"Misc",defaultValue:""}}},renderer:t});s.prototype.init=function(){var t=false;e.prototype.init.apply(this,arguments);this._oObserver=new o(function(e){if(!e){return}if(e.type==="aggregation"&&e.name==="items"&&this.data("__dataReceivedPromise")&&!t){t=true;this.data("__dataReceivedPromise").then(function(){this.fireSelectionChange({stopChangePropagation:true})}.bind(this))}}.bind(this));this._oObserver.observe(this,{aggregations:["items"]})};s.prototype.onBeforeRendering=function(){e.prototype.onBeforeRendering.apply(this,arguments);this._parseCurrentValue();this._processTextArrangement()};s.prototype._processTextArrangement=function(){var e,t,i,o,s,a=this.getSelectedKeys(),p=this.getTextArrangement();if(!p||a.length===0){return}for(e=0;e<a.length;e++){i=a[e];o=this.getItemByKey(""+i);s=r.formatDisplayBehaviour(o,p);if(s){t=o.data(n);if(t&&t.isA("sap.m.Token")){t.setText(s)}}}};s.prototype._parseCurrentValue=function(){var e=this.getValue();if(e){this.addSelectedKeys([e]);this.fireSelectionChange({stopChangePropagation:true})}};s.prototype.useHighlightItemsWithContains=function(){return true};s.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);this._oObserver=null};return s});
//# sourceMappingURL=SFBMultiComboBox.js.map