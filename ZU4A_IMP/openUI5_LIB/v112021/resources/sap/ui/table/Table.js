sap.ui.define(["sap/ui/Device","sap/ui/core/Control","sap/ui/core/util/PasteHelper","sap/ui/model/ChangeReason","sap/ui/model/Filter","sap/ui/model/Sorter","sap/ui/model/BindingMode","./Column","./Row","./library","./utils/TableUtils","./extensions/ExtensionBase","./extensions/Accessibility","./extensions/Keyboard","./extensions/Pointer","./extensions/Scrolling","./extensions/DragAndDrop","./TableRenderer","./rowmodes/Type","./rowmodes/Fixed","./rowmodes/Interactive","./rowmodes/Auto","./plugins/SelectionModelSelection","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/library"],(function(e,t,o,i,n,s,r,a,l,u,d,p,h,g,c,f,m,y,w,b,C,R,_,jQuery,v,S,x){"use strict";var T=u.GroupEventType,A=u.SelectionMode,I=u.SelectionBehavior,B=x.SortOrder,M=d.Hook.Keys.Table,F=d.createWeakMapFacade(),D=t.extend("sap.ui.table.Table",{metadata:{library:"sap.ui.table",dnd:!0,properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"auto"},rowHeight:{type:"int",group:"Appearance",defaultValue:null,deprecated:!0},columnHeaderHeight:{type:"int",group:"Appearance",defaultValue:null},columnHeaderVisible:{type:"boolean",group:"Appearance",defaultValue:!0},visibleRowCount:{type:"int",group:"Appearance",defaultValue:10,deprecated:!0},firstVisibleRow:{type:"int",group:"Appearance",defaultValue:0},selectionMode:{type:"sap.ui.table.SelectionMode",group:"Behavior",defaultValue:A.MultiToggle},selectionBehavior:{type:"sap.ui.table.SelectionBehavior",group:"Behavior",defaultValue:I.RowSelector},selectedIndex:{type:"int",group:"Appearance",defaultValue:-1,deprecated:!0},editable:{type:"boolean",group:"Behavior",defaultValue:!0,deprecated:!0},navigationMode:{type:"sap.ui.table.NavigationMode",group:"Behavior",defaultValue:"Scrollbar",deprecated:!0},threshold:{type:"int",group:"Appearance",defaultValue:100},enableColumnReordering:{type:"boolean",group:"Behavior",defaultValue:!0},enableGrouping:{type:"boolean",group:"Behavior",defaultValue:!1,deprecated:!0},showColumnVisibilityMenu:{type:"boolean",group:"Appearance",defaultValue:!1},showNoData:{type:"boolean",group:"Appearance",defaultValue:!0},visibleRowCountMode:{type:"sap.ui.table.VisibleRowCountMode",group:"Appearance",defaultValue:"Fixed",deprecated:!0},minAutoRowCount:{type:"int",group:"Appearance",defaultValue:5,deprecated:!0},fixedColumnCount:{type:"int",group:"Appearance",defaultValue:0},fixedRowCount:{type:"int",group:"Appearance",defaultValue:0,deprecated:!0},fixedBottomRowCount:{type:"int",group:"Appearance",defaultValue:0,deprecated:!0},enableColumnFreeze:{type:"boolean",group:"Behavior",defaultValue:!1},enableCellFilter:{type:"boolean",group:"Behavior",defaultValue:!1},showOverlay:{type:"boolean",group:"Appearance",defaultValue:!1},enableSelectAll:{type:"boolean",group:"Behavior",defaultValue:!0},enableCustomFilter:{type:"boolean",group:"Behavior",defaultValue:!1},enableBusyIndicator:{type:"boolean",group:"Behavior",defaultValue:!1},rowActionCount:{type:"int",group:"Appearance",defaultValue:0},alternateRowColors:{type:"boolean",group:"Appearance",defaultValue:!1},rowCountConstraints:{type:"object",visibility:"hidden"}},defaultAggregation:"columns",aggregations:{title:{type:"sap.ui.core.Control",altTypes:["string"],multiple:!1,deprecated:!0},footer:{type:"sap.ui.core.Control",altTypes:["string"],multiple:!1},toolbar:{type:"sap.ui.core.Toolbar",multiple:!1,deprecated:!0},extension:{type:"sap.ui.core.Control",multiple:!0,singularName:"extension"},columns:{type:"sap.ui.table.Column",multiple:!0,singularName:"column",bindable:"bindable",dnd:{layout:"Horizontal"}},rows:{type:"sap.ui.table.Row",multiple:!0,singularName:"row",bindable:"bindable",selector:"#{id}-tableCCnt",dnd:!0},rowMode:{type:"sap.ui.table.rowmodes.RowMode",multiple:!1,altTypes:["sap.ui.table.rowmodes.Type"]},creationRow:{type:"sap.ui.core.Control",multiple:!1,visibility:"hidden"},noData:{type:"sap.ui.core.Control",altTypes:["string"],multiple:!1},_noColumnsMessage:{type:"sap.ui.core.Control",multiple:!1,visibility:"hidden"},rowActionTemplate:{type:"sap.ui.table.RowAction",multiple:!1},rowSettingsTemplate:{type:"sap.ui.table.RowSettings",multiple:!1},contextMenu:{type:"sap.ui.core.IContextMenu",multiple:!1},plugins:{type:"sap.ui.table.plugins.SelectionPlugin",multiple:!0,singularName:"plugin",deprecated:!0},_messageStrip:{type:"sap.ui.core.Control",multiple:!1,visibility:"hidden"},_hiddenDependents:{type:"sap.ui.core.Element",multiple:!0,visibility:"hidden"}},associations:{groupBy:{type:"sap.ui.table.Column",multiple:!1,deprecated:!0},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"}},events:{rowSelectionChange:{parameters:{rowIndex:{type:"int"},rowContext:{type:"sap.ui.model.Context"},rowIndices:{type:"int[]"},selectAll:{type:"boolean"},userInteraction:{type:"boolean"}}},columnSelect:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"}}},columnResize:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"},width:{type:"sap.ui.core.CSSSize"}}},columnMove:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"},newPos:{type:"int"}}},sort:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"},sortOrder:{type:"sap.ui.core.SortOrder"},columnAdded:{type:"boolean"}}},filter:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"},value:{type:"string"}}},group:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"}},deprecated:!0},columnVisibility:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"},newVisible:{type:"boolean"}}},cellClick:{allowPreventDefault:!0,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}}},cellContextmenu:{allowPreventDefault:!0,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}},deprecated:!0},beforeOpenContextMenu:{allowPreventDefault:!0,parameters:{rowIndex:{type:"int"},columnIndex:{type:"int"},contextMenu:{type:"sap.ui.core.IContextMenu"}}},columnFreeze:{allowPreventDefault:!0,parameters:{column:{type:"sap.ui.table.Column"}}},customFilter:{parameters:{column:{type:"sap.ui.table.Column"},value:{type:"string"}}},firstVisibleRowChanged:{parameters:{firstVisibleRow:{type:"int"}}},busyStateChanged:{parameters:{busy:{type:"boolean"}}},paste:{allowPreventDefault:!0,parameters:{data:{type:"string[][]"}}},rowsUpdated:{}},designtime:"sap/ui/table/designtime/Table.designtime"},renderer:y});function P(e,t,o){var i=e._getTotalRowCount(),n=e._getFirstRenderedRowIndex();e.getRows()[Math.min(t,i-1)-n]._setFocus(o)}function E(e){e._bRowsBeingBound=!1,e._bContextsAvailable=!1,F(e).iPendingRequests=0,e._iBindingLength=null}function V(e){var t;if(null==e||null==e[0])t={};else if("string"==typeof e[0]){var o=e[0],i=e[1],r=e[2],a=e[3];(i instanceof s||Array.isArray(r)&&r[0]instanceof n)&&(a=r,r=i,i=void 0),t={path:o,sorter:r,filters:a,template:i}}else t=e[0];return t}function H(e){var t=e.getRowMode();return e.isDestroyStarted()||d.isA(t,"sap.ui.table.rowmodes.RowMode")||F(e).oDefaultRowMode||U(e),d.isA(t,"sap.ui.table.rowmodes.RowMode")?t:F(e).oDefaultRowMode}function U(e){const t=e.getRowMode(),o=d.isA(t,"sap.ui.table.rowmodes.RowMode")?void 0:t||w.Fixed;if(void 0!==o&&!F(e).oDefaultRowMode)if(null!==t){switch(o){case w.Fixed:F(e).oDefaultRowMode=new b;break;case w.Interactive:F(e).oDefaultRowMode=new C;break;case w.Auto:F(e).oDefaultRowMode=new R;break;default:throw new Error("Default row mode could not be created")}e.addAggregation("_hiddenDependents",F(e).oDefaultRowMode)}else{switch(e.getVisibleRowCountMode()){case w.Fixed:F(e).oDefaultRowMode=new b(!0);break;case w.Interactive:F(e).oDefaultRowMode=new C(!0);break;case w.Auto:F(e).oDefaultRowMode=new R(!0);break;default:throw new Error("Default row mode could not be created")}e.addAggregation("_hiddenDependents",F(e).oDefaultRowMode)}}function L(e){F(e).oDefaultRowMode&&(F(e).oDefaultRowMode.destroy(),delete F(e).oDefaultRowMode)}function W(e,t,o){for(var i=0;i<t.length;i++)e[o+i]=t[i]}function z(e){e._oVirtualRow&&(e._oVirtualRow.destroy(),delete e._oVirtualRow)}function O(e,t){e._bContextsAvailable&&d.Hook.call(e,M.UpdateRows,t||d.RowsUpdateReason.Unknown)}function N(e){e.invalidateRowsAggregation(),e._invalidateComputedFixedColumnCount();var t=e.getCreationRow();t&&t._update()}function q(e,t){var o=e.getBinding(),i=e.getBindingInfo("rows");return o?null!=i.length?i.length:!0===t?o.getLength():e._bContextsAvailable?(F(e).iCachedBindingLength=o.getLength(),F(e).iCachedBindingLength):F(e).iCachedBindingLength:0}function k(e){e.getEnableBusyIndicator()&&(G(e),e._hasPendingRequests()?e.setBusy(!0):F(e).hideBusyIndicatorTimeoutId=setTimeout((function(){e.setBusy(!1),G(e)}),10))}function G(e){clearTimeout(F(e).hideBusyIndicatorTimeoutId),delete F(e).hideBusyIndicatorTimeoutId}function j(e){var t=e.getDependents().filter((e=>e.isA("sap.ui.table.plugins.SelectionPlugin")));return t.unshift(...e.getPlugins()),t[0]}function K(e,t){t&&t.getMetadata().hasEvent("selectionChange")&&t.attachSelectionChange(e._onSelectionChanged,e)}function Z(e,t){t&&t.getMetadata().hasEvent("selectionChange")&&t.detachSelectionChange(e._onSelectionChanged,e)}function Y(e,t){const o=e.getAggregation("_hiddenDependents")||[];return t.filter((e=>!o.includes(e)))}return D.prototype.init=function(){this.mSkipPropagation={rowActionTemplate:!0,rowSettingsTemplate:!0},F(this).iCachedBindingLength=0,F(this).iFirstRenderedRowIndex=0,F(this).iComputedFixedColumnCount=null,this._attachExtensions(),this._bRtlMode=S.getRTL(),this._bRowsBeingBound=!1,this._bContextsAvailable=!1,this._aRowClones=[],this._bRowAggregationInvalid=!0,this._mTimeouts={},this._mAnimationFrames={},this._setHideStandardTooltips(!1),this._aRowHeights=[],this._aSortedColumns=[],this._aTableHeaders=[],this._bAllowColumnHeaderTextSelection=!1,F(this).iPendingRequests=0,this._iBindingLength=null,this._bFirstRendering=!0,this._nDevicePixelRatio=window.devicePixelRatio,sap.ui.getCore().isThemeApplied()&&d.readThemeParameters(),this._bInvalid=!0},D.prototype.applySettings=function(e,o){if(e){var i=["threshold","firstVisibleRow","rowMode"],n={};i.push("plugins");for(var s=0;s<i.length;s++){var r=i[s];r in e&&(n[r]=e[r],delete e[r])}Object.keys(n).length>0&&t.prototype.applySettings.call(this,n,o)}this._initLegacySelectionPlugin(),U(this),t.prototype.applySettings.call(this,e,o)},D.prototype._attachExtensions=function(){this._bExtensionsInitialized||(p.enrich(this,c),p.enrich(this,f),p.enrich(this,g),p.enrich(this,h),p.enrich(this,m),e.os.ios&&sap.ui.require(["sap/ui/table/extensions/ScrollingIOS"],function(e){this.bIsDestroyed||p.enrich(this,e)}.bind(this)),this._bExtensionsInitialized=!0)},D.prototype.exit=function(){this.invalidateRowsAggregation(),this._detachExtensions(),this._cleanUpTimers(),this._detachEvents(),d.Menu.cleanupDefaultContentCellContextMenu(this),G(this),delete this._aTableHeaders},D.prototype._detachExtensions=function(){p.cleanup(this)},D.prototype.onpaste=function(e){if(!e.isMarked()&&!/^(input|textarea)$/i.test(e.target.tagName)&&this.getDomRef("sapUiTableCnt").contains(e.target)){var t=o.getPastedDataAs2DArray(e.originalEvent);0!==t.length&&0!==t[0].length&&this.firePaste({data:t})}},D.prototype.onThemeChanged=function(){d.readThemeParameters(),this.getDomRef()&&this.invalidate()},D.prototype.onLocalizationChanged=function(e){var t=e.changes||{},o=t.hasOwnProperty("rtl"),i=t.hasOwnProperty("language");this._adaptLocalization(o,i).then(function(){this.invalidate()}.bind(this)).catch((function(){}))},D.prototype.onlocalizationChanged=D.prototype.onLocalizationChanged,D.prototype._adaptLocalization=function(e,t){if(!e&&!t)return Promise.reject();var o=Promise.resolve();return e&&(this._bRtlMode=S.getRTL()),t&&(o=d.getResourceBundle({async:!0,reload:!0})),o.then(function(){t&&(d.Menu.cleanupDefaultContentCellContextMenu(this),this._invalidateColumnMenus())}.bind(this))},D.prototype._collectRowHeights=function(t){var o=this.getDomRef();if(!o)return[];var i=this._getBaseRowHeight(),n=t?".sapUiTableColHdrTr":".sapUiTableTr",s=o.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+n),r=o.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+n),a=t?d.getHeaderRowCount(this):this.getRows().length,l=[],u=e.browser.chrome&&1!=window.devicePixelRatio;t&&(this.getColumnHeaderHeight()>0?i=this.getColumnHeaderHeight():this.getRowMode()&&(i=this._getDefaultRowHeight()));for(var p=0;p<a;p++){var h=s[p]?s[p].getBoundingClientRect().height:0,g=r[p]?r[p].getBoundingClientRect().height:0,c=Math.max(h,g);if(u){var f=i-c;if(f>0&&f<1){l.push(Math.max(c,i-1));continue}}l.push(Math.max(c,i))}return l.length>0&&!t&&d.dynamicCall(this._getSyncExtension,(function(e){var t=e.syncRowHeights(l.slice());t&&t.length===l.length&&(l=t.slice())})),l},D.prototype._resetRowHeights=function(){var e=this._getBaseRowHeight(),t="";e&&(t=e+"px");var o=this.getDomRef("tableCCnt");if(o)for(var i=o.querySelectorAll(".sapUiTableTr"),n=0;n<i.length;n++)i[n].style.height=t},D.prototype._resetColumnHeaderHeights=function(){var e=this.getDomRef();if(e)for(var t=e.querySelectorAll(".sapUiTableColHdrTr"),o=0;o<t.length;o++)t[o].style.height=null},D.prototype._collectTableSizes=function(){var e={tableCtrlScrollWidth:0,tableRowHdrScrWidth:0,tableCtrlScrWidth:0,tableCtrlFixedWidth:0,tableCntHeight:0,tableCntWidth:0},t=this.getDomRef();if(!t)return e;var o=t.querySelector(".sapUiTableCnt");o&&(e.tableCntHeight=o.clientHeight,e.tableCntWidth=o.clientWidth);var i=t.querySelector(".sapUiTableCtrlScroll:not(.sapUiTableCHT)");i&&(e.tableCtrlScrollWidth=i.getBoundingClientRect().width);var n=t.querySelector(".sapUiTableRowHdrScr");n&&(e.tableRowHdrScrWidth=n.clientWidth);var s=t.querySelector(".sapUiTableCtrlScr:not(.sapUiTableCHA)");s&&(e.tableCtrlScrWidth=s.getBoundingClientRect().width);var r=t.querySelector(".sapUiTableCtrlScrFixed:not(.sapUiTableCHA) > .sapUiTableCtrlFixed");r&&(e.tableCtrlFixedWidth=r.clientWidth);var a=this._getSpanBasedComputedFixedColumnCount(),l=0;if(a)for(var u=this.getColumns(),p=t.querySelectorAll(".sapUiTableCtrlFirstCol:not(.sapUiTableCHTHR) > th"),h=0;h<p.length;h++){var g=parseInt(p[h].getAttribute("data-sap-ui-headcolindex"));if(!isNaN(g)&&g<a){var c=u[g];l+=null!=c._iFixWidth?c._iFixWidth:p[h].getBoundingClientRect().width}}if(l>0){var f=this._getScrollExtension(),m=e.tableRowHdrScrWidth,y=f.getVerticalScrollbar();if(y&&!f.isVerticalScrollbarExternal()&&(m+=y.offsetWidth),d.hasRowActions(this)){var w=this.getDomRef("sapUiTableRowActionScr");w&&(m+=w.offsetWidth)}m+=d.Column.getMinColumnWidth();var b=!(e.tableCntWidth-m>l);this._bIgnoreFixedColumnCount!==b&&(this._bIgnoreFixedColumnCount=b,this.getEnableColumnFreeze()&&this._invalidateColumnMenus(),this.invalidate())}return e},D.prototype._updateRowHeights=function(e,t){var o=this.getDomRef();if(o){var i=t?".sapUiTableColHdrTr":".sapUiTableTr",n=t?[]:o.querySelectorAll(".sapUiTableRowSelectionCell"),s=t?[]:o.querySelectorAll(".sapUiTableRowActionCell"),r=o.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+i),a=o.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+i);Array.prototype.forEach.call(n,l),Array.prototype.forEach.call(s,l),Array.prototype.forEach.call(r,l),Array.prototype.forEach.call(a,l)}function l(t,o){var i=e[o];i&&(t.style.height=i+"px")}},D.prototype.onBeforeRendering=function(e){this._bInvalid=!0,this._detachEvents(),e&&e.isMarked("renderRows")||(this._cleanUpTimers(),this._aTableHeaders=[])},D.prototype.onAfterRendering=function(e){var t=e&&e.isMarked("renderRows");this._bInvalid=!1,this._attachEvents(),this._initRowDomRefs(),this._bAllowColumnHeaderTextSelection||t||this._disableTextSelection(this.$().find(".sapUiTableCHA")),this.getDomRef().classList.remove("sapUiTableRActFlexible"),t||(this._aTableHeaders=this.$().find(".sapUiTableColHdrCnt th")),this._updateTableSizes(d.RowsUpdateReason.Render,!0),d.registerResizeHandler(this,"Table",this._onTableResize.bind(this)),this._bFirstRendering=!1},D.prototype.invalidate=function(){return this._bInvalid=!0,d.Column.invalidateColumnUtils(this),t.prototype.invalidate.call(this)},D.prototype._initRowDomRefs=function(){for(var e=this.getRows(),t=0;t<e.length;t++)e[t].initDomRefs()},D.prototype._updateTableSizes=function(e,t){t=!0===t;var o=this.getDomRef();if(!this._bInvalid&&o&&sap.ui.getCore().isThemeApplied()&&0!==o.offsetWidth){t||(this._resetRowHeights(),this._resetColumnHeaderHeights()),this._aRowHeights=this._collectRowHeights(!1);var i=this._collectRowHeights(!0);!function(e){var t=e.getDomRef(),o=d.Column.getMinColumnWidth(),i=[],n=e.getColumnHeaderVisible();function s(e,t){return e<=t?Math.max(e,t-5,o)+"px":-1}function r(e){e&&Array.prototype.forEach.call(e.headers,(function(t){t.style.width=e.newWidth}))}if(e._getVisibleColumns().map((function(r){var a,l,u,p=Math.max(r._minWidth||0,o,r.getMinWidth()),h=r.getWidth();if(d.isVariableWidth(h)&&!d.isFixedColumn(e,r.getIndex())&&null!==(u=(l=(a=t.querySelectorAll('th[data-sap-ui-colid="'+r.getId()+'"]'))[n?0:1])?l.offsetWidth:null)){if(u<=p)return{headers:a,newWidth:s(u,p)};if(l&&l.style.width!=h)return i.push({col:r,header:l,minWidth:p,headers:a}),{headers:a,newWidth:h};i.push({col:r,header:l,minWidth:p,headers:a})}return null})).forEach(r),i.length)for(var a,l=0;l<i.length;l++)a=i[l].header&&i[l].header.offsetWidth,i[l].newWidth=s(a,i[l].minWidth),parseInt(i[l].newWidth)>=0&&r(i[l])}(this);var n=this._collectTableSizes();this._updateRowHeights(this._aRowHeights,!1),this._updateRowHeights(i,!0),d.dynamicCall(this._getSyncExtension,(function(e){e.syncLayout({top:this.getDomRef("sapUiTableCnt").offsetTop,headerHeight:this.getDomRef().querySelector(".sapUiTableColHdrCnt").getBoundingClientRect().height,contentHeight:this.getDomRef("tableCCnt").getBoundingClientRect().height})}),this);var s=this.$();if(d.hasRowActions(this)||d.hasRowNavigationIndicators(this)){var r=s.hasClass("sapUiTableRActFlexible"),a=this.getDomRef("dummycolhdr");if(a){var l=a.clientWidth>2;if(!r&&l){var u=this.getColumns().reduce(function(e,t){var o=t.getDomRef();return o&&t.getIndex()>=this.getComputedFixedColumnCount()&&(e+=o.offsetWidth),e}.bind(this),0),p=u+n.tableRowHdrScrWidth+n.tableCtrlFixedWidth,h={};d.hasRowActions(this)||(p=p-d.ThemeParameters.navIndicatorWidth+d.BaseBorderWidth),h[this._bRtlMode?"right":"left"]=p,this.$("sapUiTableRowActionScr").css(h),this.$("rowacthdr").css(h),s.toggleClass("sapUiTableRActFlexible",!0)}else r&&!l&&(this.$("sapUiTableRowActionScr").removeAttr("style"),this.$("rowacthdr").removeAttr("style"),s.toggleClass("sapUiTableRActFlexible",!1))}}s.find(".sapUiTableNoOpacity").addBack().removeClass("sapUiTableNoOpacity"),d.Hook.call(this,M.UpdateSizes,e)}},D.prototype.setShowOverlay=function(e){return this.setProperty("showOverlay",e,!0),this.getDomRef()&&(this.$().toggleClass("sapUiTableOverlay",this.getShowOverlay()),this._getAccExtension().updateAriaStateForOverlayAndNoData(),this._getKeyboardExtension().updateNoDataAndOverlayFocus()),this},D.prototype._updateFixedBottomRows=function(){var e=this.getDomRef();if(e&&0!==this._getRowCounts().fixedBottom){var t=d.getFirstFixedBottomRowIndex(this),o=this.getRows();jQuery(e).find(".sapUiTableRowLastScrollable").removeClass("sapUiTableRowLastScrollable"),jQuery(e).find(".sapUiTableRowFirstFixedBottom").removeClass("sapUiTableRowFirstFixedBottom"),t>=0&&t<o.length&&o[t].getDomRefs(!0).row.addClass("sapUiTableRowFirstFixedBottom",!0),t>=1&&t<o.length&&o[t-1].getDomRefs(!0).row.addClass("sapUiTableRowLastScrollable",!0)}},D.prototype.focus=function(e){this._oFocusInfo=e,t.prototype.focus.apply(this,arguments),delete this._oFocusInfo},D.prototype.getFocusInfo=function(){var e=this.$().find(":focus").attr("id");return e?{customId:e}:t.prototype.getFocusInfo.apply(this,arguments)},D.prototype.applyFocusInfo=function(e){return delete this._bApplyFocusInfoFailed,e&&e.customId?document.getElementById(e.customId)?jQuery(document.getElementById(e.customId)).trigger("focus"):this._bApplyFocusInfoFailed=!0:t.prototype.applyFocusInfo.apply(this,arguments),this},D.prototype.setTitle=function(e){var t=e;return("string"==typeof e||e instanceof String)&&(t=d._getTableTemplateHelper().createTextView({text:e})).addStyleClass("sapUiTableHdrTitle"),this.setAggregation("title",t),this},D.prototype.setFooter=function(e){var t=e;return("string"==typeof e||e instanceof String)&&(t=d._getTableTemplateHelper().createTextView({text:e})),this.setAggregation("footer",t),this},D.prototype.setSelectionMode=function(e){return e===A.Multi&&(e=A.MultiToggle,v.warning("The selection mode 'Multi' is deprecated and must not be used anymore. Your setting was defaulted to selection mode 'MultiToggle'",this)),this._hasSelectionPlugin()?v.error("If a selection plugin is applied to the table, the selection mode is controlled by the plugin.",this):(this.setProperty("selectionMode",e),this._getSelectionPlugin().setSelectionMode(e)),this},D.prototype.setFirstVisibleRow=function(e){if(null==e)e=0;else if(e<0)v.error("The index of the first visible row must be greater than or equal to 0. The value has been set to 0.",this),e=0;else if(this._bContextsAvailable){var t=this._getMaxFirstVisibleRowIndex();t<e&&(v.warning("The index of the first visible row is too high. The value has been set to "+t+".",this),e=t)}return this._setFirstVisibleRowIndex(e),this},D.prototype._setFirstVisibleRowIndex=function(e,t){t=Object.assign({onScroll:!1,suppressScrolling:!1,suppressEvent:!1,forceEvent:!1,suppressRendering:!1,onlySetProperty:!1},t);let o=this.getDomRef("tableCCnt")||void 0;void 0!==o&&!0===o.contains(document.activeElement)&&document.activeElement.blur(),this._bContextsAvailable&&(e=Math.min(e,this._getMaxFirstVisibleRowIndex())),e=Math.max(0,e);var i=this.getFirstVisibleRow()!==e,n=this._getFirstRenderedRowIndex(),s=this._bContextsAvailable?Math.min(e,this._getMaxFirstRenderedRowIndex()):e,r=this._getScrollExtension();if(this.setProperty("firstVisibleRow",e,!0),t.suppressRendering||(F(this).iFirstRenderedRowIndex=s),t.onlySetProperty)return!1;if(!i&&!t.forceEvent||t.suppressEvent||this.fireFirstVisibleRowChanged({firstVisibleRow:e}),!this.getBinding())return r.updateVerticalScrollPosition(),!1;var a=!1;return null!=this.getBinding()&&s!==n?(t.suppressRendering||(O(this,t.onScroll?d.RowsUpdateReason.VerticalScroll:d.RowsUpdateReason.FirstVisibleRowChange),a=!0),t.onScroll||t.suppressScrolling||r.updateVerticalScrollPosition(a)):t.onScroll||t.suppressScrolling||r.updateVerticalScrollPosition(!this._bContextsAvailable),a},D.prototype._setFocus=function(e,t){return new Promise(function(o){-1===e&&(e=this._getTotalRowCount()-1),("number"!=typeof e||e<-1)&&(e=0);var i=this.getFirstVisibleRow(),n=this._getRowCounts().count;return e>i&&e<i+n?(this.getRows()[e-i]._setFocus(t),o()):this._setFirstVisibleRowIndex(e)?void this.attachEventOnce("rowsUpdated",(function(){return P(this,e,t),o()})):(P(this,e,t),o())}.bind(this))},D.getMetadata().getAggregation("rows")._doesNotRequireFactory=!0,D.prototype.bindAggregation=function(e,o){return"rows"===e?(this._bindRows(V(Array.prototype.slice.call(arguments,1))),this):t.prototype.bindAggregation.apply(this,arguments)},D.prototype.bindRows=function(e){return this._bindRows(V(arguments)),this},D.prototype._bindRows=function(e){E(this),this._bRowsBeingBound=!0,z(this),k(this),D._addBindingListener(e,"change",function(){this._onBindingChange.apply(this,arguments)}.bind(this)),D._addBindingListener(e,"dataRequested",function(){this._onBindingDataRequested.apply(this,arguments)}.bind(this)),D._addBindingListener(e,"dataReceived",function(){this._onBindingDataReceived.apply(this,arguments)}.bind(this)),d.Hook.call(this,M.BindRows,e),t.prototype.bindAggregation.call(this,"rows",e),this._bRowsBeingBound=!1},D.prototype._bindAggregation=function(e,o){if("rows"===e&&(E(this),this._bRowsBeingBound=!0),t.prototype._bindAggregation.call(this,e,o),"rows"===e){d.Grouping.setupExperimentalGrouping(this);var i=this.getBinding(),n=i?i.getModel():null;this._bRowsBeingBound=!1,d.Hook.call(this,M.RowsBound,i),n&&n.getDefaultBindingMode()===r.OneTime&&v.error('The binding mode of the model is set to "OneTime". This binding mode is not supported for the "rows" aggregation! Scrolling can not be performed.',this)}},D.prototype.unbindAggregation=function(e,o){return"rows"===e?(this._unbindRows(),this):t.prototype.unbindAggregation.apply(this,arguments)},D.prototype.unbindRows=function(){return this._unbindRows(),this},D.prototype._unbindRows=function(){var e=this.getBindingInfo("rows");e&&d.Hook.call(this,M.UnbindRows,e),t.prototype.unbindAggregation.call(this,"rows",!0),this._bRowsBeingBound||this.bIsDestroyed||this._bIsBeingDestroyed||(this._adjustToTotalRowCount(),e&&d.Hook.call(this,M.RowsUnbound),E(this),k(this))},D._addBindingListener=function(e,t,o,i){e.events||(e.events={});var n=e.events[t];e.events[t]=function(){o.apply(i,arguments),n&&n.apply(this,arguments)}},D.prototype._onBindingChange=function(e){},D.prototype.setRowMode=function(e){return L(this),this.setAggregation("rowMode",e),U(this),this},D.prototype.destroyRowMode=function(){return this.destroyAggregation("rowMode"),F(this).oDefaultRowMode||U(this),this},D.prototype._getRowCounts=function(){var e=H(this).getComputedRowCounts(),t=this._bVariableRowHeightEnabled&&!e.fixedTop&&!e.fixedBottom;return e._fullsize=e.count,e._scrollSize=e.scrollable,e.count>0&&t&&(e.count++,e.scrollable++),e},D.prototype._isNoDataDisabled=function(){return!this.getShowNoData()||(H(this)?.isNoDataDisabled()??!1)},D.prototype.setVisibleRowCountMode=function(e){if(this.getRowMode())return v.warning('If the "rowMode" aggregation is set, setting the "visibleRowCountMode" has no effect'),this.setProperty("visibleRowCountMode",e,!0);var t=this.getVisibleRowCountMode();return this.setProperty("visibleRowCountMode",e),this.getVisibleRowCountMode()!==t&&(L(this),U(this)),this},D.prototype.setVisibleRowCount=function(e){if("Auto"==this.getVisibleRowCountMode())return v.error("VisibleRowCount will be ignored since VisibleRowCountMode is set to Auto",this),this;if(null!=e&&!isFinite(e))return this;var t=this.getFixedRowCount()+this.getFixedBottomRowCount();return e<=t&&t>0?(v.error("Table: "+this.getId()+" visibleRowCount('"+e+"') must be bigger than number of fixed rows('"+(this.getFixedRowCount()+this.getFixedBottomRowCount())+"')",this),this):this.getRowMode()?(v.warning('If the "rowMode" aggregation is set, setting the "visibleRowCount" has no effect'),this.setProperty("visibleRowCount",e,!0)):(e=this.validateProperty("visibleRowCount",e),this.setProperty("visibleRowCount",e),d.dynamicCall(this._getSyncExtension,(function(t){t.syncRowCount(e)})),this)},D.prototype.setMinAutoRowCount=function(e){return parseInt(e)<1&&(v.error("The minAutoRowCount property must be greater than 0. The value has been set to 1.",this),e=1),this.getRowMode()?(v.warning('If the "rowMode" aggregation is set, setting the "minAutoRowCount" has no effect'),this.setProperty("minAutoRowCount",e,!0)):this.setProperty("minAutoRowCount",e)},D.prototype.setTooltip=function(e){return v.warning("The aggregation tooltip is not supported for sap.ui.table.Table",this),this.setAggregation("tooltip",e,!0)},D.prototype.setNavigationMode=function(){return this.setProperty("navigationMode","Scrollbar",!0),v.error("The navigationMode property is deprecated and must not be used anymore. Your setting was defaulted to 'Scrollbar'",this),this},D.prototype._getRowContexts=function(e){var t=this.getBinding(),o=this._getRowCounts(),i=this.getThreshold();if(e=null==e?o.count:e,0!==i&&(i=Math.max(e-o.fixedTop-o.fixedBottom,i)),e=Math.max(e,H(this).getMinRequestLength(),0),!t||0===e)return[];var n=this._getFirstRenderedRowIndex(),s=[];return o.fixedTop>0&&n>0?(W(s,this._getFixedTopRowContexts(),0),W(s,this._getContexts(n+o.fixedTop,e-o.fixedBottom-o.fixedTop,i),o.fixedTop)):W(s,this._getContexts(n,e-o.fixedBottom,i),0),o.fixedBottom>0&&W(s,this._getFixedBottomRowContexts(),Math.min(o.fixedTop+o.scrollable,Math.max(this._getTotalRowCount()-o.fixedBottom,0))),s},D.prototype._getFixedTopRowContexts=function(){var e=this._getRowCounts();return e.fixedTop>0?this._getContexts(0,e.fixedTop,0,!0):[]},D.prototype._getFixedBottomRowContexts=function(){var e=this._getRowCounts(),t=q(this,!0);return e.fixedBottom>0&&e.count-e.fixedBottom<t?this._getContexts(t-e.fixedBottom,e.fixedBottom,0,!0):[]},D.prototype._getContexts=function(e,t,o,i){var n=this.getBinding();return n?n.getContexts(e,t,o,i):[]},D.prototype._adjustToTotalRowCount=function(){var e=this._getTotalRowCount();this._iBindingLength!==e&&(this._iBindingLength=e,this._updateFixedBottomRows(),this._adjustFirstVisibleRowToTotalRowCount(),d.Hook.call(this,M.TotalRowCountChanged))},D.prototype._adjustFirstVisibleRowToTotalRowCount=function(){var e=this.getFirstVisibleRow(),t=this._getMaxFirstVisibleRowIndex();t<e&&this._bContextsAvailable&&this._setFirstVisibleRowIndex(t,{onlySetProperty:!0})},D.prototype.refreshRows=function(e){this._bContextsAvailable=!1,e!==i.Sort&&e!==i.Filter||this.setFirstVisibleRow(0),d.Hook.call(this,M.RefreshRows,e||d.RowsUpdateReason.Unknown)},D.prototype.updateRows=function(e,t){if(!this.bIsDestroyed&&!this._bIsBeingDestroyed){if("AddVirtualContext"===t.detailedReason)return n=(o=this)._getRowContexts()[0],z(o),o._oVirtualRow=o._getRowClone("virtual"),o._oVirtualRow.setBindingContext(n,o.getBindingInfo("rows").model),void o.addAggregation("_hiddenDependents",o._oVirtualRow);var o,n;if("RemoveVirtualContext"!==t.detailedReason)this._bContextsAvailable=!0,e!==i.Sort&&e!==i.Filter||this.setFirstVisibleRow(0),this._adjustToTotalRowCount(),O(this,e);else z(this)}},D.prototype.insertRow=function(){return v.error('The control manages the rows aggregation. The method "insertRow" cannot be used programmatically!',this),this},D.prototype.addRow=function(){return v.error('The control manages the rows aggregation. The method "addRow" cannot be used programmatically!',this),this},D.prototype.removeRow=function(){return v.error('The control manages the rows aggregation. The method "removeRow" cannot be used programmatically!',this),null},D.prototype.removeAllRows=function(){return v.error('The control manages the rows aggregation. The method "removeAllRows" cannot be used programmatically!',this),[]},D.prototype.destroyRows=function(){return v.error('The control manages the rows aggregation. The method "destroyRows" cannot be used programmatically!',this),this},D.prototype.setCreationRow=function(e){return d.isA(e,"sap.ui.table.CreationRow")||(e=null),this.setAggregation("creationRow",e)},D.prototype.getCreationRow=function(){return this.getAggregation("creationRow")},D.prototype.autoResizeColumn=function(e){this._getPointerExtension().doAutoResizeColumn(e)},D.prototype._attachEvents=function(){var t=this.$(),o=this.getId();S.getAnimationMode()!==S.AnimationMode.none&&jQuery(document.body).on("webkitTransitionEnd."+o+" transitionend."+o,function(e){jQuery(e.target).has(t).length>0&&this._updateTableSizes(d.RowsUpdateReason.Animation)}.bind(this)),e.resize.attachHandler(this._onWindowResize,this),p.attachEvents(this)},D.prototype._detachEvents=function(){var t=this.getId();jQuery(document.body).off("webkitTransitionEnd."+t+" transitionend."+t),d.deregisterResizeHandler(this,"Table"),e.resize.detachHandler(this._onWindowResize,this),p.detachEvents(this)},D.prototype._cleanUpTimers=function(){var e;for(e in this._mTimeouts)this._mTimeouts[e]&&(window.clearTimeout(this._mTimeouts[e]),delete this._mTimeouts[e]);for(e in this._mAnimationFrames)this._mAnimationFrames[e]&&(window.cancelAnimationFrame(this._mAnimationFrames[e]),delete this._mAnimationFrames[e])},D.prototype.removeColumn=function(e){return null===(e=this.removeAggregation("columns",e))||(this._bReorderInProcess||this._removeSortedColumn(e),N(this)),e},D.prototype.removeAllColumns=function(){var e=this.removeAllAggregation("columns");return this._aSortedColumns=[],N(this),e},D.prototype.destroyColumns=function(){var e=this.destroyAggregation("columns");return this._aSortedColumns=[],N(this),e},D.prototype.addColumn=function(e){return this.addAggregation("columns",e),N(this),this},D.prototype.insertColumn=function(e,t){return this.insertAggregation("columns",e,t),N(this),this},D.prototype._getTotalRowCount=function(){return q(this)},D.prototype._getMaxFirstVisibleRowIndex=function(){var e;return e=d.isVariableRowHeightEnabled(this)?this._getTotalRowCount()-1:this._getTotalRowCount()-this._getRowCounts().count,Math.max(0,e)},D.prototype._getMaxFirstRenderedRowIndex=function(){var e=this._getTotalRowCount()-this._getRowCounts().count;return Math.max(0,e)},D.prototype._getFirstRenderedRowIndex=function(){return F(this).iFirstRenderedRowIndex},D.prototype._getVisibleColumns=function(){for(var e=[],t=this.getColumns(),o=0,i=t.length;o<i;o++)t[o].shouldRender()&&e.push(t[o]);return e},D.prototype._getColumnsWidth=function(e,t){var o=this.getColumns(),i=0;0===e||e||(e=0),0===t||t||(t=o.length);for(var n=e,s=t;n<s;n++)if(o[n]&&o[n].shouldRender()){var r=d.convertCSSSizeToPixel(o[n].getWidth());null==r&&(r=d.Column.getMinColumnWidth()),i+=r}return i},D.prototype._onTableResize=function(e){var t=e.oldSize.width,o=e.size.width;!this._bInvalid&&this.getDomRef()&&t!==o&&this._updateTableSizes(d.RowsUpdateReason.Resize)},D.prototype._onWindowResize=function(){!this._bInvalid&&this.getDomRef()&&e.browser.chrome&&window.devicePixelRatio!==this._nDevicePixelRatio&&(this._nDevicePixelRatio=window.devicePixelRatio,this._updateTableSizes(d.RowsUpdateReason.Zoom),this._adjustOutlineOffset())},D.prototype._adjustOutlineOffset=function(){window.devicePixelRatio<1?this.addStyleClass("sapUiTableZoomout"):this.removeStyleClass("sapUiTableZoomout")},D.prototype._disableTextSelection=function(e){jQuery(e||document.body).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).on("selectstart",(function(e){return e.preventDefault(),!1}))},D.prototype._enableTextSelection=function(e){jQuery(e||document.body).attr("unselectable","off").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}).off("selectstart")},D.prototype._findAndfireCellEvent=function(e,t,o){var i=jQuery(t.target).closest(".sapUiTableDataCell"),n=i.attr("id");if("function"!=typeof n.startsWith||!1!==n.startsWith(this.getId())){var s=/.*-row(\d*)-col(\d*)/i.exec(n),r=!1;if(s){var l=s[1],u=s[2],d=this.getRows()[l],p=d&&d.getCells()[u],h={rowIndex:d&&d.getIndex(),columnIndex:u,columnId:a.ofCell(p).getId(),cellControl:p,rowBindingContext:d.getRowBindingContext(),cellDomRef:i.get(0)};(r=!e.call(this,h))||"function"!=typeof o||(h.cellDomRef=i[0],r=o.call(this,h))}return r}},D.prototype.getFocusDomRef=function(){if(this._getKeyboardExtension().initItemNavigation(),this.getShowOverlay())return this.getDomRef("overlay");if(d.isNoDataVisible(this))return this.getDomRef("noDataCnt");if(this._oFocusInfo&&this._oFocusInfo.targetInfo&&d.isA(this._oFocusInfo.targetInfo,"sap.ui.core.message.Message")&&this.getColumnHeaderVisible()){var e=this._getVisibleColumns()[0];if(e)return e.getDomRef()}var o=d.getFocusedItemInfo(this);return o&&o.domRef?o.domRef:t.prototype.getFocusDomRef.apply(this,arguments)},D.prototype.pushSortedColumn=function(e,t){t||(this._aSortedColumns=[]),-1===this._aSortedColumns.indexOf(e)&&this._aSortedColumns.push(e)},D.prototype._removeSortedColumn=function(e){var t=this._aSortedColumns.indexOf(e);t>-1&&this._aSortedColumns.splice(t,1)},D.prototype.getSortedColumns=function(){return this._aSortedColumns.slice()},D.prototype.sort=function(e,t,o){e||(this._aSortedColumns.forEach((e=>{e.setSorted(!1),e.setSortOrder(B.None)})),this.getBinding()?.sort(),this._aSortedColumns=[]),this.getColumns().indexOf(e)>=0&&e._sort(t??B.Ascending,o)},D.prototype.filter=function(e,t){if(this.getColumns().indexOf(e)>=0){if(null==t)t="";else if("string"!=typeof t)throw new Error("The filter value is not a string");e.filter(t)}},D.prototype._updateSelection=function(){if(this.getSelectionMode()!==A.None){for(var e,t,o=this._getSelectionPlugin().getRenderConfig(),i=this.$("selall"),n=this.getRows(),s=0;s<n.length;s++){n[s]._updateSelection()}if(o.headerSelector.visible){if("toggle"===o.headerSelector.type){var r=o.headerSelector.selected;i.toggleClass("sapUiTableSelAll",!r),this._getAccExtension().setSelectAllState(r),e=r?"TBL_DESELECT_ALL":"TBL_SELECT_ALL"}else"clear"===o.headerSelector.type&&(i.toggleClass("sapUiTableSelAllDisabled",!o.headerSelector.enabled),e="TBL_DESELECT_ALL",o.headerSelector.enabled?i.removeAttr("aria-disabled"):i.attr("aria-disabled","true"));e&&(t=d.getResourceText(e),i.attr("title",t))}}},D.prototype._getHideStandardTooltips=function(){return this._bHideStandardTooltips},D.prototype._setHideStandardTooltips=function(e){this._bHideStandardTooltips=e},D.prototype._onSelectionChanged=function(e){if(this._updateSelection(),!this._hasSelectionPlugin()){var t=this._getSelectionPlugin(),o=e.getParameter("rowIndices"),i=e.getParameter("selectAll"),n=void 0!==this._iSourceRowIndex?this._iSourceRowIndex:t.getSelectedIndex();this.getMetadata().hasProperty("selectedIndex")&&this.setProperty("selectedIndex",t.getSelectedIndex(),!0),this.fireRowSelectionChange({rowIndex:n,rowContext:this.getContextByIndex(n),rowIndices:o,selectAll:i,userInteraction:void 0!==this._iSourceRowIndex})}},D.prototype.getContextByIndex=function(e){var t=this.getBinding(),o=null;return!t||e<0?o:(o=t.getContextByIndex?t.getContextByIndex(e):t.getContexts(e,1,0,!0)[0])||null},D.prototype.getSelectedIndex=function(){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#getSelectedIndex must not be called if a selection plugin is applied.");return this._getSelectionPlugin().getSelectedIndex()},D.prototype.setSelectedIndex=function(e){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#setSelectedIndex must not be called if a selection plugin is applied.");return this._getSelectionPlugin().setSelectedIndex(e),this},D.prototype.clearSelection=function(){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#clearSelection must not be called if a selection plugin is applied.");return this._getSelectionPlugin().clearSelection(),this},D.prototype.selectAll=function(){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#selectAll must not be called if a selection plugin is applied.");return d.hasSelectAll(this)&&this._getSelectionPlugin().selectAll(),this},D.prototype.getSelectedIndices=function(){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#getSelectedIndices must not be called if a selection plugin is applied.");return this._getSelectionPlugin().getSelectedIndices()},D.prototype.addSelectionInterval=function(e,t){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#addSelectionInterval must not be called if a selection plugin is applied.");return this._getSelectionPlugin().addSelectionInterval(e,t),this},D.prototype.setSelectionInterval=function(e,t){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#setSelectionInterval must not be called if a selection plugin is applied.");return this._getSelectionPlugin().setSelectionInterval(e,t),this},D.prototype.removeSelectionInterval=function(e,t){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#removeSelectionInterval must not be called if a selection plugin is applied.");return this._getSelectionPlugin().removeSelectionInterval(e,t),this},D.prototype.isIndexSelected=function(e){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#isIndexSelected must not be called if a selection plugin is applied.");return this._getSelectionPlugin().isIndexSelected(e)},D.prototype.setGroupBy=function(e){var t=e,o=sap.ui.getCore().byId(this.getGroupBy());"string"==typeof t&&(t=sap.ui.getCore().byId(t));var i=!1;if(t instanceof a&&t!==o){if(-1===this.getColumns().indexOf(t))throw new Error("Column has to be part of the columns aggregation!");var n=this.fireGroup({column:t,groupedColumns:[t.getId()],type:T.group});o&&(o.setGrouped(!1),i=!0),n&&this.getEnableGrouping()&&t.setGrouped(!0)}return t&&!i||(o&&o.setGrouped(!1),d.Grouping.resetExperimentalGrouping(this)),this.setAssociation("groupBy",t),d.Grouping.setupExperimentalGrouping(this),this},D.prototype.getBinding=function(e){return t.prototype.getBinding.call(this,null==e?"rows":e)},D.prototype.setEnableGrouping=function(e){var t=sap.ui.getCore().byId(this.getGroupBy());return this.setProperty("enableGrouping",e),t&&t.setGrouped(e),e?d.Grouping.setupExperimentalGrouping(this):d.Grouping.resetExperimentalGrouping(this),this},D.prototype.getComputedFixedColumnCount=function(){return this._bIgnoreFixedColumnCount?0:this._getSpanBasedComputedFixedColumnCount()},D.prototype._getSpanBasedComputedFixedColumnCount=function(){if(null===F(this).iComputedFixedColumnCount){for(var e,t=this.getColumns(),o=this.getFixedColumnCount(),i=o-1;i>=0;i--)if(e=t[i]){o=Math.max(o,e.getIndex()+d.Column.getHeaderSpan(e));break}F(this).iComputedFixedColumnCount=Math.min(o,t.length)}return F(this).iComputedFixedColumnCount},D.prototype.setFixedColumnCount=function(e){this.setProperty("fixedColumnCount",e),this._invalidateComputedFixedColumnCount();for(var t,o=this.getColumns(),i=this.$().find(".sapUiTableCtrlFirstCol > th"),n=this._getSpanBasedComputedFixedColumnCount()-1;n>=0;n--)(t=o[n])&&d.isVariableWidth(t.getWidth())&&(t._iFixWidth=i.filter("[data-sap-ui-headcolindex='"+t.getIndex()+"']").width());return this._collectTableSizes(),this.getEnableColumnFreeze()&&this._invalidateColumnMenus(),this},D.prototype.setFixedRowCount=function(e){return parseInt(e)>=0?e+this.getFixedBottomRowCount()>=this.getVisibleRowCount()?(v.error("Table '"+this.getId()+"' fixed rows('"+(e+this.getFixedBottomRowCount())+"') must be smaller than numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this),this):this.getRowMode()?(v.warning('If the "rowMode" aggregation is set, setting the "fixedRowCount" has no effect'),this.setProperty("fixedRowCount",e,!0)):this.setProperty("fixedRowCount",e):(v.error("Number of fixed rows must be greater or equal 0",this),this)},D.prototype.setFixedBottomRowCount=function(e){return parseInt(e)>=0?e+this.getFixedRowCount()>=this.getVisibleRowCount()?(v.error("Table '"+this.getId()+"' fixed rows('"+(e+this.getFixedRowCount())+"') must be smaller than numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this),this):this.getRowMode()?(v.warning('If the "rowMode" aggregation is set, setting the "iFixedBottomRowCount" has no effect'),this.setProperty("fixedBottomRowCount",e,!0)):this.setProperty("fixedBottomRowCount",e):(v.error("Number of fixed bottom rows must be greater or equal 0",this),this)},D.prototype.setThreshold=function(e){return this.setProperty("threshold",e,!0),this},D.prototype._invalidateColumnMenus=function(){d.Hook.call(this,d.Hook.Keys.Table.InvalidateColumnMenus,this)},D.prototype._isTouchEvent=function(e){return!!(e&&e.originalEvent&&e.originalEvent.touches)},D.prototype._getRowClone=function(e){var t="number"==typeof e,o=t,i=o?this._aRowClones[e]:null;if(i&&!i.bIsDestroyed)return i;i=new l(this.getId()+"-rows-row"+(t?e:"-"+e)),o&&(this._aRowClones[e]=i);for(var n=this.getColumns(),s=0,r=n.length;s<r;s++)if(n[s].getVisible()){var a=n[s].getTemplateClone(s);a&&i.addCell(a)}if(d.hasRowActions(this)){var u=this.getRowActionTemplate().clone();i.setAggregation("_rowAction",u,!0)}var p=this.getRowSettingsTemplate();if(p){var h=p.clone();i.setAggregation("_settings",h,!0)}return i},D.prototype.invalidateRowsAggregation=function(){this._bRowAggregationInvalid=!0},D.prototype._invalidateComputedFixedColumnCount=function(){F(this).iComputedFixedColumnCount=null},D.prototype._getBaseRowHeight=function(){var e=H(this).getBaseRowContentHeight();return e>0?e+d.RowHorizontalFrameSize:this._getDefaultRowHeight()},D.prototype._getDefaultRowHeight=function(){var e=d.getContentDensity(this);return d.DefaultRowHeight[e]},D.prototype._getDefaultRowContentHeight=function(){var e=d.getContentDensity(this);return d.BaseSize[e]},D.prototype.setNoData=function(e){var t=d.getNoContentMessage(this);this.setAggregation("noData",e,!0);var o=d.getNoContentMessage(this);return d.isA(e,"sap.m.IllustratedMessage")?function(e){if(e.getAggregation("_noColumnsMessage")||F(e).bIsLoadingNoColumnsMessage)return;F(e).bIsLoadingNoColumnsMessage=!0,sap.ui.require(["sap/m/table/Util"],(function(t){if(d.isA(e.getNoData(),"sap.m.IllustratedMessage")){var o=t.getNoColumnsIllustratedMessage();o.setEnableVerticalResponsiveness(!0),e.setAggregation("_noColumnsMessage",o,d.getVisibleColumnCount(e)>0),delete F(e).bIsLoadingNoColumnsMessage}}))}(this):this.destroyAggregation("_noColumnsMessage",!0),"string"==typeof t&&"string"==typeof o?t!==o&&this.$("noDataMsg").text(o):this.invalidate(),this},D.prototype.exportData=function(e){var t=sap.ui.requireSync("sap/ui/core/util/Export");if(!(e=e||{}).rows){var o=this.getBinding(),i=this.getBindingInfo("rows"),n=o.aFilters.concat(o.aApplicationFilters);e.rows={path:i.path,model:i.model,sorter:o.aSorters,filters:n,parameters:i.parameters}}if(!e.exportType){var s=sap.ui.requireSync("sap/ui/core/util/ExportTypeCSV");e.exportType=new s}var r=e.rows.model;if(!r){var a=e.rows.path,l=a.indexOf(">");l>0&&(r=a.substr(0,l))}if(!e.columns){e.columns=[];for(var u=this.getColumns(),d=0,p=u.length;d<p;d++){var h=u[d];h.getSortProperty()&&e.columns.push({name:h.getLabel().getText(),template:{content:{path:h.getSortProperty(),model:r}}})}}var g=new t(e);return this.addDependent(g),g},D.prototype._onPersoApplied=function(){for(var e=this.getColumns(),t=[],o=0,i=e.length;o<i;o++){var n=e[o];n.getSorted()&&n.getSortOrder()!==B.None&&t.push(new s(n.getSortProperty(),n.getSortOrder()===B.Descending))}var r=this.getBinding();r&&t.length>0&&r.sort(t)},D.prototype.setBusy=function(e){var o=this.getBusy(),i=t.prototype.setBusy.call(this,e,"sapUiTableGridCnt"),n=this.getBusy();return o!==n&&this.fireBusyStateChanged({busy:n}),i},D.prototype.setEnableBusyIndicator=function(e){return this.setProperty("enableBusyIndicator",e,!0),this.getEnableBusyIndicator()?k(this):(this.setBusy(!1),G(this)),this},D.prototype._onBindingDataRequested=function(){F(this).iPendingRequests++,k(this)},D.prototype._onBindingDataReceived=function(){F(this).iPendingRequests--,k(this)},D.prototype._hasPendingRequests=function(){return F(this).iPendingRequests>0},D.prototype._setLargeDataScrolling=function(e){this._bLargeDataScrolling=!!e},D.prototype.setRowActionTemplate=function(e){return this.setAggregation("rowActionTemplate",e),this.invalidateRowsAggregation(),this},D.prototype.setRowActionCount=function(e){return"number"==typeof e&&(e=Math.max(0,Math.min(e,2))),this.setProperty("rowActionCount",e)},D.prototype.setRowSettingsTemplate=function(e){return this.setAggregation("rowSettingsTemplate",e),this.invalidateRowsAggregation(),this},D.prototype._getSelectionPlugin=function(){var e=this._oSelectionPlugin||this._oLegacySelectionPlugin;return"function"==typeof this._getSelectedIndicesCount&&e.getSelectedCount!==this._getSelectedIndicesCount&&(e.getSelectedCount=this._getSelectedIndicesCount,["isIndexSelected","setSelectedIndex","getSelectedIndex","getSelectedIndices","setSelectionInterval","addSelectionInterval","removeSelectionInterval","selectAll","clearSelection"].forEach(function(t){e[t]=this[t]}.bind(this))),e},D.prototype._hasSelectionPlugin=function(){return null!=this._oSelectionPlugin},D.prototype._initSelectionPlugin=function(){var e=j(this);this.isDestroyed()||this.isDestroyStarted()||(e?(this._destroyLegacySelectionPlugin(),Z(this,this._oSelectionPlugin),K(this,e),this._oSelectionPlugin=e):(this._initLegacySelectionPlugin(),Z(this,this._oSelectionPlugin),delete this._oSelectionPlugin))},D.prototype._initLegacySelectionPlugin=function(){this._oLegacySelectionPlugin||j(this)||(this._oLegacySelectionPlugin=this._createLegacySelectionPlugin(),this.addAggregation("_hiddenDependents",this._oLegacySelectionPlugin),K(this,this._oLegacySelectionPlugin))},D.prototype._destroyLegacySelectionPlugin=function(){this._oLegacySelectionPlugin&&!this._oLegacySelectionPlugin.isDestroyStarted()&&(this._oLegacySelectionPlugin.destroy(),delete this._oLegacySelectionPlugin)},D.prototype._createLegacySelectionPlugin=function(){return new _},D.prototype.insertAggregation=function(e,o,i,n){return"_hiddenDependents"===e?t.prototype.insertAggregation.call(this,e,o,i,!0):t.prototype.insertAggregation.apply(this,arguments)},D.prototype.addAggregation=function(e,o,i){return"_hiddenDependents"===e?t.prototype.addAggregation.call(this,e,o,!0):t.prototype.addAggregation.apply(this,arguments)},D.prototype.removeAggregation=function(e,o,i){return"_hiddenDependents"===e?t.prototype.removeAggregation.call(this,e,o,!0):t.prototype.removeAggregation.apply(this,arguments)},D.prototype.removeAllAggregation=function(e,o){return"_hiddenDependents"===e?t.prototype.removeAllAggregation.call(this,e,!0):t.prototype.removeAllAggregation.apply(this,arguments)},D.prototype.destroyAggregation=function(e,o){return"_hiddenDependents"===e?t.prototype.destroyAggregation.call(this,e,!0):(t.prototype.destroyAggregation.apply(this,arguments),"rows"===e&&(this._aRowClones.forEach((function(e){e.destroy()})),this._aRowClones=[]),this)},D.prototype.getCellControl=function(e,t,o){return d.getRowColCell(this,e,t,!o).cell},D.prototype._fireRowsUpdated=function(e){var t={reason:e||d.RowsUpdateReason.Unknown};this.onRowsUpdated(t),clearTimeout(this._mTimeouts.fireRowsUpdated),this._mTimeouts.fireRowsUpdated=setTimeout(function(){this.onRowsContentUpdated(t),this.fireEvent("_rowsUpdated",t),this.fireRowsUpdated()}.bind(this),0)},D.prototype.onRowsUpdated=function(e){var t;d.Grouping.updateGroups(this),d.Menu.closeContentCellContextMenu(this),this._getAccExtension()._updateAriaRowIndices(),this._updateSelection(),(t=this).getDomRef()&&(t.getDomRef().classList.toggle("sapUiTableEmpty",d.isNoDataVisible(t)),t._getAccExtension().updateAriaStateForOverlayAndNoData(),t._getKeyboardExtension().updateNoDataAndOverlayFocus()),this.getRows().forEach((function(e){e.getCells().forEach((function(t){var o=a.ofCell(t),i=o._getCellContentVisibilitySettings(),n=e.getDomRefs(!0).row.find('td[data-sap-ui-colid="'+o.getId()+'"]'),s=!0;n&&(s=e.isGroupHeader()?e.isExpandable()?e.isExpanded()?i.groupHeader.expanded:i.groupHeader.collapsed:i.groupHeader.nonExpandable:e.isTotalSummary()?i.summary.total:e.isGroupSummary()?i.summary.group:i.standard,n.toggleClass("sapUiTableCellHidden",!s))}))}))},D.prototype.onRowsContentUpdated=function(e){this.getRows().length>0&&(this._resetRowHeights(),this._aRowHeights=this._collectRowHeights(!1),this._updateRowHeights(this._aRowHeights,!1),this._getAccExtension().updateAccForCurrentCell(e.reason))},D.prototype._enableSynchronization=function(){var e=this;return new Promise((function(t,o){sap.ui.require(["sap/ui/table/extensions/Synchronization"],(function(o){t(p.enrich(e,o).getInterface())}),(function(e){o(e)}))}))},D.prototype._enableLegacyMultiSelection=function(){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: sap.ui.table.Table#_enableLegacyMultiSelection must not be called if a selection plugin is applied.");this._legacyMultiSelection=function(e,t){if(this._hasSelectionPlugin())throw new Error("Unsupported operation: The legacy multi selection is not supported if a selection plugin is applied");var o=!(!t.metaKey&&!t.ctrlKey);this.isIndexSelected(e)?o||1===this.getSelectedIndices().length?this.removeSelectionInterval(e,e):this.setSelectedIndex(e):o?this.addSelectionInterval(e,e):this.setSelectedIndex(e)}.bind(this)},D.prototype._setRowCountConstraints=function(e){this.setProperty("rowCountConstraints",e)},D.prototype.findAggregatedObjects=function(){return Y(this,t.prototype.findAggregatedObjects.apply(this,arguments))},D.prototype.findElements=function(){return Y(this,t.prototype.findElements.apply(this,arguments))},D.prototype.getPlugin=function(e){if(!e||!e.startsWith("sap.ui.table.plugins."))throw new Error("This method can only be used to get plugins of the sap.ui.table library");var t=this.getDependents().find((t=>t.isA(e)));return t||(t=this.getPlugins().find((t=>t.isA(e)))),t},D}));