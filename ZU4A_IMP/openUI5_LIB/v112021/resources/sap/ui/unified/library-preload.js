//@ui5-bundle sap/ui/unified/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar", ["sap/ui/core/CalendarType","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering"],(function(e,t,a,i,r,s,o,n,h,g,d,l,c,u,_,p,D,y,m,f,M,P,C,S,v,T){"use strict";var Y=t.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:!1},singleSelection:{type:"boolean",group:"Behavior",defaultValue:!0},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:!0},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:!1},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null},initialFocusedDate:{type:"object",group:"Data",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:!0,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:!0,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:!0,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:!1,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:!1,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:!0,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:!1,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:!1,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:!1,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:!1}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:!0,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:M}),k={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};function b(){var e=this.getSelectedDates(),t=this._getPrimaryCalendarType();e&&e[0]&&e[0].getStartDate()?this._oFocusedDate=l.fromLocalJSDate(e[0].getStartDate(),t):this._oFocusedDate=l.fromLocalJSDate(u.getInstance(),t),this._oFocusedDate.isBefore(this._oMinDate)?this._oFocusedDate=new l(this._oMinDate,t):this._oFocusedDate.isAfter(this._oMaxDate)&&(this._oFocusedDate=new l(this._oMaxDate,t))}function A(e){var t=e.size.width;if(!(t<=0)&&t!==this._iPrevWidth){this._iPrevWidth=t;var a=this._iSize;t<this._iBreakPointTablet?this._iSize=0:t<this._iBreakPointDesktop?this._iSize=1:t<this._iBreakPointLargeDesktop?this._iSize=2:this._iSize=3;var i=F.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1)}if(i<this._getColumns()&&this._setColumns(i),this._getColumns()>2&&i>this._getColumns()){for(var r=this._getColumns(),s=0,o=this._getColumns();r>=2;){var n=i%r;if(0==n){o=r;break}var h=n/r;h>s&&(s=h,o=r),r--}this._setColumns(o)}var g,d=this.getAggregation("month");this._getColumns()>1?(g=100/this._getColumns()+"%",this.$("content").removeClass("sapUiCalContentSingle")):(g="100%",this.$("content").addClass("sapUiCalContentSingle"));for(var l=0;l<d.length;l++){d[l].setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText(),this._toggleTwoMonthsInColumnsCSS()}}function w(e){var t=new l(e,this._getPrimaryCalendarType());t.setDate(1);var a=F.call(this);if(a<=12){var i=e.getMonth();12%a>0&&i+a>11&&(i=12-a),t.setMonth(i)}return t}function x(){var e,t,a;this._bNamesLengthChecked||(e=this._getMonthPicker(),this._bLongMonth=e._bLongMonth,this._bNamesLengthChecked=!0,this.setProperty("_currentPicker",k.MONTH),this._bLongMonth||(a=(t=this.getAggregation("month")).length>1?l.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType()):this._getFocusedDate(),this._setHeaderText(a),this._setPrimaryHeaderMonthButtonText(),this._toggleTwoMonthsInTwoColumnsCSS()))}function H(e,t){var a,i,s=this._getPrimaryCalendarType();if(e){if(i=(a=l.fromLocalJSDate(e,s)).getYear(),r._checkYearInValidRange(i,s),r._isOutside(a,this._oMinDate,this._oMaxDate))throw new Error("Date must not be in valid range (minDate and maxDate); "+this);this._setFocusedDate(a),this.getDomRef()&&0==this._iMode&&this._renderMonth(t,!0)}}function F(){return p.system.phone?1:this.getMonths()}function R(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function B(e){this._oSelectedMonth=e.oSource,this.fireSelect()}function L(e){var t,a,i;if(F.call(this)>1)for(t=this.getAggregation("month"),i=0;i<t.length;i++)(a=t[i]).getId()!=e.oSource.getId()&&a._bindMousemove()}function I(e){var t,a,i;if(F.call(this)>1)for(t=this.getAggregation("month"),i=0;i<t.length;i++)(a=t[i]).getId()!=e.oSource.getId()&&a._unbindMousemove()}function N(e){var t=e.getParameter("offset");t>0&&this._handleNext(e),t<0&&this._handlePrevious(e)}function E(){this._updateHeadersYearPrimaryText(this._getYearString())}return Y.prototype.init=function(){this._iBreakPointTablet=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0],this._iBreakPointDesktop=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1],this._iBreakPointLargeDesktop=p.media._predefinedRangeSets[p.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2],this._iColumns=1,this.setProperty("_currentPicker",k.MONTH_PICKER),this._oYearFormat=D.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()}),this.data("sap-ui-fastnavgroup","true",!0),this._oMinDate=r._minDate(this._getPrimaryCalendarType()),this._oMaxDate=r._maxDate(this._getPrimaryCalendarType()),this._initializeHeader(),this._initializeSecondMonthHeader();var e=this._createMonth(this.getId()+"--Month0");e.attachEvent("focus",this._handleFocus,this),e.attachEvent("select",B,this),e.attachEvent("_renderMonth",R,this),e.attachEvent("_bindMousemove",L,this),e.attachEvent("_unbindMousemove",I,this),e._bNoThemeChange=!0,this.addAggregation("month",e),this._initializeMonthPicker(),this._initializeYearPicker(),this._initializeYearRangePicker(),this._resizeProxy=A.bind(this),this._oSelectedMonth,this._bSkipCancelButtonRendering=!1,this._bActionTriggeredFromSecondHeader=!1},Y.prototype.exit=function(){this._sInvalidateMonth&&clearTimeout(this._sInvalidateMonth),this._afterHeaderRenderAdjustCSS&&(this.removeDelegate(this._afterHeaderRenderAdjustCSS),this._afterHeaderRenderAdjustCSS=null),this._afterSecondHeaderRenderAdjustCSS&&(this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS),this._afterSecondHeaderRenderAdjustCSS=null),this._sResizeListener&&(y.deregister(this._sResizeListener),this._sResizeListener=void 0),this._oSelectedMonth=null},Y.prototype._initializeHeader=function(){var e=new o(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this),e.attachEvent("pressNext",this._handleNext,this),e.attachEvent("pressCurrentDate",this._handleCurrentDate,this),e.attachEvent("pressButton1",this._handleButton1,this),e.attachEvent("pressButton2",this._handleButton2,this),e.attachEvent("pressButton3",this._handleButton1,this),e.attachEvent("pressButton4",this._handleButton2,this),this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e),e.addDelegate(this._afterHeaderRenderAdjustCSS),this.setAggregation("header",e)},Y.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){e.getVisible()&&!e.getVisibleButton1()&&e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton"),e.getVisible()&&!e._getVisibleButton3()&&this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}.bind(this)}},Y.prototype._initializeSecondMonthHeader=function(){var e=new o(this.getId()+"--SecondMonthHead",{visible:!1});e.addStyleClass("sapUiCalHeadSecondMonth"),e.attachEvent("pressPrevious",this._handlePrevious,this),e.attachEvent("pressNext",this._handleNext,this),e.attachEvent("pressButton1",this._handleButton1,this),e.attachEvent("pressButton2",this._handleButton2,this),this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e),e.addDelegate(this._afterSecondHeaderRenderAdjustCSS),this.setAggregation("secondMonthHeader",e)},Y.prototype._initializeMonthPicker=function(){var e=new h(this.getId()+"--MP");e._bCalendar=!0,e.attachEvent("select",this._selectMonth,this),e.attachEvent("pageChange",N,this),e._bNoThemeChange=!0,this.setAggregation("monthPicker",e),e._setSelectedDatesControlOrigin(this)},Y.prototype._initializeYearPicker=function(){var e=new g(this.getId()+"--YP");e._bCalendar=!0,e.attachEvent("select",this._selectYear,this),e.attachEvent("pageChange",E,this),this.setAggregation("yearPicker",e),e._setSelectedDatesControlOrigin(this)},Y.prototype._initializeYearRangePicker=function(){var e=new d(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this),e.setPrimaryCalendarType(this._getPrimaryCalendarType()),this.setAggregation("yearRangePicker",e)},Y.prototype._createMonth=function(e){var t=new n(e,{width:"100%",calendarWeekNumbering:this.getCalendarWeekNumbering()});return t._bCalendar=!0,t.attachEvent("datehovered",this._handleDateHovered,this),t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this),t},Y.prototype._handleWeekNumberSelect=function(e){var t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t});if(null!=t)return this._focusDate(l.fromLocalJSDate(t.getStartDate(),this._getPrimaryCalendarType()),!0,!1,!1),a||e.preventDefault(),this},Y.prototype._handleDateHovered=function(e){var t,a=this.getAggregation("month"),i=e.getParameter("date1"),r=e.getParameter("date2");for(t=0;t<a.length;t++)a[t]._markDatesBetweenStartAndHoveredDate(i,r)},Y.prototype.onBeforeRendering=function(){var e,t=this.getAggregation("month"),a=t[0].getDate(),i=this._getFocusedDate();-1!==this.getFirstDayOfWeek()&&"Default"!==this.getCalendarWeekNumbering()&&S.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!"),e=t.length>1&&a?l.fromLocalJSDate(a,this._getPrimaryCalendarType()):t.length>1?w.call(this,this._getFocusedDate()):i;for(var r=0;r<t.length;r++){a=new l(e),r>0&&a.setMonth(a.getMonth()+r,1);var s=a;i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()&&(s=i),t[r].displayDate(s.toLocalJSDate()),t[r].setShowWeekNumbers(this.getShowWeekNumbers())}this._getMonthPicker()&&this._setDisabledMonths(i.getYear(),this._getMonthPicker()),this._updateHeader(e),this._updateHeadersButtons(),this._adjustYearRangeDisplay(),this._updateLegendParent(),this.getInitialFocusedDate()&&this.focusDate(this.getInitialFocusedDate())},Y.prototype.onAfterRendering=function(e){this._getSucessorsPickerPopup()||x.call(this),(F.call(this)>1||this._bInitMonth)&&(e.size={width:this.getDomRef().offsetWidth},A.call(this,e,!0),this._sResizeListener||(this._sResizeListener=y.register(this,this._resizeProxy)),this._bInitMonth=void 0)},Y.prototype.removeSelectedDate=function(e){return this._bDateRangeChanged=!0,this.removeAggregation("selectedDates",e)},Y.prototype.removeAllSelectedDates=function(){return this._bDateRangeChanged=!0,this.removeAllAggregation("selectedDates")},Y.prototype.destroySelectedDates=function(){return this._bDateRangeChanged=!0,this.destroyAggregation("selectedDates")},Y.prototype.removeAllSpecialDates=function(){return this._bDateRangeChanged=!0,this.removeAllAggregation("specialDates")},Y.prototype.destroySpecialDates=function(){return this._bDateRangeChanged=!0,this.destroyAggregation("specialDates")},Y.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e},Y.prototype.getSpecialDates=function(){var e=this.getParent();return this._oSpecialDatesControlOrigin?this._oSpecialDatesControlOrigin.getSpecialDates():e&&e.getSpecialDates?e.getSpecialDates():this.getAggregation("specialDates",[])},Y.prototype.removeAllDisabledDates=function(){return this._bDateRangeChanged=!0,this.removeAllAggregation("disabledDates")},Y.prototype.destroyDisabledDates=function(){return this._bDateRangeChanged=!0,this.destroyAggregation("disabledDates")},Y.prototype.setLocale=function(e){return this._sLocale!=e&&(this._sLocale=e,this._oLocaleData=void 0,this.invalidate(),this._toggleTwoMonthsInColumnsCSS()),this},Y.prototype.getLocale=function(){return this._sLocale||(this._sLocale=v.getFormatSettings().getFormatLocale().toString()),this._sLocale},Y.prototype._getFocusedDate=function(){return this._oFocusedDate||b.call(this),this._oFocusedDate},Y.prototype._setFocusedDate=function(e){r._checkCalendarDate(e),this._oFocusedDate=new l(e,this._getPrimaryCalendarType())},Y.prototype.focusDate=function(e){return H.call(this,e,!1),this._addMonthFocusDelegate(),this},Y.prototype.displayDate=function(e){return H.call(this,e,!0),this},Y.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=l.fromLocalJSDate(t[0].getDate(),this._getPrimaryCalendarType())}else e=new l(this._getFocusedDate());return e.setDate(1),e.toLocalJSDate()},Y.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++)t[a].setProperty("calendarWeekNumbering",e);return this},Y.prototype.setMonths=function(e){e=Math.max(1,e),this._bDateRangeChanged=void 0,this.setProperty("months",e),e=F.call(this);var t,a=this.getAggregation("month"),i=0;if(a.length<e){for(i=a.length;i<e;i++)(t=this._createMonth(this.getId()+"--Month"+i)).attachEvent("focus",this._handleFocus,this),t.attachEvent("select",B,this),t.attachEvent("_renderMonth",R,this),t.attachEvent("_bindMousemove",L,this),t.attachEvent("_unbindMousemove",I,this),t._bNoThemeChange=!0,t.setCalendarWeekNumbering(this.getCalendarWeekNumbering()),t.setSecondaryCalendarType(this._getSecondaryCalendarType()),this.addAggregation("month",t);this._toggleTwoMonthsInColumnsCSS()}else if(a.length>e){for(i=a.length;i>e;i--)(t=this.removeAggregation("month",i-1)).destroy();1==e&&(this._bInitMonth=!0),this._toggleTwoMonthsInColumnsCSS()}return e>1&&a[0].getDate()&&a[0].setProperty("date",null,!0),this},Y.prototype.setPrimaryCalendarType=function(e){var t,a=this.getAggregation("month");for(this.setProperty("primaryCalendarType",e),this._oYearFormat=D.getDateInstance({format:"y",calendarType:e}),this._oFocusedDate&&(this._oFocusedDate=new l(this._oFocusedDate,e)),this._oMinDate=new l(this._oMinDate,e),this._oMaxDate=new l(this._oMaxDate,e),t=0;t<a.length;t++)a[t].setPrimaryCalendarType(e);return this._getSucessorsPickerPopup()||(this._getMonthPicker().setPrimaryCalendarType(e),this._getYearPicker().setPrimaryCalendarType(e),this.getAggregation("yearRangePicker").setPrimaryCalendarType(e)),this},Y.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e),this._oYearFormatSecondary=D.getDateInstance({format:"y",calendarType:e});for(var t=this.getAggregation("month"),a=0;a<t.length;a++){t[a].setSecondaryCalendarType(e)}return this._getMonthPicker().setSecondaryCalendarType(e),this._getYearPicker().setSecondaryCalendarType(e),this._getYearRangePicker().setSecondaryCalendarType(e),this},Y.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||v.getCalendarType()},Y.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e!==this._getPrimaryCalendarType())return e},Y.prototype._getActiveHeaderAggregation=function(){return this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()?this.getAggregation("secondMonthHeader"):this.getAggregation("header")},Y.prototype._saveTriggeredHeader=function(e){"secondMonthHeader"===e.getSource().sParentAggregationName||"pressButton3"===e.sId||"pressButton4"===e.sId?this._bActionTriggeredFromSecondHeader=!0:this._bActionTriggeredFromSecondHeader=!1},Y.prototype.setMinDate=function(e){var t,a=this.getAggregation("month"),i=this._getPrimaryCalendarType();if(C(e,this.getMinDate()))return this;if(e){r._checkJSDateObject(e),this._oMinDate=l.fromLocalJSDate(e,i);var s=this._oMinDate.getYear();r._checkYearInValidRange(s,i),this._oMaxDate.isBefore(this._oMinDate)&&(S.warning("minDate > maxDate -> maxDate set to end of the month",this),this._oMaxDate=l.fromLocalJSDate(e,i),this._oMaxDate.setDate(r._daysInMonth(this._oMaxDate)),this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),!0)),this._setMinMaxDateExtend(l.fromLocalJSDate(e,i))}else this._oMinDate=r._minDate(i);this.setProperty("minDate",e,!1),this._getSucessorsPickerPopup()||(t=this._oMinDate.getYear(),this._getYearPicker()._oMinDate.setYear(t),this._getYearRangePicker()._oMinDate.setYear(t));for(var o=0;o<a.length;o++)a[o]._oMinDate=new l(this._oMinDate);return this},Y.prototype.setMaxDate=function(e){var t,a=this.getAggregation("month"),i=this._getPrimaryCalendarType();if(C(e,this.getMaxDate()))return this;if(e){r._checkJSDateObject(e),this._oMaxDate=l.fromLocalJSDate(e,i);var s=this._oMaxDate.getYear();r._checkYearInValidRange(s,i),this._oMinDate.isAfter(this._oMaxDate)&&(S.warning("maxDate < minDate -> minDate set to begin of the month",this),this._oMinDate=l.fromLocalJSDate(e,i),this._oMinDate.setDate(1),this.setProperty("minDate",this._oMinDate.toLocalJSDate(),!0)),this._setMinMaxDateExtend(l.fromLocalJSDate(e,i))}else this._oMaxDate=r._maxDate(i);this.setProperty("maxDate",e,!1),this._getSucessorsPickerPopup()||(t=this._oMaxDate.getYear(),this._getYearPicker()._oMaxDate.setYear(t),this._getYearRangePicker()._oMaxDate.setYear(t));for(var o=0;o<a.length;o++)a[o]._oMaxDate=new l(this._oMaxDate);return this},Y.prototype.setShowCurrentDateButton=function(e){return this.getAggregation("header").setVisibleCurrentDateButton(e),this.setProperty("showCurrentDateButton",e)},Y.prototype._setMinMaxDateExtend=function(e){this._oFocusedDate&&r._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)&&(S.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this),this.focusDate(e.toLocalJSDate()))},Y.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale(),t=new m(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData},Y.prototype._getShowMonthHeader=function(){return F.call(this)>2},Y.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")},Y.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")},Y.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")},Y.prototype.onclick=function(e){var t=e.target;e.isMarked("delayedMouseEvent")||t.id==this.getId()+"-cancel"&&this.onsapescape(e)},Y.prototype.onmousedown=function(e){e.cancelable&&e.preventDefault(),e.setMark("cancelAutoClose")},Y.prototype.onsapescape=function(e){this.fireCancel(),this._closePickers(),this._addMonthFocusDelegate(),this._getSucessorsPickerPopup()||this._setHeaderText(this._getFocusedDate())},Y.prototype.onsapshow=function(e){var t=e.which||e.keyCode;this._bPoupupMode&&t!==f.F4&&(this._closePickers(),this._addMonthFocusDelegate(),this.fireCancel(),e.preventDefault())},Y.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t===f.F4)switch(e.preventDefault(),this._iMode){case 0:a?this._showYearPicker():this._showMonthPicker();break;case 1:a&&this._showYearPicker();break;case 2:a&&this._showYearRangePicker()}},Y.prototype.onsaphide=Y.prototype.onsapshow,Y.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}},Y.prototype.onThemeChanged=function(){var e,t=arguments;if(this.getDomRef()){if(this._bNamesLengthChecked=void 0,!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t),e._bNoThemeChange=!0,x.call(this),this._bLongMonth=e._bLongMonth,this._closePickers(),e.removeEventDelegate(a)}};e=this._getMonthPicker(),this._showMonthPicker(!0),e._bNoThemeChange=!1,e.addEventDelegate(a,this)}for(var i,r=this.getAggregation("month"),s=0;s<r.length;s++){var o=r[s];o._bNoThemeChange=!1,o.onThemeChanged(arguments),o._bNoThemeChange=!0}i=r.length>1?l.fromLocalJSDate(r[0].getDate(),this._getPrimaryCalendarType()):this._getFocusedDate(),this._setHeaderText(i),this._setPrimaryHeaderMonthButtonText(),this._toggleTwoMonthsInColumnsCSS()}},Y.prototype._updateLegendParent=function(){var e=this.getLegend(),t=a.byId(e);t&&t._setParent(this)},Y.prototype._updateHeader=function(e){switch(this._setHeaderText(e),this._iMode){case 0:this._togglePrevNext(e,!0);break;case 1:this._togglePrevNext(e,!1);break;case 2:case 3:this._togglePrevNexYearPicker()}},Y.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear(),i=this._oMinDate.getYear(),s=this._oMaxDate.getMonth(),o=this._oMinDate.getMonth(),n=this.getAggregation("header"),h=F.call(this),g=new l(e,this._getPrimaryCalendarType());1===this._iMode&&h>1?((g=w.call(this,e)).setMonth(g.getMonth()+h-1),g.setDate(r._daysInMonth(g))):g.setDate(r._daysInMonth(g));var d=g.getYear(),c=g.getMonth();(0===this._iMode||1===this._iMode)&&h>1&&(c+=h-1),d>a||d===a&&(!t||c>=s)||(0===this._iMode||1===this._iMode)&&this._getSucessorsPickerPopup()?n.setEnabledNext(!1):n.setEnabledNext(!0),1===this._iMode&&h>1?g.setMonth(g.getMonth()-h+1,1):g.setDate(1),d=g.getYear(),c=g.getMonth(),d<i||d==i&&(!t||c<=o)||1==this._iMode&&this._getSucessorsPickerPopup()?n.setEnabledPrevious(!1):n.setEnabledPrevious(!0)},Y.prototype._togglePrevNexYearPicker=function(){var e,t,a,i,r=this.getAggregation("yearRangePicker"),s=this._getYearPicker(),o=this._getPrimaryCalendarType(),n=new l(this._oMinDate,o),h=new l(this._oMaxDate,o),g=this.getAggregation("header"),d=1;3===this._iMode?(a=r.getYears(),d=r.getRangeSize(),e=new l(r.getProperty("_middleDate")),t=new l(e),e.setYear(e.getYear()-d*a/2),t.setYear(t.getYear()+d*a/2-1)):(a=s.getYears(),i=s.getProperty("_middleDate")?s.getProperty("_middleDate"):l.fromLocalJSDate(u.getInstance()),e=new l(i),t=new l(i),e.setYear(e.getYear()-a/2),t.setYear(t.getYear()+a/2-1)),g.setEnabledNext(t.getYear()<h.getYear()),g.setEnabledPrevious(e.getYear()>n.getYear())},Y.prototype._handlePrevious=function(){var e,t=this._getFocusedDate(),a=F.call(this);switch(this._iMode){case 0:a>1?((e=l.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType())).setDate(1),this._setFocusedDate(e),t=this._getFocusedDate()):t.setDate(1),t.setDate(t.getDate()-1),this._renderMonth(!1,!1),this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()-1),this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),!0)),this._updateHeadersYearAdditionalTextHelper(),this._togglePrevNext(t),this._setDisabledMonths(t.getYear());var i=this._getMonthPicker();i._setYear(t.getYear()),i._setDate(t),i.invalidate(),this.setProperty("_currentPicker",k.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage(),this._togglePrevNexYearPicker(),this._updateHeadersYearPrimaryText(this._getYearString()),this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage(),this._togglePrevNexYearPicker(),this._updateHeadersYearPrimaryText(this._getYearString())}},Y.prototype._handleNext=function(){var e,t=this._getFocusedDate(),a=F.call(this);switch(this._iMode){case 0:a>1&&((e=l.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this._getPrimaryCalendarType())).setMonth(e.getMonth(),1),this._setFocusedDate(e),t=this._getFocusedDate()),t.setMonth(t.getMonth()+1,1),this._renderMonth(!1,!1),this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()+1),this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),!0)),this._updateHeadersYearAdditionalTextHelper(),this._togglePrevNext(t),this._setDisabledMonths(t.getYear());var i=this._getMonthPicker();i._setYear(t.getYear()),i._setDate(t),i.invalidate(),this.setProperty("_currentPicker",k.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage(),this._togglePrevNexYearPicker(),this._updateHeadersYearPrimaryText(this._getYearString()),this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage(),this._togglePrevNexYearPicker(),this._updateHeadersYearPrimaryText(this._getYearString())}},Y.prototype._updateHeadersYearAdditionalTextHelper=function(){if(this._getSecondaryCalendarType()){var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear())this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),!0));else{var t=this._getLocaleData().getIntervalPattern().replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),!0)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),!0));this._updateHeadersYearAdditionalText(t)}}},Y.prototype._handleCurrentDate=function(){var e=u.getInstance(),t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",k.MONTH),t&&t.getTime()<e.getTime()?this.focusDate(t):a&&a.getTime()>e.getTime()?this.focusDate(a):this.focusDate(e)},Y.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();return e&&t&&""===t.style.display&&(a=e.getProperty("_middleDate")).setDate(1),this._oYearFormat.format(c.getInstance(a.toUTCJSDate(),a.getCalendarType()),!0)},Y.prototype._getDisplayedMonths=function(e){var t=[],a=e.getMonth(),i=F.call(this);if(i>1)for(var r=0;r<i;r++)t.push((a+r)%12);else t.push(a);return t},Y.prototype._getDisplayedSecondaryMonths=function(){var e,t=this._getPrimaryCalendarType(),a=this._getSecondaryCalendarType(),i=this.getAggregation("month"),s=l.fromLocalJSDate(i[0].getDate(),t),o=l.fromLocalJSDate(i[i.length-1].getDate(),t);return s.setDate(1),e=(s=new l(s,a)).getMonth(),(o=l.fromLocalJSDate(i[i.length-1].getDate(),t)).setDate(r._daysInMonth(o)),{start:e,end:(o=new l(o,a)).getMonth()}},Y.prototype._getDisplayedSecondaryYears=function(){var e,t,a,i,s,o,n,h=this._getPrimaryCalendarType(),g=this._getSecondaryCalendarType();switch(this._iMode){case 0:s=this.getAggregation("month"),(e=l.fromLocalJSDate(s[0].getDate(),h)).setDate(1),e=new l(e,g),(t=l.fromLocalJSDate(s[s.length-1].getDate(),h)).setDate(r._daysInMonth(t)),t=new l(t,g);break;case 1:a=this._getFocusedDate(),(i=new l(a,h)).setMonth(0,1),e=new l(i,h),e=new l(e,g),i.setYear(i.getYear()+1),i.setDate(i.getDate()-1),t=new l(i,h),t=new l(t,g);break;case 2:n=(o=this._getYearPicker()).getYears()/2-1,a=o.getProperty("_middleDate"),(e=new l(a,h)).setYear(a.getYear()-n-1),e.setMonth(0,1),e=new l(e,g),(t=new l(a,h)).setYear(t.getYear()+n+1),e.setMonth(0,1),t.setDate(t.getDate()-1),t=new l(t,g)}return{start:e,end:t}},Y.prototype._closePickers=function(){this.setProperty("_currentPicker",k.MONTH),this._togglePrevNext(this._getFocusedDate(),!0),this.getAggregation("month").length>1&&this.getAggregation("month").forEach((function(e){e._oItemNavigation.iActiveTabIndex=0}))},Y.prototype._setDisabledMonths=function(e,t){var a=0,i=11;e===this._oMinDate.getYear()&&(a=this._oMinDate.getMonth()),e===this._oMaxDate.getYear()&&(i=this._oMaxDate.getMonth()),t||(t=this._getMonthPicker()),t.setMinMax(a,i)},Y.prototype._handleFocus=function(e){var t=l.fromLocalJSDate(e.getParameter("date"),this._getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");this.getIntervalSelection()&&this.getAggregation("month").forEach((function(e){e.setProperty("_focusedDate",t)})),i?C(this._getFocusedDate(),t)||this._renderMonth(!1,!0):this._focusDate(t,a,!1,!0)},Y.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),!1)},Y.prototype._renderMonth=function(e,t){var a,i,s=this._getFocusedDate(),o=this.getAggregation("month"),n=w.call(this,new l(s,this._getPrimaryCalendarType())),h=0,g=o[0].checkDateFocusable(s.toLocalJSDate()),d=!t&&!g;for(h=0;h<o.length;h++)a=o[h],(i=new l(n,this._getPrimaryCalendarType())).setMonth(n.getMonth()+h),!e&&r._isSameMonthAndYear(i,s)?a.setDate(s.toLocalJSDate()):a.displayDate(i.toLocalJSDate());this._updateHeader(n),this._setPrimaryHeaderMonthButtonText(),this._toggleTwoMonthsInColumnsCSS(),d&&this.fireStartDateChange()},Y.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();return this._bActionTriggeredFromSecondHeader?this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3()):e.setVisibleButton1(!1),this},Y.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new l(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility(),this._updateMonthButtonVisibility(),this.setProperty("_currentPicker",k.MONTH_PICKER),this._bActionTriggeredFromSecondHeader?(i.setDate(1),i.setMonth(i.getMonth()+1),a._setYear(i.getYear()),a._setDate(i)):(a._setYear(t.getYear()),a._setDate(t)),!e&&this._bActionTriggeredFromSecondHeader?(a.setMonth(i.getMonth()),this._setDisabledMonths(i.getYear(),a)):e||(a.setMonth(t.getMonth()),this._setDisabledMonths(t.getYear(),a)),this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==k.MONTH_PICKER&&this.getAggregation("month").forEach((function(e){e._oItemNavigation.iActiveTabIndex=-1})),this._togglePrevNext(t,!0),this._setHeaderText(this._getFocusedDate())},Y.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();if(this.setProperty("_currentPicker",k.YEAR_PICKER),t.setDate(e.toLocalJSDate()),this._togglePrevNexYearPicker(),this._isTwoMonthsInOneColumn(),this._updateActiveHeaderYearButtonVisibility(),this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1),t.setDate(a),this._updateHeadersYearPrimaryText(this._getYearString())}else t.setDate(e.toLocalJSDate()),this._updateHeadersYearPrimaryText(this._getYearString());this.getAggregation("month").length>1&&this.getProperty("_currentPicker")==k.YEAR_PICKER&&this.getAggregation("month").forEach((function(e){e._oItemNavigation.iActiveTabIndex=-1}))},Y.prototype._focusDate=function(e,t,a,i){var r,s,o=!1,n=!1,h=this.getAggregation("month");if(e.isBefore(this._oMinDate)?(r=this._oMinDate,o=!0):e.isAfter(this._oMaxDate)?(r=this._oMaxDate,o=!0):r=e,this._focusDateExtend&&(n=this._focusDateExtend(e,t,a)),this._setFocusedDate(r),i&&!this._focusDateExtend)for(s=0;s<h.length;++s)if(h[s].checkDateFocusable(r.toLocalJSDate()))return h[s].setDate(r.toLocalJSDate()),void h[s]._focusDate(r);(o||t)&&(this._renderMonth(!1,a),this._addMonthFocusDelegate()),n&&this.fireStartDateChange()},Y.prototype._setHeaderText=function(e){var t,a,i,r,s,o,n=this.getAggregation("header"),h=this.getAggregation("secondMonthHeader"),g=this._getLocaleData(),d=[],c=[],u=[],_=[],p=!1,D=this._getPrimaryCalendarType(),y=this._getSecondaryCalendarType(),m="";if(this._bLongMonth||!this._bNamesLengthChecked?d=g.getMonthsStandAlone("wide",D):(p=!0,d=g.getMonthsStandAlone("abbreviated",D),c=g.getMonthsStandAlone("wide",D)),y){u=g.getMonthsStandAlone("abbreviated",y),_=g.getMonthsStandAlone("wide",y);var f=this._getDisplayedSecondaryMonths();f.start===f.end?(r=u[f.start],m=_[f.start]):(r=(o=g.getIntervalPattern()).replace(/\{0\}/,u[f.start]).replace(/\{1\}/,u[f.end]),m=o.replace(/\{0\}/,_[f.start]).replace(/\{1\}/,_[f.end]))}n.setAdditionalTextButton1(r),n._setAdditionalTextButton3(r),h.setAdditionalTextButton1(r);var M=this._getDisplayedMonths(e);this._sFirstMonthName=a=d[M[0]],i=d[M[M.length-1]],M.length>1&&!this._bShowOneMonth?(o||(o=g.getIntervalPattern()),r=o.replace(/\{0\}/,a).replace(/\{1\}/,i),t=c.length?o.replace(/\{0\}/,c[M[0]]).replace(/\{1\}/,c[M[M.length-1]]):r,(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn())&&(r=a)):(r=a,t=c[M[0]]||r),!this._getSucessorsPickerPopup()&&m&&(t+=", "+m),n.setTextButton1(r),n.setAriaLabelButton1(t),n._setTextButton3(i),n._setAriaLabelButton3(i),h.setTextButton1(i),h.setAriaLabelButton1(i);var P=new l(e,D);return P.setDate(1),s=this._oYearFormat.format(P.toUTCJSDate(),!0),11===P.getMonth()?this._updateHeadersYearPrimaryText(s,(parseInt(s)+1).toString()):this._updateHeadersYearPrimaryText(s,s),y&&3!==this._iMode?this._updateHeadersYearAdditionalTextHelper():this._updateHeadersYearAdditionalText(),{sMonth:r,sYear:s,sAriaLabel:t,bShort:p}},Y.prototype._handleButton1=function(e){1!=this._iMode?(this._saveTriggeredHeader(e),this._showMonthPicker()):(this.setProperty("_currentPicker",k.MONTH),this._addMonthFocusDelegate())},Y.prototype._addMonthFocusDelegate=function(){var e,t,a=this.getAggregation("month"),i=a[0].getDate(),r=this._getFocusedDate(),s={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex(),void 0,!0),this.removeDelegate(s)}};i=a.length>1&&e?l.fromLocalJSDate(e,this._getPrimaryCalendarType()):a.length>1?w.call(this,this._getFocusedDate()):r;for(var o=0;o<a.length;o++)e=new l(i),o>0&&e.setMonth(e.getMonth()+o,1),r.getYear()===e.getYear()&&r.getMonth()===e.getMonth()&&(t=this.getAggregation("month")[o]).addDelegate(s,t)},Y.prototype._handleButton2=function(e){this._iMode<=1?(this._saveTriggeredHeader(e),this._showYearPicker()):this._showYearRangePicker()},Y.prototype._selectMonth=function(){var e=new l(this._getFocusedDate(),this._getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||0===a?a:t.getMonth(),s=l.fromLocalJSDate(u.getInstance(),this._getPrimaryCalendarType());s=t._iYear?s.setYear(t._iYear).setMonth(i-1,1):new l(this._getFocusedDate().getYear(),i-1,1),F.call(this)>1&&(this._bActionTriggeredFromSecondHeader&&s.getYear()>=r._minDate(this._getPrimaryCalendarType()).getYear()?(e.setYear(s.getYear()),i=s.getMonth()):e.getYear()===r._maxDate(this._getPrimaryCalendarType()).getYear()&&11===i&&(i-=1)),e.setMonth(i),i!=e.getMonth()&&e.setDate(0),this._focusDate(e,!0,!1,!1),this._closePickers(),this._addMonthFocusDelegate()},Y.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()},Y.prototype._selectYear=function(){var e=new l(this._getFocusedDate(),this._getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=l.fromLocalJSDate(a.getDate(),this._getPrimaryCalendarType());this._bActionTriggeredFromSecondHeader?(i.setYear(11===t?i.getYear()-1:i.getYear()),i.setMonth(t,e.getDate())):i.setMonth(t,e.getDate()),e=i,this._focusDate(e,!0,!1,!1),this._closePickers(),this._addMonthFocusDelegate(),this._setHeaderText(this._getFocusedDate())},Y.prototype.setProperty=function(){var e=arguments[0],a=arguments[1];if(t.prototype.setProperty.apply(this,arguments),"_currentPicker"===e)switch(a){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}return this},Y.prototype._selectYearRange=function(){var e,t,a=this.getAggregation("yearRangePicker"),i=this.getAggregation("header"),r=a.getRangeSize(),s=this._getPrimaryCalendarType(),o=l.fromLocalJSDate(a.getDate(),s),n=new l(o.getYear()+r-1,0,1,s),h=this._getFocusedDate();h.setYear(o.getYear()+r/2),o.setMonth(0,1),h.isBefore(this._oMinDate)?h=new l(this._oMinDate,this._getPrimaryCalendarType()):h.isAfter(this._oMaxDate)&&(h=new l(this._oMaxDate,this._getPrimaryCalendarType())),this._setFocusedDate(h),this._showYearPicker(),e=this._oYearFormat.format(c.getInstance(o.toUTCJSDate(),o.getCalendarType()),!0),t=this._oYearFormat.format(c.getInstance(n.toUTCJSDate(),n.getCalendarType()),!0),i.setTextButton2(e+" - "+t),i._setTextButton4(e+" - "+t)},Y.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=l.fromLocalJSDate(t.getFirstRenderedDate(),this._getPrimaryCalendarType());this.setProperty("_currentPicker",k.YEAR_RANGE_PICKER),a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2)),e.setDate(a.toLocalJSDate()),this._togglePrevNexYearPicker()},Y.prototype._setColumns=function(e){return this._iColumns=e,this},Y.prototype._getColumns=function(){return this._iColumns},Y.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();return this._bActionTriggeredFromSecondHeader?this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3()):e.setVisibleButton1(!e.getVisibleButton1()),this},Y.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e),r.setVisibleButton2(t),r._setVisibleButton3(a),r._setVisibleButton4(i),s.getVisible()&&(s.setVisibleButton1(e),s.setVisibleButton2(t),s._setVisibleButton3(a),s._setVisibleButton4(i))},Y.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");this._isTwoMonthsInOneColumn()?(e.setVisible(!0),2===this._iMode?this._updateHeadersButtonsHelper(!1,!0,!1,!1):3===this._iMode?this._updateHeadersButtonsHelper(!1,!1,!1,!1):this._updateHeadersButtonsHelper(!0,!0,!1,!1)):this._isTwoMonthsInTwoColumns()?(e.setVisible(!1),2===this._iMode?this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(!0,!0,!1,!0):this._updateHeadersButtonsHelper(!1,!0,!0,!0):3===this._iMode?this._updateHeadersButtonsHelper(!1,!1,!1,!1):1===this._iMode?this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(!0,!0,!1,!0):this._updateHeadersButtonsHelper(!1,!0,!0,!0):this._updateHeadersButtonsHelper(!0,!0,!0,!0)):(e.setVisible(!1),1===this._iMode||2===this._iMode?this._updateHeadersButtonsHelper(!1,!0,!1,!1):3===this._iMode?this._updateHeadersButtonsHelper(!1,!1,!1,!1):this._updateHeadersButtonsHelper(!0,!0,!1,!1)),this._getSucessorsPickerPopup()&&this.getAggregation("header").setVisibleButton2(!1)},Y.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns())&&e.setTextButton1(this._sFirstMonthName)},Y.prototype._toggleTwoMonthsInColumnsCSS=function(){this._isTwoMonthsInTwoColumns()?"ja"===a.getConfiguration().getLocale().getLanguage().toLowerCase()||"zh"===a.getConfiguration().getLocale().getLanguage().toLowerCase()?(this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh"),this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")):(this.addStyleClass("sapUiCalTwoMonthsTwoColumns"),this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")):(this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh"),this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")),this._isTwoMonthsInOneColumn()?this.addStyleClass("sapUiCalTwoMonthsInOneColumn"):this.removeStyleClass("sapUiCalTwoMonthsInOneColumn")},Y.prototype._isTwoMonthsInOneColumn=function(){var e=F.call(this);return 1===this._getColumns()&&2===e},Y.prototype._isTwoMonthsInTwoColumns=function(){var e=F.call(this);return 2===this._getColumns()&&2===e},Y.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader"),o=e,n=t||e,h=this._getPrimaryCalendarType();if(2===this._iMode&&a){var g,d,u,_=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),p=new l(_,h),D=r._minDate(this._getPrimaryCalendarType()).getYear(),y=r._maxDate(this._getPrimaryCalendarType()).getYear();p.setDate(1),p.setYear(p.getYear()-Math.floor(a.getYears()/2)),p.getYear()<D?p.setYear(D):p.getYear()+a.getYears()>y&&p.setYear(y-a.getYears()+1),(g=new l(p,h)).setYear(g.getYear()+a.getYears()-1),d=this._oYearFormat.format(c.getInstance(p.toUTCJSDate(),p.getCalendarType()),!0),u=this._oYearFormat.format(c.getInstance(g.toUTCJSDate(),g.getCalendarType()),!0),this._bActionTriggeredFromSecondHeader?n=d+" - "+u:o=d+" - "+u}i._setTextButton4(n),i._setAriaLabelButton4(n),s.setTextButton2(n),i.setTextButton2(o)},Y.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader");t.setAdditionalTextButton2(e),t._setAdditionalTextButton4(e),a.setAdditionalTextButton2(e)},Y.prototype._adjustYearRangeDisplay=function(){var t=this.getAggregation("yearRangePicker"),a=sap.ui.getCore().getConfiguration().getLanguage().toLocaleLowerCase(),i=this._getPrimaryCalendarType();this._getSucessorsPickerPopup()||(i==e.Japanese?(t.setColumns(1),t.setYears(4)):"ko"==a||"ko-kr"==a||i!=e.Gregorian?(t.setColumns(2),t.setYears(8)):i==e.Gregorian&&(t.setColumns(3),t.setYears(9)))},Y.prototype._getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin)return this._oSpecialDatesControlOrigin._getSpecialDates();if(e&&e._getSpecialDates)return e._getSpecialDates();for(var t=this.getSpecialDates(),a=0;a<t.length;a++){if(t[a].getSecondaryType()===_.CalendarDayType.NonWorking&&t[a].getType()!==_.CalendarDayType.NonWorking){var i=new s;i.setType(t[a].getSecondaryType()),i.setStartDate(t[a].getStartDate()),t[a].getEndDate()&&i.setEndDate(t[a].getEndDate()),t.push(i)}}return t},Y}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarAppointment", ["./DateTypeRange","sap/ui/core/format/DateFormat","sap/ui/core/format/NumberFormat","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","./calendar/CalendarUtils","./library","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(t,e,a,i,n,r,o,u,g,s){"use strict";var p=t.extend("sap.ui.unified.CalendarAppointment",{metadata:{library:"sap.ui.unified",properties:{title:{type:"string",group:"Data"},text:{type:"string",group:"Data"},description:{type:"string",group:"Data"},icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},tentative:{type:"boolean",group:"Data",defaultValue:false},selected:{type:"boolean",group:"Data",defaultValue:false},key:{type:"string",group:"Data",defaultValue:null},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:true}}}});p.prototype.init=function(){this._sAppointmentPartSuffix=null};p.prototype.applyFocusInfo=function(t){var e=this.getParent();if(e){e.applyFocusInfo(t)}return this};p.prototype._getDateRangeIntersectionText=function(t){var i=this.getStartDate(),n=this.getEndDate()?this.getEndDate():s.getInstance(864e12),r,o,u=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),p=s.getInstance(u.getFullYear(),u.getMonth(),u.getDate()+1),l=e.getTimeInstance({pattern:"HH:mm"}),m=sap.ui.getCore().getLibraryResourceBundle("sap.m"),f=a.getUnitInstance({allowedUnits:["duration-hour"]},g.getFormatSettings().getFormatLocale()),c=a.getUnitInstance({allowedUnits:["duration-minute"]},g.getFormatSettings().getFormatLocale()),d,T,y,D;if(i.getTime()>p.getTime()||n.getTime()<u.getTime()){r=""}else if(i.getTime()<=u.getTime()&&n.getTime()>=p.getTime()){r=m.getText("PLANNINGCALENDAR_ALLDAY")}else if(i.getTime()<u.getTime()){r=m.getText("PLANNINGCALENDAR_UNTIL");o=l.format(n)}else if(n.getTime()>p.getTime()){r=m.getText("PLANNINGCALENDAR_FROM");o=l.format(i)}else{r=l.format(i);if(n.getTime()-i.getTime()<36e5){T=(n.getTime()-i.getTime())/6e4;o=c.format(T,"duration-minute")}else if((n.getTime()-i.getTime())%36e5===0){d=(n.getTime()-i.getTime())/36e5;o=f.format(d,"duration-hour")}else{d=Math.floor((n.getTime()-i.getTime())/36e5);y=f.format(d,"duration-hour");T=(n.getTime()-i.getTime())/6e4%60;D=c.format(T,"duration-minute");o=m.getText("PLANNINGCALENDAR_APP_DURATION",[y,D])}}return{start:r,end:o}};p._getComparer=function(t){var e=24*60*60*1e3,a=s.getInstance(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),i=a+e;return function(t,e){var n=t.appointment.getStartDate().getTime(),r=e.appointment.getStartDate().getTime(),o=t.appointment.getEndDate()?t.appointment.getEndDate().getTime():864e12,u=e.appointment.getEndDate()?e.appointment.getEndDate().getTime():864e12,g=n<=a&&o>=i,s=r<=a&&u>=i,p;if(g&&s||!g&&!s){p=n-r;if(p===0){p=u-o}}else if(g){p=-1}else{p=1}return p}};p.prototype.setColor=function(t){if(t&&!t.match(/^#[0-9a-f]{6}$/i)){u.warning("setColor accepts only full hex color value with pound symbol, but value is '"+t+"'")}return this.setProperty("color",t)};p.prototype._getCSSColorForBackground=function(t){return"rgba("+[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)].join(",")+", 0.2)"};p.prototype._setAppointmentPartSuffix=function(t){this._sAppointmentPartSuffix=t;return this};p.prototype.getDomRef=function(t){if(document.getElementById(this.getId())){return document.getElementById(t?this.getId()+"-"+t:this.getId())}else if(this._sAppointmentPartSuffix){return document.getElementById(t?this.getId()+"-"+this._sAppointmentPartSuffix+"-"+t:this.getId()+"-"+this._sAppointmentPartSuffix)}var e=document.querySelectorAll(".sapUiCalendarRowApps[id^='"+this.getId()+"-']");return e.length>0?e[0]:null};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarDateInterval", ["./calendar/CalendarUtils","./Calendar","./calendar/DatesRow","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","./library","sap/ui/Device","./CalendarDateIntervalRenderer","sap/base/util/deepEqual","sap/m/Popover","sap/ui/core/CalendarType","sap/ui/core/Core","sap/base/Log","./DateRange","sap/ui/core/date/UI5Date"],(function(t,e,a,s,r,i,o,n,h,g,p,c,l,u,_,d,D){"use strict";var y=e.extend("sap.ui.unified.CalendarDateInterval",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:!0},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:!1}},designtime:"sap/ui/unified/designtime/CalendarDateInterval.designtime"},renderer:g});function P(t){var e=new o(this._getFocusedDate(),this.getPrimaryCalendarType());this._togglePrevNext(e)}function f(t){this._togglePrevNexYearPicker(),this._updateHeadersYearPrimaryText(this._getYearString())}return y.prototype.init=function(){e.prototype.init.apply(this,arguments),this._iDaysMonthHead=35},y.prototype.onBeforeRendering=function(){this._getSucessorsPickerPopup()&&this.setProperty("_currentPicker","month"),e.prototype.onBeforeRendering.apply(this,arguments),this._bPoupupMode=this.getPickerPopup()},y.prototype._selectYearRange=function(){e.prototype._selectYearRange.apply(this,arguments),this.getAggregation("month")[0].setStartDate(this._getFocusedDate().toLocalJSDate())},y.prototype.exit=function(){e.prototype.exit.apply(this,arguments),this._oPopup&&(this._oPopup.destroy(),this._oPopup=null),this._oCalendar&&(this._oCalendar.removeDelegate(this._oFocusCalendarDelegate),this._oCalendar.destroy(),this._oCalendar=null)},y.prototype._initializeMonthPicker=function(){var t=this._createMonthPicker();t._bCalendar=!0,this.setAggregation("monthPicker",t),t._setSelectedDatesControlOrigin(this)},y.prototype._initializeYearPicker=function(){var t=this._createYearPicker();t._bCalendar=!0,this.setAggregation("yearPicker",t),t._setSelectedDatesControlOrigin(this)},y.prototype._initializeYearRangePicker=function(){this.setAggregation("yearRangePicker",this._createYearRangePicker())},y.prototype.setPickerPopup=function(t){this.setProperty("pickerPopup",t);var e,a,s=this.getAggregation("header");return t?(this._getMonthPicker()&&this._getMonthPicker().destroy(),this._getYearPicker()&&this._getYearPicker().destroy(),s.setVisibleButton2(!1),s.detachEvent("pressButton2",this._handleButton2,this),this._setHeaderText(this._getFocusedDate(!0))):(this._getMonthPicker()||this.setAggregation("monthPicker",this._createMonthPicker()),this._getYearPicker()||this.setAggregation("yearPicker",this._createYearPicker()),e=this._getMonthPicker(),a=this._getYearPicker(),e.setColumns(0),e.setMonths(6),a.setColumns(0),a.setYears(6),a._oMinDate.setYear(this._oMinDate.getYear()),a._oMaxDate.setYear(this._oMaxDate.getYear()),s.setVisibleButton2(!0),s.detachEvent("pressButton2",this._handleButton2,this),s.attachEvent("pressButton2",this._handleButton2,this)),this},y.prototype._createMonthPicker=function(){var t=new s(this.getId()+"--MP");return t.attachEvent("select",this._selectMonth,this),t._bNoThemeChange=!0,t.setColumns(0),t.setMonths(3),t.attachEvent("pageChange",P,this),t},y.prototype._createYearPicker=function(){var t=new r(this.getId()+"--YP");return t.attachEvent("select",this._selectYear,this),t.setColumns(0),t.setYears(3),t.attachEvent("pageChange",f,this),t},y.prototype._createYearRangePicker=function(){var t=new i(this.getId()+"--YRP");return t.attachEvent("select",this._selectYearRange,this),t.setPrimaryCalendarType(this.getPrimaryCalendarType()),t.setYears(6),t.setRangeSize(this._getYearPicker().getYears()),t},y.prototype._adjustYearRangeDisplay=function(){var t=this.getAggregation("yearRangePicker");if(this._getSucessorsPickerPopup())e.prototype._adjustYearRangeDisplay.call(this,arguments);else if(this.getPrimaryCalendarType()===l.Gregorian)t.setColumns(3),t.setYears(3);else t.setColumns(2),t.setYears(2)},y.prototype._getCalendar=function(){var t;return this._oCalendar||((t=new e(this.getId()+"--Cal")).attachEvent("select",this._handleCalendarPickerDateSelect,this),t.attachEvent("cancel",(function(t){this._closeCalendarPicker(!0);var e=this.getAggregation("header").getDomRef("B1");e&&e.focus()}),this),this._oFocusCalendarDelegate={onAfterRendering:function(){this.focus()}},t.addDelegate(this._oFocusCalendarDelegate,t),this._oCalendar=t),this._oCalendar},y.prototype._setAriaRole=function(t){var e=this.getAggregation("month")[0];return e._setAriaRole(t),e.invalidate(),this},y.prototype._handleButton1=function(t){this.getPickerPopup()?(this._showCalendarPicker(),this._showOverlay()):this._showMonthPicker()},y.prototype._showOverlay=function(){this.$("contentOver").css("display","")},y.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")},y.prototype._setHeaderText=function(t){var a,s,r=(a=this.getStartDate()?e.prototype._setHeaderText.apply(this,[o.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType())]):e.prototype._setHeaderText.apply(this,arguments)).sAriaLabel,i=this.getAggregation("header"),n=this._getLocaleData(),h=o.fromLocalJSDate(D.getInstance(t.toLocalJSDate().getTime()+24*(this._getDays()-1)*60*60*1e3),this.getPrimaryCalendarType());h.setDate(1);var g=n.getIntervalPattern().replace("{0}","").replace("{1}",""),p=this._oYearFormat.format(h.toUTCJSDate(),!0),c=a.sMonth;this.getPickerPopup()&&("ja"===n.oLocale.sLanguage.toLowerCase()||"zh"===n.oLocale.sLanguage.toLowerCase()?(p!=a.sYear&&(c=c.replace(g,g+p+" "),r=r.replace(g,g+p+" ")),s=a.sYear+" "+c,r=a.sYear+" "+r):(p!=a.sYear&&(c=c.replace(g," "+a.sYear+g),r=r.replace(g," "+a.sYear+g)),s=c+" "+p,r=r+" "+p),i.setTextButton1(s,!0),i.setAriaLabelButton1(r))},y.prototype._showCalendarPicker=function(){var t=this.getStartDate(),e=this._getCalendar(),a=new d,s=D.getInstance(t.getTime());s.setDate(s.getDate()+this._getDays()-1),a.setStartDate(t),a.setEndDate(s),e.displayDate(this._getFocusedDate().toLocalJSDate()),e.removeAllSelectedDates(),e.addSelectedDate(a),e.setMinDate(this.getMinDate()),e.setMaxDate(this.getMaxDate()),this._openPickerPopup(e)},y.prototype._handleCalendarPickerDateSelect=function(t){var e=this._getCalendar().getSelectedDates()[0].getStartDate(),a=o.fromLocalJSDate(e);this._setStartDate(a),this._setFocusedDate(a),this._closeCalendarPicker()},y.prototype._closeCalendarPicker=function(t){this._oPopup&&this._oPopup.isOpen()&&this._oPopup.close(),t||this._renderMonth(),this._getCalendar()._closePickers()},y.prototype._getDaysLarge=function(){return 10},y.prototype._createMonth=function(t){var e=new a(t);return e._bCalendar=!0,e},y.prototype.setStartDate=function(e){if(t._checkJSDateObject(e),p(this.getStartDate(),e))return this;var a=e.getFullYear();t._checkYearInValidRange(a);var s=o.fromLocalJSDate(e,this.getPrimaryCalendarType());if(t._isOutside(s,this._oMinDate,this._oMaxDate))throw new Error("Date must be in valid range (minDate and maxDate); "+this);var r=this.getMinDate();r&&e.getTime()<r.getTime()&&(_.warning("startDate < minDate -> minDate as startDate set",this),e=D.getInstance(r.getTime()));var i=this.getMaxDate();i&&e.getTime()>i.getTime()&&(_.warning("startDate > maxDate -> maxDate as startDate set",this),e=D.getInstance(i.getTime())),this.setProperty("startDate",e,!0),s=o.fromLocalJSDate(e,this.getPrimaryCalendarType()),this._oStartDate=s;var n=this.getAggregation("month")[0];n.setStartDate(e),this._updateHeader(s);var h=this._getFocusedDate(!0).toLocalJSDate();return n.checkDateFocusable(h)||(this._setFocusedDate(s),n.displayDate(e)),this},y.prototype.getStartDate=function(){return this.getProperty("startDate")},y.prototype.setDays=function(t){t=Math.max(1,t);var e=this.getAggregation("yearRangePicker");if(this.setProperty("days",t,!0),t=this._getDays(),this.getAggregation("month")[0].setDays(t),!this.getPickerPopup()){var a=this._getMonthPicker(),s=Math.ceil(t/3);s>12&&(s=12),a.setMonths(s);var r=this._getYearPicker(),i=Math.floor(t/2);i>20&&(i=20),r.setYears(i),e.setRangeSize(i)}var o=this._getStartDate();return this._updateHeader(o),this.getDomRef()&&(t>this._getDaysLarge()?this.$().addClass("sapUiCalIntLarge"):this.$().removeClass("sapUiCalIntLarge"),t>this._iDaysMonthHead?this.$().addClass("sapUiCalIntHead"):this.$().removeClass("sapUiCalIntHead")),this},y.prototype._getDays=function(){var t=this.getDays();return h.system.phone&&t>8?8:t},y.prototype.setShowDayNamesLine=function(t){return this.setProperty("showDayNamesLine",t,!0),this.getAggregation("month")[0].setShowDayNamesLine(t),this},y.prototype._getShowMonthHeader=function(){return this._getDays()>this._iDaysMonthHead},y.prototype._getFocusedDate=function(t){if(!this._oFocusedDate||t){this._oFocusedDate=null,e.prototype._getFocusedDate.apply(this,arguments);var a=this.getStartDate(),s=this.getAggregation("month")[0];a?s.checkDateFocusable(this._oFocusedDate.toLocalJSDate())||(this._oFocusedDate=o.fromLocalJSDate(a,this.getPrimaryCalendarType())):this._setStartDate(this._oFocusedDate,!1,!0)}return this._oFocusedDate},y.prototype.setMonths=function(t){if(1==t)return this.setProperty("months",t,!1);throw new Error("Property months not supported "+this)},y.prototype.setFirstDayOfWeek=function(t){if(-1==t)return this.setProperty("firstDayOfWeek",t,!1);throw new Error("Property firstDayOfWeek not supported "+this)},y.prototype.focusDate=function(t){return this.getAggregation("month")[0].checkDateFocusable(t)||this._focusDateExtend(o.fromLocalJSDate(t,this.getPrimaryCalendarType()),!0,!0),e.prototype.focusDate.apply(this,arguments),this},y.prototype._focusOnShiftTab=function(){var t=this.getAggregation("header");this.getPickerPopup()&&t.getDomRef("B1")?t.getDomRef("B1").focus():!this.getPickerPopup()&&t.getDomRef("B2")&&t.getDomRef("B2").focus()},y.prototype.onsapescape=function(t){this.getPickerPopup()?(this._closeCalendarPicker(),this.fireCancel()):(0===this._iMode&&this.fireCancel(),this._closePickers()),this._updateHeadersButtons(),this._setHeaderText(this._getFocusedDate())},y.prototype._focusDateExtend=function(t,e,a){if(e){var s=this.getAggregation("month")[0],r=s._oItemNavigation?s._oItemNavigation.getFocusedIndex():0,i=new o(t,this.getPrimaryCalendarType());if(i.setDate(i.getDate()-r),this._setStartDate(i,!1,!0),!a)return!0}return!1},y.prototype._setMinMaxDateExtend=function(t){if(this._oStartDate)if(this._oStartDate.isBefore(this._oMinDate))_.warning("start date < minDate -> minDate will be start date",this),this._setStartDate(new o(this._oMinDate,this.getPrimaryCalendarType()),!0,!0);else{var e=new o(this._oStartDate);if(e.setDate(e.getDate()+this._getDays()-1),e.isAfter(this._oMaxDate)){_.warning("end date > maxDate -> start date will be changed",this);var a=new o(this._oMaxDate);a.setDate(a.getDate()-this._getDays()+1),this._setStartDate(a,!0,!0)}}},y.prototype._updateHeader=function(t){switch(this._setHeaderText(t),this._iMode){case 0:this._togglePrevNext(t,!0);break;case 1:this._togglePrevNext(t);break;case 2:case 3:this._togglePrevNexYearPicker()}},y.prototype._togglePrevNext=function(a,s){if(this._iMode>1||1==this._iMode&&this.getPickerPopup())return e.prototype._togglePrevNext.apply(this,arguments);var r,i,n,h,g,p=this._oMaxDate.getYear(),c=this._oMinDate.getYear(),l=this._oMaxDate.getMonth(),u=this._oMinDate.getMonth(),_=this._oMinDate.getDate(),d=this._oMaxDate.getDate(),D=this.getAggregation("header"),y=this._getDays();if(1==this._iMode&&!s){var P=this._getMonthPicker(),f=P.getMonths(),v=P.getProperty("_firstMonth"),m=v+f-1;return r=a.getYear(),0==v||r==c&&v<=u?D.setEnabledPrevious(!1):D.setEnabledPrevious(!0),void(m>10||r==p&&m>=l?D.setEnabledNext(!1):D.setEnabledNext(!0))}i=this._getStartDate(),(n=new o(i,this.getPrimaryCalendarType())).setDate(n.getDate()+y-1),t._isOutside(a,i,n)&&(i=new o(a,this.getPrimaryCalendarType()),(n=new o(i,this.getPrimaryCalendarType())).setDate(n.getDate()+y-1)),r=i.getYear(),h=i.getMonth(),g=i.getDate(),r<c||r==c&&(!s||h<u||h==u&&g<=_)?D.setEnabledPrevious(!1):D.setEnabledPrevious(!0),r=n.getYear(),h=n.getMonth(),g=n.getDate(),r>p||r==p&&(!s||h>l||h==l&&g>=d)?D.setEnabledNext(!1):D.setEnabledNext(!0)},y.prototype._shiftStartFocusDates=function(t,e,a){t.setDate(t.getDate()+a),e.setDate(e.getDate()+a),this._setFocusedDate(e),this._setStartDate(t,!0)},y.prototype._handlePrevious=function(t){var e,a,s,r=new o(this._getFocusedDate(),this.getPrimaryCalendarType());switch(this._iMode){case 0:a=new o(this._getStartDate(),this.getPrimaryCalendarType()),s=this._getDays(),this._shiftStartFocusDates(a,r,-1*s),this._addMonthFocusDelegate();break;case 1:if(!this.getPickerPopup())if((e=this._getMonthPicker()).getMonths()<12)e.previousPage(),this._togglePrevNext(r);else{r.setYear(r.getYear()-1);var i=this._focusDateExtend(r,!0,!1);this._setFocusedDate(r),this._updateHeader(r),this._setDisabledMonths(r.getYear()),i&&this.fireStartDateChange()}break;case 2:this.getPickerPopup()||(this._getYearPicker().previousPage(),f.call(this));break;case 3:this.getPickerPopup()||(this.getAggregation("yearRangePicker").previousPage(),f.call(this))}},y.prototype._handleNext=function(t){var e,a,s,r=new o(this._getFocusedDate(),this.getPrimaryCalendarType());switch(this._iMode){case 0:a=new o(this._getStartDate(),this.getPrimaryCalendarType()),s=this._getDays(),this._shiftStartFocusDates(a,r,s),this._addMonthFocusDelegate();break;case 1:if(!this.getPickerPopup())if((e=this._getMonthPicker()).getMonths()<12)e.nextPage(),this._togglePrevNext(r);else{r.setYear(r.getYear()+1);var i=this._focusDateExtend(r,!0,!1);this._setFocusedDate(r),this._updateHeader(r),this._setDisabledMonths(r.getYear()),i&&this.fireStartDateChange()}break;case 2:this.getPickerPopup()||(this._getYearPicker().nextPage(),f.call(this));break;case 3:this.getPickerPopup()||(this.getAggregation("yearRangePicker").nextPage(),f.call(this))}},y.prototype._getDisplayedMonths=function(t){var e=[],a=t.getMonth(),s=this._getDays();if(e.push(a),s>this._getDaysLarge()){var r=new o(t,this.getPrimaryCalendarType());r.setDate(r.getDate()+s-1);for(var i=r.getMonth();a!=i;)a=(a+1)%12,e.push(a)}return e},y.prototype._getDisplayedSecondaryMonths=function(t,e){var a=this._getDays(),s=new o(this._getStartDate(),e),r=s.getMonth(),i=new o(s,this.getPrimaryCalendarType());return i.setDate(i.getDate()+a-1),{start:r,end:(i=new o(i,e)).getMonth()}},y.prototype._openPickerPopup=function(t){if(!this._oPopup){var e=new c({placement:"VerticalPreferredBottom",showHeader:!1,showArrow:!1,verticalScrolling:!1});e.oPopup.setDurations(0,0),e.addEventDelegate({onsapescape:function(t){this._oCalendar.onsapescape(t),this._hideOverlay()}},this),this._oPopup=e}this._oPopup.addContent(t),this._oPopup.attachAfterClose((function(){this._closeCalendarPicker(!0),this._hideOverlay()}),this),this._oPopup.attachAfterOpen((function(){var t=a.$("B1"),e=this._oPopup.$(),s=Math.floor((e.width()-t.width())/2);this._oPopup.setOffsetX(u.getConfiguration().getRTL()?s:-s);var r=t.height();this._oPopup.setOffsetY("Top"===this._oPopup._getCalculatedPlacement()?r:-r)}),this);var a=this.getAggregation("header");this._oPopup.openBy(a.getDomRef("B1"))},y.prototype._getMaxDateAlignedToMinDate=function(t,e){var a=new o(t,this.getPrimaryCalendarType());return a.isBefore(e)&&(a=new o(e)).setDate(a.getDate()+this._getDays()-1),a},y.prototype._getStartDateAlignedToMinAndMaxDate=function(t,e,a){var s=new o(a,this.getPrimaryCalendarType());return s.isBefore(e)?s=new o(e,this.getPrimaryCalendarType()):s.isAfter(t)&&(s=t),s},y.prototype._calculateStartDate=function(t,e,a){var s=new o(t,this.getPrimaryCalendarType());return s.setDate(s.getDate()-this._getDays()+1),s=this._getMaxDateAlignedToMinDate(s,e),a=this._getStartDateAlignedToMinAndMaxDate(s,e,a)},y.prototype._setStartDate=function(t,e,a){var s=(t=this._calculateStartDate(this._oMaxDate,this._oMinDate,t)).toLocalJSDate();this.setProperty("startDate",s,!0),this._oStartDate=t;var r=this.getAggregation("month")[0];if(r.setStartDate(s),this._updateHeader(t),e){var i=this._getFocusedDate().toLocalJSDate();r.checkDateFocusable(i)?r.setDate(i):(this._setFocusedDate(t),r.setDate(s))}a||this.fireStartDateChange()},y.prototype._getStartDate=function(){return this._oStartDate||(this._oStartDate=this._getFocusedDate()),this._oStartDate},y}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarDateIntervalRenderer", ["sap/ui/core/Renderer","./CalendarRenderer"],function(e,a){"use strict";var n=e.extend(a);n.apiVersion=2;n.renderCalContentOverlay=function(){};n.renderCalContentAndArrowsOverlay=function(e,a,n){if(a.getPickerPopup()){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");if(!a._oPopup||!a._oPopup.isOpen()){e.style("display","none")}e.openEnd();e.close("div")}};n.addAttributes=function(e,a){e.class("sapUiCalInt");e.class("sapUiCalDateInt");var n=a._getDays();if(n>a._getDaysLarge()){e.class("sapUiCalIntLarge")}if(n>a._iDaysMonthHead){e.class("sapUiCalIntHead")}if(a.getShowDayNamesLine()){e.class("sapUiCalWithDayNamesLine")}if(a.getShowWeekNumbers()){e.class("sapUiCalWithWeekNumbers")}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend", ["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem","sap/ui/core/Core","sap/ui/Device","sap/ui/core/delegate/ItemNavigation"],function(e,t,i,n,jQuery,a,r,o,s){"use strict";var d=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var p=t.CalendarDayType;var u=t.StandardCalendarLegendItem;var g=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,i){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){i=t}if(!i||i&&!i.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true;this._oItemNavigation=null},renderer:i});g.prototype.onAfterRendering=function(){if(!o.system.phone&&this._oParentControl){this._initItemNavigation()}};g.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!u[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};g.prototype._initItemNavigation=function(){var e=this.getAggregation("_standardItems")||[],t=this.getItems()||[],i,n=[],a,r;i=e.concat(t);if(!i.length){return}r=i[0].getDomRef().parentElement;i.forEach(function(e,t){a=e.getFocusDomRef();a.setAttribute("tabindex","-1");n.push(a)});if(!this._oItemNavigation){this._oItemNavigation=(new s).setCycling(false).attachEvent(s.Events.AfterFocus,this._onItemNavigationAfterFocus,this).attachEvent(s.Events.FocusLeave,this._onItemNavigationFocusLeave,this).setDisabledModifiers({sapnext:["alt","meta","ctrl"],sapprevious:["alt","meta","ctrl"],saphome:["alt","meta","ctrl"],sapend:["meta","ctrl"]});this.addDelegate(this._oItemNavigation)}this._oItemNavigation.setRootDomRef(r).setItemDomRefs(n).setPageSize(i.length).setFocusedIndex(0)};g.prototype._onItemNavigationAfterFocus=function(e){var t=e.getSource(),i=t.getItemDomRefs()[t.getFocusedIndex()],n=r.byId(i.id).getType(),a=this._getParent();this._setSpecialDateTypeFilter(n);a&&a.invalidate()};g.prototype._onItemNavigationFocusLeave=function(e){var t=this._getParent();this._setSpecialDateTypeFilter();t&&t.invalidate()};g.prototype._setSpecialDateTypeFilter=function(e){this._sSpecialDateTypeFilter=e||""};g.prototype._getSpecialDateTypeFilter=function(){return this._sSpecialDateTypeFilter||""};g.prototype._setParent=function(e){this._oParentControl=e};g.prototype._getParent=function(){return this._oParentControl};g.prototype._getLegendAriaLabel=function(){return d.getText("LEGEND_ARIA_LABEL")};g.prototype._addStandardItems=function(e,t){var i,n=this.getId();if(t){this.destroyAggregation("_standardItems")}for(i=0;i<e.length;i++){var r=new a(n+"-"+e[i],{text:d.getText(g._Standard_Items_TextKeys[e[i]])});this.addAggregation("_standardItems",r)}};g._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};g.prototype._getItemType=function(e,t){var i=e.getType(),a,r;if(i&&i!==p.None){return i}r=this._getUnusedItemTypes(t);a=t.filter(function(e){return!e.getType()||e.getType()===p.None}).indexOf(e);if(a<0){n.error("Legend item is not in the legend",this);return i}if(r[a]){i=r[a]}else{i="Type"+(Object.keys(p).length+a-r.length-1)}return i};g.prototype._getItemByType=function(e){var t,i=this.getItems(),n;for(n=0;n<i.length;n++){if(this._getItemType(i[n],i)===e){t=i[n];break}}return t};g.prototype._getUnusedItemTypes=function(e){var t=jQuery.extend({},p),i,n;delete t[p.None];delete t[p.NonWorking];for(n=0;n<e.length;n++){i=e[n].getType();if(t[i]){delete t[i]}}return Object.keys(t)};g.prototype._extractItemIdsString=function(e){return e.map(function(e){return e.getId()}).join(" ")};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendItem", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=a.CalendarDayType;var u=e.extend("sap.ui.unified.CalendarLegendItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:r.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return u});
/*
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer", ["sap/ui/core/InvisibleText"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){var i=t.getAggregation("_standardItems"),n=t.getItems(),r=this.defineItemsLength(t,n.length),d=(i?i.length:0)+(n?n.length:0),a="",i=i||[],n=n||[],s,o,l,g=1;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.attr("aria-label",t._getLegendAriaLabel());e.attr("role","list");a=t._extractItemIdsString(i.concat(n));e.attr("aria-owns",a);e.openEnd();this.renderItemsHeader(e,t);if(i||n){e.openStart("div");e.class("sapUiUnifiedLegendItems");l=t.getColumnWidth();e.style("column-width",l);e.style("-moz-column-width",l);e.style("-webkit-column-width",l);e.openEnd();if(i){o=t.getId().length+1;for(s=0;s<i.length;++s){var c="sapUiUnifiedLegend"+i[s].getId().slice(o);this.renderLegendItem(e,c,i[s],["sapUiUnifiedLegendSquareColor"],g++,d)}}if(n){for(s=0;s<r;s++){this.renderLegendItem(e,"sapUiCalLegDayType"+t._getItemType(n[s],n).slice(4),n[s],["sapUiUnifiedLegendSquareColor"],g++,d)}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};t.renderLegendItem=function(e,t,i,n,r,d){var a=i.getText();var s=i.getTooltip_AsString();e.openStart("div",i);if(s){e.attr("title",s)}e.attr("role","listitem");e.attr("aria-posinset",r);e.attr("aria-setsize",d);e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(a);e.close("div");e.close("div")};t.renderItemsHeader=function(e,t){};t.renderAdditionalContent=function(e,t){};t.defineItemsLength=function(e,t){return t};t.renderAdditionalItems=function(e,t){};t.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};t.addCalendarTypeAccInfo=function(e,i,n){var r,d;if(n){var a=n._getItemByType(i);if(a){r=a.getText()}}if(r){e["label"]=e["label"]?e["label"]+"; "+r:r}else{d=t.getTypeAriaText(i);if(d){e["describedby"]=e["describedby"]?e["describedby"]+" "+d.getId():d.getId()}}};t.typeARIATexts={};t.getTypeAriaText=function(i){var n,r;if(i.indexOf("Type")!==0){return}if(!t.typeARIATexts[i]){n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");r=n.getText("LEGEND_UNNAMED_TYPE",parseInt(i.slice(4)).toString());t.typeARIATexts[i]=new e({text:r});t.typeARIATexts[i].toStatic()}return t.typeARIATexts[i]};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarMonthInterval", ["sap/m/Popover","sap/ui/Device","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","./calendar/CalendarUtils","./calendar/CustomYearPicker","./calendar/Header","./calendar/MonthsRow","./calendar/YearPicker","./calendar/CalendarDate","./CalendarMonthIntervalRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/unified/DateRange","sap/ui/core/Configuration"],function(t,e,a,i,s,o,r,n,h,c,l,u,g,D,f,d,p,_,v){"use strict";var M=a.extend("sap.ui.unified.CalendarMonthInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:12},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:false},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},_currentPicker:{type:"string",group:"Appearance",defaultValue:"monthsRow",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},monthsRow:{type:"sap.ui.unified.calendar.MonthsRow",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{}}},renderer:D});var m={MONTHS_ROW:"monthsRow",YEAR_PICKER:"yearPicker"};M.prototype.init=function(){this._iMode=0;this.data("sap-ui-fastnavgroup","true",true);this._oYearFormat=r.getDateInstance({format:"y"});this._oMinDate=n._minDate();this._oMaxDate=n._maxDate();this._initializeHeader();this._initializeMonthsRow();this._initilizeYearPicker();this._iDaysMonthsHead=15};M.prototype.exit=function(){if(this._sInvalidateContent){clearTimeout(this._sInvalidateContent)}if(this._oPopup){this._oPopup.destroy();this._oPopup=null}if(this._oCustomYearPicker){this._oCustomYearPicker.removeDelegate(this._oFocusCYPDelegate);this._oCustomYearPicker.destroy();this._oCustomYearPicker=null}};M.prototype.onBeforeRendering=function(){var t=this.getAggregation("monthsRow");var e=this._getFocusedDate();A.call(this);t.displayDate(e.toLocalJSDate())};M.prototype._setAriaRole=function(t){var e=this.getAggregation("monthsRow");e._setAriaRole(t);e.invalidate();return this};M.prototype._initializeHeader=function(){var t=new c(this.getId()+"--Head",{visibleButton0:false,visibleButton1:false,visibleButton2:true});t.attachEvent("pressPrevious",this._handlePrevious,this);t.attachEvent("pressNext",this._handleNext,this);t.attachEvent("pressButton2",L,this);this.setAggregation("header",t)};M.prototype._initializeMonthsRow=function(){var t=new l(this.getId()+"--MonthsRow");t.attachEvent("focus",O,this);t.attachEvent("select",J,this);t._bNoThemeChange=true;this.setAggregation("monthsRow",t)};M.prototype._initilizeYearPicker=function(){var t=this._createYearPicker();this.setAggregation("yearPicker",t);t._setSelectedDatesControlOrigin(this)};M.prototype._createYearPicker=function(){var t=new u(this.getId()+"--YP",{columns:0,years:6});t.attachEvent("select",B,this);t.attachEvent("pageChange",T,this);t._oMinDate.setYear(this._oMinDate.getYear());t._oMaxDate.setYear(this._oMaxDate.getYear());return t};M.prototype._getCalendarPicker=function(){var t;if(!this._oCustomYearPicker){t=new h(this.getId()+"--Cal");t.attachEvent("select",E,this);t.attachEvent("cancel",function(t){this._oPopup.close();var e=this.getAggregation("header").getDomRef("B2");if(e){e.focus()}},this);this._oFocusCYPDelegate={onAfterRendering:function(){this.focus()}};t.addDelegate(this._oFocusCYPDelegate,t);this._oCustomYearPicker=t}return this._oCustomYearPicker};M.prototype.setStartDate=function(t){n._checkJSDateObject(t);if(d(this.getStartDate(),t)){return this}var e=t.getFullYear();n._checkYearInValidRange(e);this.setProperty("startDate",t,true);this._oStartDate=g.fromLocalJSDate(t);this._oStartDate.setDate(1);var a=this.getAggregation("monthsRow");a.setStartDate(t);A.call(this);var i=this._getFocusedDate().toLocalJSDate();if(!a.checkDateFocusable(i)){this._setFocusedDate(this._oStartDate);a.displayDate(t)}return this};M.prototype.invalidate=function(t){if(!this._bDateRangeChanged&&(!t||!(t instanceof _))){a.prototype.invalidate.apply(this,arguments)}else if(this.getDomRef()&&this._iMode==0&&!this._sInvalidateContent){this._sInvalidateContent=setTimeout(N.bind(this),0)}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var t=this.removeAllAggregation("selectedDates");return t};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var t=this.destroyAggregation("selectedDates");return t};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var t=this.removeAllAggregation("specialDates");return t};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var t=this.destroyAggregation("specialDates");return t};M.prototype.setLocale=function(t){if(this._sLocale!=t){this._sLocale=t;this._oLocaleData=undefined;this.invalidate()}return this};M.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=v.getFormatSettings().getFormatLocale().toString()}return this._sLocale};M.prototype._getFocusedDate=function(){if(!this._oFocusedDate){k.call(this)}return this._oFocusedDate};M.prototype._setFocusedDate=function(t){n._checkCalendarDate(t);this._oFocusedDate=new g(t)};M.prototype.focusDate=function(t){var e=false;var a=this.getAggregation("monthsRow");if(t&&!a.checkDateFocusable(t)){H.call(this,g.fromLocalJSDate(t));e=true}b.call(this,t,false);if(e){this.fireStartDateChange()}return this};M.prototype.displayDate=function(t){b.call(this,t,true);return this};M.prototype.setMonths=function(t){this.setProperty("months",t,true);t=this._getMonths();var e=this.getAggregation("monthsRow");e.setMonths(t);if(!e.checkDateFocusable(this._getFocusedDate().toLocalJSDate())){var a=P.call(this);this._setFocusedDate(this._oStartDate);e.setDate(a.toLocalJSDate())}if(!this.getPickerPopup()){var i=this.getAggregation("yearPicker");var s=Math.floor(t/2);if(s>20){s=20}i.setYears(s)}A.call(this);if(this.getDomRef()){if(this._getShowItemHeader()){this.$().addClass("sapUiCalIntHead")}else{this.$().removeClass("sapUiCalIntHead")}}return this};M.prototype._getMonths=function(){var t=this.getMonths();if(e.system.phone&&t>6){return 6}else{return t}};M.prototype._getLocaleData=function(){if(!this._oLocaleData){var t=this.getLocale();var e=new s(t);this._oLocaleData=o.getInstance(e)}return this._oLocaleData};M.prototype.setPickerPopup=function(t){var e;this.setProperty("pickerPopup",t,true);if(t){if(this.getAggregation("yearPicker")){this.getAggregation("yearPicker").destroy()}}else{if(!this.getAggregation("yearPicker")){this.setAggregation("yearPicker",this._createYearPicker())}e=this.getAggregation("yearPicker");e.setColumns(0);e.setYears(6)}return this};M.prototype.setMinDate=function(t){if(d(t,this.getMinDate())){return this}if(!t){this._oMinDate=n._minDate()}else{n._checkJSDateObject(t);this._oMinDate=g.fromLocalJSDate(t);this._oMinDate.setDate(1);var e=this._oMinDate.getYear();n._checkYearInValidRange(e);if(this._oMaxDate.isBefore(this._oMinDate)){p.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=g.fromLocalJSDate(t);this._oMaxDate.setDate(n._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}if(this._oFocusedDate){if(this._oFocusedDate.isBefore(this._oMinDate)){p.warning("focused date < minDate -> minDate focused",this);this.focusDate(t)}}if(this._oStartDate&&this._oStartDate.isBefore(this._oMinDate)){p.warning("start date < minDate -> minDate set as start date",this);y.call(this,new g(this._oMinDate),true,true)}}this.setProperty("minDate",t,false);if(this.getPickerPopup()){var a=this._getCalendarPicker();a.setMinDate(t)}else{var i=this.getAggregation("yearPicker");i._oMinDate.setYear(this._oMinDate.getYear())}return this};M.prototype.setMaxDate=function(t){if(d(t,this.getMaxDate())){return this}if(!t){this._oMaxDate=n._maxDate()}else{n._checkJSDateObject(t);this._oMaxDate=g.fromLocalJSDate(t);this._oMaxDate.setDate(n._daysInMonth(this._oMaxDate));var e=this._oMaxDate.getYear();n._checkYearInValidRange(e);if(this._oMinDate.isAfter(this._oMaxDate)){p.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=g.fromLocalJSDate(t);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}if(this._oFocusedDate){if(this._oFocusedDate.isAfter(this._oMaxDate)){p.warning("focused date > maxDate -> maxDate focused",this);this.focusDate(t)}}if(this._oStartDate){var a=new g(this._oStartDate);a.setDate(1);a.setMonth(a.getMonth()+this._getMonths());a.setDate(0);if(a.isAfter(this._oMaxDate)){var i=new g(this._oMaxDate);i.setDate(1);i.setMonth(i.getMonth()-this._getMonths()+1);if(i.isSameOrAfter(this._oMinDate)){p.warning("end date > maxDate -> maxDate set as end date",this);y.call(this,i,true,true)}}}}this.setProperty("maxDate",t,false);if(this.getPickerPopup()){var s=this._getCalendarPicker();s.setMaxDate(t)}else{var o=this.getAggregation("yearPicker");o._oMaxDate.setYear(this._oMaxDate.getYear())}return this};M.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(t.target.id==this.getId()+"-cancel"){this.onsapescape(t)}};M.prototype.onmousedown=function(t){t.preventDefault();t.setMark("cancelAutoClose")};M.prototype.onsapescape=function(t){if(this.getPickerPopup()){I.call(this);this.fireCancel()}else{switch(this._iMode){case 0:this.fireCancel();break;case 1:C.call(this);break}}};M.prototype._handlePrevious=function(t){var e,a,i,s;switch(this._iMode){case 0:e=this._getFocusedDate();a=this._getMonths();i=new g(P.call(this));i.setMonth(i.getMonth()-a);e.setMonth(e.getMonth()-a);this._setFocusedDate(e);y.call(this,i,true);break;case 1:if(!this.getPickerPopup()){s=this.getAggregation("yearPicker");s.previousPage();Y.call(this)}break}};M.prototype._handleNext=function(t){var e,a,i,s;switch(this._iMode){case 0:e=this._getFocusedDate();a=this._getMonths();i=new g(P.call(this));i.setMonth(i.getMonth()+a);e.setMonth(e.getMonth()+a);this._setFocusedDate(e);y.call(this,i,true);break;case 1:if(!this.getPickerPopup()){s=this.getAggregation("yearPicker");s.nextPage();Y.call(this)}break}};M.prototype._showOverlay=function(){this.$("contentOver").css("display","")};M.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")};M.prototype._getShowItemHeader=function(){var t=this.getMonths();if(t>this._iDaysMonthsHead){return true}else{return false}};function y(t,e,a){var i=new g(this._oMaxDate);i.setDate(1);i.setMonth(i.getMonth()-this._getMonths()+1);if(i.isBefore(this._oMinDate)){i=new g(this._oMinDate);i.setMonth(i.getMonth()+this._getMonths()-1)}if(t.isBefore(this._oMinDate)){t=new g(this._oMinDate)}else if(t.isAfter(i)){t=i}t.setDate(1);var s=t.toLocalJSDate();this.setProperty("startDate",s,true);this._oStartDate=t;var o=this.getAggregation("monthsRow");o.setStartDate(s);A.call(this);if(e){var r=this._getFocusedDate().toLocalJSDate();if(!o.checkDateFocusable(r)){this._setFocusedDate(t);o.setDate(s)}else{o.setDate(r)}}if(!a){this.fireStartDateChange()}}function P(){if(!this._oStartDate){this._oStartDate=this._getFocusedDate();this._oStartDate.setDate(1)}return this._oStartDate}function S(t){var e=this._getFocusedDate();var a=this.getAggregation("monthsRow");if(!t){a.setDate(e.toLocalJSDate())}else{a.displayDate(e.toLocalJSDate())}A.call(this)}function k(){var t=this.getSelectedDates();if(t&&t[0]&&t[0].getStartDate()){this._oFocusedDate=g.fromLocalJSDate(t[0].getStartDate())}else{this._oFocusedDate=new g}this._oFocusedDate.setDate(1);if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new g(this._oMinDate)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new g(this._oMaxDate)}}function w(){var t=this._getFocusedDate();var e=this.getAggregation("yearPicker");this.setProperty("_currentPicker",m.YEAR_PICKER);this._showOverlay();e.setDate(t.toLocalJSDate());Y.call(this);this._iMode=1}function C(t){this._iMode=0;this.setProperty("_currentPicker",m.MONTHS_ROW);this._hideOverlay();if(!t){S.call(this)}}function A(){F.call(this);x.call(this)}function x(){var t=new g(P.call(this));var e=this._getMonths();var a=t.getYear();var i=this._oMaxDate.getYear();var s=this._oMinDate.getYear();var o=t.getMonth();var r=this._oMaxDate.getMonth();var n=this._oMinDate.getMonth();var h=this.getAggregation("header");if(a<s||a==s&&o<=n){h.setEnabledPrevious(false)}else{h.setEnabledPrevious(true)}t.setMonth(t.getMonth()+e-1);a=t.getYear();o=t.getMonth();if(a>i||a==i&&o>=r){h.setEnabledNext(false)}else{h.setEnabledNext(true)}}function Y(){var t=this.getAggregation("yearPicker");var e=t.getYears();var a=new g(t.getProperty("_middleDate"));a.setYear(a.getYear()+Math.floor(e/2));var i=this.getAggregation("header");var s=new g(this._oMaxDate);s.setYear(s.getYear()-Math.ceil(e/2));s.setMonth(11,31);var o=new g(this._oMinDate);o.setYear(o.getYear()+Math.floor(e/2)+1);o.setMonth(0,1);i.setEnabledNext(!a.isAfter(s));i.setEnabledPrevious(!a.isBefore(o))}function F(){var t;var e=P.call(this);var a=this._oYearFormat.format(e.toUTCJSDate(),true);var i=new g(e);i.setMonth(i.getMonth()+this._getMonths()-1);var s=this._oYearFormat.format(i.toUTCJSDate(),true);if(a!=s){var o=this._getLocaleData();var r=o.getIntervalPattern();t=r.replace(/\{0\}/,a).replace(/\{1\}/,s)}else{t=a}var n=this.getAggregation("header");n.setTextButton2(t)}function R(t,e){var a;var i=false;if(t.isBefore(this._oMinDate)){a=this._oMinDate;i=true}else if(t.isAfter(this._oMaxDate)){a=this._oMaxDate;i=true}else{a=t}this._setFocusedDate(a);if(i||e){H.call(this,a);S.call(this,false);this.fireStartDateChange()}}function b(t,e){if(!t){return}var a=g.fromLocalJSDate(t);if(this._oFocusedDate&&this._oFocusedDate.isSame(a)){return}var i=a.getYear();n._checkYearInValidRange(i);if(n._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){S.call(this,e)}}function L(t){var e;if(this.getPickerPopup()){this._showCalendarPicker()}else{if(this._iMode!=1){e=function(){var t=this.getAggregation("yearPicker");t.focus();t.removeDelegate(e)};w.call(this);this.getAggregation("yearPicker").addDelegate({onAfterRendering:e},this)}else{C.call(this)}}}M.prototype._showCalendarPicker=function(){var t=this._getFocusedDate(true).toLocalJSDate();var e=this._getCalendarPicker();var a=new _({startDate:t});var i=g.fromLocalJSDate(t);e.displayDate(t,false);i.setMonth(0,1);e._getYearPicker().setProperty("_middleDate",i);e.removeAllSelectedDates();e.addSelectedDate(a);e.setMinDate(this.getMinDate());e.setMaxDate(this.getMaxDate());V.call(this,e);this._showOverlay()};function I(t){if(this._oPopup&&this._oPopup.isOpen()){this._oPopup.close()}this._hideOverlay();if(!t){S.call(this)}}function J(t){this.fireSelect()}function O(t){var e=g.fromLocalJSDate(t.getParameter("date"));var a=t.getParameter("notVisible");R.call(this,e,a)}function E(t){var e=new g(this._getFocusedDate());var a=this._getCalendarPicker();var i=a.getSelectedDates()[0].getStartDate();var s=g.fromLocalJSDate(i);s.setMonth(e.getMonth());s.setDate(e.getDate());R.call(this,s,true);I.call(this)}function B(t){var e=new g(this._getFocusedDate());var a=this.getAggregation("yearPicker");var i=g.fromLocalJSDate(a.getDate());var s={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(s)}};var o=this.getAggregation("monthsRow");i.setMonth(e.getMonth());i.setDate(e.getDate());e=i;R.call(this,e,true);C.call(this);o.addDelegate(s,o)}function N(){this._sInvalidateContent=undefined;var t=this.getAggregation("monthsRow");if(t){t._bDateRangeChanged=true;t._bInvalidateSync=true;t.invalidate();t._bInvalidateSync=undefined}this._bDateRangeChanged=undefined}function H(t){var e=this.getAggregation("monthsRow");var a=P.call(this);var i=e._oItemNavigation.getFocusedIndex();a=new g(t);a.setMonth(a.getMonth()-i);y.call(this,a,false,true)}function V(e){if(!this._oPopup){var a=new t({placement:"VerticalPreferredBottom",showHeader:false,showArrow:false,verticalScrolling:false});a.oPopup.setDurations(0,0);a.addEventDelegate({onsapescape:function(t){this._oCustomYearPicker.onsapescape(t);this._hideOverlay()}},this);this._oPopup=a}this._oPopup.addContent(e);this._oPopup.attachAfterClose(function(){this._hideOverlay()},this);this._oPopup.attachAfterOpen(function(){var t=s.$("B2");var e=this._oPopup.$();var a=Math.floor((e.width()-t.width())/2);this._oPopup.setOffsetX(i.getConfiguration().getRTL()?a:-a);var o=t.height();this._oPopup.setOffsetY(this._oPopup._getCalculatedPlacement()==="Top"?o:-o)},this);var s=this.getAggregation("header");this._oPopup.openBy(s.getDomRef("B2"))}function T(t){Y.call(this)}return M});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarMonthIntervalRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var a=t.getId();var n=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCal");e.class("sapUiCalInt");e.class("sapUiCalMonthInt");if(t._getShowItemHeader()){e.class("sapUiCalIntHead")}var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var o={labelledby:{value:"",append:false}};if(t._bPoupupMode){o["role"]="dialog"}e.accessibilityState(t,o);if(n){e.attr("title",n)}var r=t.getWidth();if(r&&r!=""){e.style("width",r)}e.openEnd();var s=t.getAggregation("header");e.renderControl(s);e.openStart("div",a+"-content");e.class("sapUiCalContent");e.openEnd();e.renderControl(t.getAggregation(t.getProperty("_currentPicker")));e.close("div");e.openStart("button",a+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(i.getText("CALENDAR_CANCEL"));e.close("button");if(t.getPickerPopup()){e.openStart("div",a+"-contentOver");e.class("sapUiCalContentOver");if(!t._oPopup||!t._oPopup.isOpen()){e.style("display","none")}e.openEnd();e.close("div")}e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarOneMonthInterval", ["sap/ui/unified/calendar/CustomMonthPicker","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/Calendar","./library","sap/ui/unified/CalendarDateInterval","sap/ui/unified/calendar/OneMonthDatesRow","sap/ui/unified/DateRange","./CalendarOneMonthIntervalRenderer"],function(t,e,a,n,i,o,r,s,h){"use strict";var g=o.extend("sap.ui.unified.CalendarOneMonthInterval",{renderer:h});g.prototype.init=function(){o.prototype.init.apply(this,arguments);this._bShowOneMonth=true};g.prototype._getCalendar=function(){var n;if(!this._oCalendar){n=new t(this.getId()+"--Cal");n.attachEvent("select",function(){var t=this._getCalendar(),n=t._getFocusedDate(),i=e._getFirstDateOfMonth(new a(n,this.getPrimaryCalendarType()));var o=this.getAggregation("month")[0];this._setStartDate(i);if(o.getMode()<2){i=this._getStartDate()}this._adjustSelectedDate(i);this._oFocusDateOneMonth=i;this._closeCalendarPicker(true);this._focusDate(n,false,true)},this);n.attachEvent("cancel",function(t){var e=this._getCalendar(),a=e._getFocusedDate();this._closeCalendarPicker(true);this._oFocusDateOneMonth=a;this._focusDate(a,true);var n=this.getAggregation("header").getDomRef("B1");if(n){n.focus()}},this);this._oCalendar=n}return this._oCalendar};g.prototype._createMonth=function(t){return new r(t)};g.prototype._handleFocus=function(t){var n=!!t.getParameter("_outsideBorder"),i=t.getParameter("date"),r=a.fromLocalJSDate(i,this.getPrimaryCalendarType()),s=a.fromLocalJSDate(this.getStartDate()),h=!e._isSameMonthAndYear(r,s),g,l,u;if(n||h){if(e._isLastDateInMonth(r)){this._oFocusDateOneMonth=r}else{this._oFocusDateOneMonth=e._getFirstDateOfMonth(r)}g=r.isBefore(s)?-1:1;l=new a(this._getFocusedDate(),this.getPrimaryCalendarType());u=new a(this._getStartDate(),this.getPrimaryCalendarType());o.prototype._shiftStartFocusDates.call(this,l,u,g)}return o.prototype._handleFocus.apply(this,arguments)};g.prototype._focusDateExtend=function(t,e,a){var n,i;if(!this._oFocusDateOneMonth){return o.prototype._focusDateExtend.apply(this,arguments)}n=this.getAggregation("month")[0];i=this._oFocusDateOneMonth.toLocalJSDate();this._setFocusedDate(this._oFocusDateOneMonth);n._bNoRangeCheck=true;n.setDate(i);n._bNoRangeCheck=false;this._oFocusDateOneMonth=null;return!a};g.prototype._setDisplayMode=function(t){this.getAggregation("month")[0].setMode(t)};g.prototype._shiftStartFocusDates=function(t,e,n){var i=n,o=this.getAggregation("month")[0],r,s;if(i!==0){i=i>0?1:-1}t.setMonth(t.getMonth()+i);e.setYear(t.getYear());e.setMonth(t.getMonth(),t.getDate());this._setFocusedDate(e);this._setStartDate(t,true);r=this.getStartDate();s=a.fromLocalJSDate(r,this.getPrimaryCalendarType());if(this.getMinDate()&&this.getMinDate().getTime()>r.getTime()){s=a.fromLocalJSDate(this.getMinDate(),this.getPrimaryCalendarType())}if(this.getMaxDate()&&this.getMaxDate().getTime()<r.getTime()){s=a.fromLocalJSDate(this.getMaxDate(),this.getPrimaryCalendarType())}o.selectDate(s.toLocalJSDate());if(o.getMode()<2){this.fireSelect()}};g.prototype._adjustSelectedDate=function(t){var e=this.getAggregation("month")[0];if(e.getMode&&e.getMode()<2){this._selectDate(t)}};g.prototype._selectDate=function(t){var e=this.getAggregation("month")[0],a=t.toLocalJSDate();this.removeAllSelectedDates();this.addSelectedDate(new s({startDate:a}));e.selectDate(a);this._bDateRangeChanged=undefined};g.prototype._dateMatchesVisibleRange=function(t){return e._isSameMonthAndYear(a.fromLocalJSDate(this.getStartDate()),a.fromLocalJSDate(t))};g.prototype._togglePrevNext=function(t,n){var i=this.getAggregation("header");var o=this._oMaxDate.getYear();var r=this._oMinDate.getYear();var s=this._oMaxDate.getMonth();var h=this._oMinDate.getMonth();var g=e._getFirstDateOfMonth(new a(t,this.getPrimaryCalendarType()));var l=new a(g),u,d;l.setMonth(l.getMonth()+1);u=g.getYear();d=g.getMonth();if(u<r||u==r&&(!n||d<=h)){i.setEnabledPrevious(false)}else{i.setEnabledPrevious(true)}u=l.getYear();d=l.getMonth();if(u>o||u==o&&(!n||d>s)){i.setEnabledNext(false)}else{i.setEnabledNext(true)}};g.prototype._setMinMaxDateExtend=function(t){return n.prototype._setMinMaxDateExtend.apply(this,arguments)};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarOneMonthIntervalRenderer", ["sap/ui/core/Renderer","./CalendarDateIntervalRenderer"],function(e,t){"use strict";var n=e.extend(t);n.apiVersion=2;n.addAttributes=function(e,n){t.addAttributes.apply(this,arguments);e.class("sapUiCalOneMonthInt")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer", [],function(){"use strict";var e={apiVersion:2};var t={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};e.render=function(e,n){var r=n.getId(),a=n.getTooltip_AsString(),i=n.getAggregation("month"),o=n.getProperty("_currentPicker"),s=n.getWidth(),l=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),c={labelledby:{value:"",append:false}};e.openStart("div",n);e.class("sapUiCal");if(i.length>1){e.class("sapUiCalMulti")}e.accessibilityState(n,c);if(a){e.attr("title",a)}if(s){e.class("sapUiCalWidth");e.style("width",s)}if(n._getSecondaryCalendarType()){e.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(e,n)}e.openEnd();var d=n.getAggregation("header");e.renderControl(d);e.openStart("div",r+"-content");e.class("sapUiCalContent");e.openEnd();if(n.getMonths()>1){switch(o){case t.MONTH_PICKER:case t.YEAR_PICKER:case t.YEAR_RANGE_PICKER:this.renderMonths(e,n,i);this.renderCalContentOverlay(e,n,r);break}}switch(o){case t.MONTH:this.renderMonths(e,n,i);break;case t.MONTH_PICKER:e.renderControl(n._getMonthPicker());break;case t.YEAR_PICKER:e.renderControl(n._getYearPicker());break;case t.YEAR_RANGE_PICKER:e.renderControl(n._getYearRangePicker());break}e.close("div");if(!n._bSkipCancelButtonRendering){e.openStart("button",r+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(l.getText("CALENDAR_CANCEL"));e.close("button")}this.renderCalContentAndArrowsOverlay(e,n,r);e.close("div")};e.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};e.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};e.renderCalContentAndArrowsOverlay=function(e,t,n){};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRow", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","./library","sap/ui/core/InvisibleText","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","./CalendarRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarAppointment","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],(function(e,t,i,n,a,s,o,r,p,l,g,u,h,d,jQuery,c,m,T,f,C){"use strict";var v=r.CalendarDayType,A=r.CalendarAppointmentVisualization,_=r.GroupAppointmentsMode,U=r.CalendarIntervalType,y=r.CalendarAppointmentHeight,D=r.CalendarAppointmentRoundWidth,S=T.InvisibleMessageMode,b=e.extend("sap.ui.unified.CalendarRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},intervals:{type:"int",group:"Appearance",defaultValue:12},intervalSize:{type:"int",group:"Appearance",defaultValue:1},intervalType:{type:"sap.ui.unified.CalendarIntervalType",group:"Appearance",defaultValue:U.Hour},showSubIntervals:{type:"boolean",group:"Appearance",defaultValue:!1},showIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:!0},showEmptyIntervalHeaders:{type:"boolean",group:"Appearance",defaultValue:!0},nonWorkingDays:{type:"int[]",group:"Misc",defaultValue:null},nonWorkingHours:{type:"int[]",group:"Misc",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},checkResize:{type:"boolean",group:"Behavior",defaultValue:!0},updateCurrentTime:{type:"boolean",group:"Behavior",defaultValue:!0},groupAppointmentsMode:{type:"sap.ui.unified.GroupAppointmentsMode",group:"Appearance",defaultValue:_.Collapsed},appointmentsReducedHeight:{type:"boolean",group:"Appearance",defaultValue:!1,deprecated:!0},appointmentsVisualization:{type:"sap.ui.unified.CalendarAppointmentVisualization",group:"Appearance",defaultValue:A.Standard},appointmentHeight:{type:"sap.ui.unified.CalendarAppointmentHeight",group:"Appearance",defaultValue:y.Regular},appointmentRoundWidth:{type:"sap.ui.unified.CalendarAppointmentRoundWidth",group:"Appearance",defaultValue:D.None},multipleAppointmentsSelection:{type:"boolean",group:"Data",defaultValue:!1}},aggregations:{appointments:{type:"sap.ui.unified.CalendarAppointment",multiple:!0,singularName:"appointment"},intervalHeaders:{type:"sap.ui.unified.CalendarAppointment",multiple:!0,singularName:"intervalHeader"},groupAppointments:{type:"sap.ui.unified.CalendarAppointment",multiple:!0,singularName:"groupAppointment",visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:!1}},events:{select:{parameters:{appointment:{type:"sap.ui.unified.CalendarAppointment"},appointments:{type:"sap.ui.unified.CalendarAppointment[]"},multiSelect:{type:"boolean"},domRefId:{type:"string"}}},startDateChange:{},leaveRow:{parameters:{type:{type:"string"}}},intervalSelect:{parameters:{startDate:{type:"object"},endDate:{type:"object"},subInterval:{type:"boolean"}}}}},renderer:h});function I(){return this._sLocale||(this._sLocale=f.getFormatSettings().getFormatLocale().toString()),this._sLocale}function M(){if(!this._oLocaleData){var e=I.call(this),t=new u(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData}function w(){var e,t=this.getStartDate(),i=this.getIntervals(),n=this.getIntervalType();switch(this._oUTCStartDate=H.call(this,t),n){case U.Hour:(e=new o(this._oUTCStartDate.getTime())).setUTCHours(e.getUTCHours()+i);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":(e=new o(this._oUTCStartDate.getTime())).setUTCDate(e.getUTCDate()+i*this.getIntervalSize());break;case U.Month:(e=new o(this._oUTCStartDate.getTime())).setUTCMonth(e.getUTCMonth()+i);break;default:throw new Error("Unknown IntervalType: "+n+"; "+this)}e.setUTCMilliseconds(-1),this._iRowSize=e.getTime()-this._oUTCStartDate.getTime(),this._iIntervalSize=Math.floor(this._iRowSize/i),this._oUTCEndDate=e}function H(e){var t=this.getIntervalType(),i=n._createUniversalUTCDate(e,void 0,!0);switch(t){case U.Hour:i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0);break;case U.Month:i.setUTCDate(1),i.setUTCHours(0),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0);break;default:throw new Error("Unknown IntervalType: "+t+"; "+this)}return i}function R(){return t.system.phone||this.getGroupAppointmentsMode()===_.Collapsed}function k(){var e,t,i,a=this._getAppointmentsSorted(),s=this.getIntervals(),r=this.getIntervalType(),p=this._getStartDate(),l=p.getTime(),g=this._oUTCEndDate,u=g.getTime(),h=[],d=!1,c=0,m=0,T=R.call(this),f=this._needAppointmentHorizontalFit();for(this.destroyAggregation("groupAppointments",!0),c=0;c<a.length;c++)if((e=a[c])&&e.getStartDate()){var v=n._createUniversalUTCDate(e.getStartDate(),void 0,!0),A=v.getTime();v.setUTCSeconds(0),v.setUTCMilliseconds(0);var _=e.getEndDate()?n._createUniversalUTCDate(e.getEndDate(),void 0,!0):n._createUniversalUTCDate(C.getInstance(864e12),void 0,!0),y=_.getTime();_.setUTCSeconds(0),_.setUTCMilliseconds(0);var D=!1;v.getTime()<l&&_.getTime()>=l&&(v=new o(l),D=!0),_.getTime()>u&&v.getTime()<=u&&(_=new o(u),D=!0);var S=(_.getTime()-v.getTime())/6e4;if(!D||0!=S){var b=0,I=0;if(t=void 0,i=void 0,v&&v.getTime()<=u&&_&&_.getTime()>=l&&A<=y){if(T&&r==U.Month&&_.getTime()-v.getTime()<6048e5){t=E.call(this,v,e,r,s,p,g,l,h);var M=n._createUniversalUTCDate(t.getEndDate(),void 0,!0);_.getTime()>M.getTime()&&(i=E.call(this,_,e,r,s,p,g,l,h))}if(f&&this._setHorizontalRoundingWidth(e,v,_),b=V.call(this,r,s,p,g,l,v),I=L.call(this,r,s,p,g,l,_),t){t._iBegin=b,t._iEnd=I,t._iLevel=-1,i&&(i._iBegin=b,i._iEnd=I,i._iLevel=-1);continue}h.push({appointment:e,begin:b,end:I,calculatedEnd:I,level:-1,size:this.getProperty("appointmentHeight")}),this._sFocusedAppointmentId&&this._sFocusedAppointmentId==e.getId()&&(d=!0)}}}var w=this.getAggregation("groupAppointments",[]);if(w.length>0)for(c=0;c<h.length;c++)if((e=h[c]).appointment._aAppointments&&e.appointment._aAppointments.length<=1){var H=!1;if(0==(t=e.appointment)._aAppointments.length)H=!0;else for(m=0;m<h.length;m++)if(h[m].appointment==t._aAppointments[0]){H=!0;break}if(H)h.splice(c,1),c--;else{for(m=0;m<w.length;m++)if(t!=(i=w[m]))for(var k=0;k<i._aAppointments.length;k++)if(t._aAppointments[0]==i._aAppointments[k]){i._aAppointments.splice(k,1),1==i._aAppointments.length?(this.removeAggregation("groupAppointments",i),i.destroy(),w=this.getAggregation("groupAppointments",[])):i.setProperty("title",i._aAppointments.length,!0);break}e.begin=t._iBegin,e.end=t._iEnd,e.calculatedEnd=t._iEnd,e.level=t._iLevel,e.appointment=t._aAppointments[0]}this.removeAggregation("groupAppointments",t),t.destroy(),w=this.getAggregation("groupAppointments",[])}return d||(h.length>0?this._sFocusedAppointmentId=h[0].appointment.getId():this._sFocusedAppointmentId=void 0),this._aVisibleAppointments=h,this._aVisibleAppointments}function E(e,t,i,a,s,r,p,l){var g,u=this.getAggregation("groupAppointments",[]),h=M.call(this).getFirstDayOfWeek(),d=e.getUTCDay(),m=new o(e.getTime());m.setUTCHours(0),m.setUTCMinutes(0),m.setUTCSeconds(0),m.setUTCMilliseconds(0),h<=d?m.setDate(m.getDate()-(d-h)):m.setDate(m.getDate()-(7-d-h));for(var T=0;T<u.length;T++){if(g=u[T],n._createUniversalUTCDate(g.getStartDate(),void 0,!0).getTime()==m.getTime())break;g=void 0}if(!g){var f=new o(m.getTime());f.setDate(f.getDate()+7),f.setMilliseconds(-1),(g=new c(this.getId()+"-Group"+u.length,{type:t.getType(),startDate:n._createLocalDate(C.getInstance(m.getTime()),!0),endDate:n._createLocalDate(C.getInstance(f.getTime()),!0)}))._aAppointments=[],this.addAggregation("groupAppointments",g,!0);var A=V.call(this,i,a,s,r,p,m),_=L.call(this,i,a,s,r,p,f);l.push({appointment:g,begin:A,end:_,calculatedEnd:_,level:-1,size:this.getProperty("appointmentHeight")})}return g._aAppointments.push(t),g.getType()!=v.None&&g.getType()!=t.getType()&&g.setType(v.None),g.setProperty("title",g._aAppointments.length,!0),g}function V(e,t,i,n,a,s){var r=0;if(e!=U.Month)r=100*(s.getTime()-a)/this._iRowSize;else{var p=new o(s.getTime());p.setUTCDate(1),p.setUTCHours(0),p.setUTCMinutes(0),p.setUTCSeconds(0),p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1),l.setMilliseconds(-1);var g=l.getTime()-p.getTime();r=100*(12*(p.getUTCFullYear()-i.getUTCFullYear())+p.getUTCMonth()-i.getUTCMonth())/t+100*(s.getTime()-p.getTime())/g/t}return r<0&&(r=0),r=Math.round(1e5*r)/1e5}function L(e,t,i,n,a,s){var r=0;if(e!=U.Month)r=100-100*(s.getTime()-a)/this._iRowSize;else{var p=new o(s.getTime());p.setUTCDate(1),p.setUTCHours(0),p.setUTCMinutes(0),p.setUTCSeconds(0),p.setUTCMilliseconds(0);var l=new o(p.getTime());l.setUTCMonth(l.getUTCMonth()+1),l.setMilliseconds(-1);var g=l.getTime()-p.getTime();r=100-(100*(12*(p.getUTCFullYear()-i.getUTCFullYear())+p.getUTCMonth()-i.getUTCMonth())/t+100*(s.getTime()-p.getTime())/g/t)}return r<0&&(r=0),r=Math.round(1e5*r)/1e5}function z(){var e=[];if(this.getShowIntervalHeaders()){var t,i=this.getIntervalHeaders(),a=this.getIntervals(),s=this.getIntervalType(),r=this._getStartDate(),p=r.getTime(),l=this._oUTCEndDate.getTime(),g=0,u=0;for(g=0;g<i.length;g++){t=i[g];var h=n._createUniversalUTCDate(t.getStartDate(),void 0,!0);h.setUTCSeconds(0),h.setUTCMilliseconds(0);var d=t.getEndDate()?n._createUniversalUTCDate(t.getEndDate(),void 0,!0):n._createUniversalUTCDate(C.getInstance(864e12),void 0,!0);if(d.setUTCSeconds(0),d.setUTCMilliseconds(0),h&&h.getTime()<=l&&d&&d.getTime()>=p){var c=new o(r.getTime()),m=new o(r.getTime());m.setUTCMinutes(m.getUTCMinutes()-1);var T=-1,f=-1;for(u=0;u<a;u++){switch(s){case U.Hour:m.setUTCHours(m.getUTCHours()+1),u>0&&c.setUTCHours(c.getUTCHours()+1);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":m.setUTCDate(m.getUTCDate()+1),u>0&&c.setUTCDate(c.getUTCDate()+1);break;case U.Month:m.setUTCDate(1),m.setUTCMonth(m.getUTCMonth()+2),m.setUTCDate(0),u>0&&c.setUTCMonth(c.getUTCMonth()+1);break;default:throw new Error("Unknown IntervalType: "+s+"; "+this)}h&&h.getTime()<=c.getTime()&&d&&d.getTime()>=m.getTime()&&(T<0&&(T=u),f=u)}T>=0&&e.push({interval:T,appointment:t,last:f})}}}return this._aVisibleIntervalHeaders=e,this._aVisibleIntervalHeaders}function F(){if(!this._isOneMonthsRowOnSmallSizes()){var e=this.$("Apps"),t=e.innerWidth();if(!(t<=0)){var i=this.$("DummyApp"),n=i.outerHeight(!0);if(!(n<=0)){var a,s,o,r=i.outerWidth()/t*100,p=Math.ceil(1e3*r)/1e3,l=0,g=0,u=0,h=!1,d=this._needAppointmentHorizontalFit();for(this.getShowIntervalHeaders()&&(this.getShowEmptyIntervalHeaders()||this._getVisibleIntervalHeaders().length>0)&&(l=jQuery(this.$("AppsInt0").children(".sapUiCalendarRowAppsIntHead")[0]).outerHeight(!0),h=!0),u=0;u<this._aVisibleAppointments.length;u++){s=(a=this._aVisibleAppointments[u]).appointment.$();var c=!1;Math.floor(1e3*(100-a.calculatedEnd-a.begin))/1e3<p?(a.end=100-a.begin-r,a.end<0&&(a.end=0),c=!0,s.addClass("sapUiCalendarAppSmall")):s.hasClass("sapUiCalendarAppSmall")&&(a.end=a.calculatedEnd,c=!0,s.removeClass("sapUiCalendarAppSmall")),c&&(a.level=-1),c&&!d&&(this._bRTL?s.css("left",a.end+"%"):s.css("right",a.end+"%")),d&&(a.end=a.calculatedEnd)}for(u=0;u<this._aVisibleAppointments.length;u++){s=(a=this._aVisibleAppointments[u]).appointment.$();var m={};if(a.level<0){for(var T=0;T<this._aVisibleAppointments.length;T++){var f=this._aVisibleAppointments[T];a!=f&&a.begin<Math.floor(1e3*(100-f.end))/1e3&&Math.floor(1e3*(100-a.end))/1e3>f.begin&&f.level>=0&&this._setBlockedLevelsForAppointment(f,m)}a.level=this._getAppointmetLevel(m,a),s.attr("data-sap-level",a.level)}o=n*a.level+l,h||(o+=4),s.css("top",o+"px");var C=a.level;g<(C+=this._getAppointmentRowCount(a)-1)&&(g=C)}if(n=n*++g+l,h||(n+=4),this.getHeight()){var v=this.$("Apps").children(".sapUiCalendarRowAppsInt");for(u=0;u<v.length;u++){jQuery(v[u]).outerHeight(n)}}else e.outerHeight(n);i.css("display","none")}}}}function P(e,t){var i,n,a,s,o=0,r=p.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED"),l=p.getStaticId("sap.ui.unified","APPOINTMENT_UNSELECTED"),g=!e.getSelected();if(t){var u=this.getAppointments(),h=this.getAggregation("groupAppointments",[]);for(jQuery.merge(u,h),o=0;o<u.length;o++)if((i=u[o]).getId()!==e.getId()&&i.getSelected()){i.setProperty("selected",!1,!0),i.$().removeClass("sapUiCalendarAppSel");for(o=0;o<this.aSelectedAppointments.length;o++)this.aSelectedAppointments[o]!==i.getId()&&this.aSelectedAppointments.splice(o);a=(n=i.$().attr("aria-labelledby"))?n.replace(r,l):"",i.$().attr("aria-labelledby",a)}}if((((s=e.$().attr("aria-describedby"))?s.replace(r,""):"").trim()+" "+r).trim(),e.getSelected()?(e.setProperty("selected",!1,!0),e.$().removeClass("sapUiCalendarAppSel"),e.$().attr("aria-labelledby",a),N(this,t)):(e.setProperty("selected",!0,!0),e.$().addClass("sapUiCalendarAppSel"),e.$().attr("aria-labelledby",undefined),N(this,t)),this._updateSelectedAppointmentsArray(e),e._aAppointments){for(o=0;o<e._aAppointments.length;o++)(i=e._aAppointments[o]).setProperty("selected",g,!0);this.fireSelect({appointments:e._aAppointments,multiSelect:!t,domRefId:e.getId()})}else this.fireSelect({appointment:e,multiSelect:!t,domRefId:e.getId()})}function O(e){var t=this._getPlanningCalendar();t&&t["_onRow"+e]()}function N(e,t){t&&O.call(e,"DeselectAppointment")}function W(e){for(var t,i=this.getAggregation("groupAppointments",[]),n=!1,a=0;a<i.length;a++){for(var s=i[a]._aAppointments,o=0;o<s.length;o++)if(s[o].getId()==e){t=i[a],n=!0;break}if(n)break}return t}function Y(e){if(this._sFocusedAppointmentId!=e){var t,i=this._getAppointmentsSorted(),a=this._aVisibleAppointments,s=0;for((t=W.call(this,e))&&(e=t.getId(),t=void 0),s=0;s<a.length;s++)if(a[s].appointment.getId()==e){t=a[s].appointment;break}if(t){var o=this.getFocusedAppointment().$(),r=t.$();this._sFocusedAppointmentId=t.getId(),o.attr("tabindex","-1"),r.attr("tabindex","0"),r.trigger("focus")}else{for(s=0;s<i.length;s++)if(i[s].getId()==e){t=i[s];break}if(t){this._sFocusedAppointmentId=t.getId();var p=H.call(this,t.getStartDate());this.setStartDate(n._createLocalDate(p,!0)),d(this.getDomRef(),document.activeElement)||setTimeout(function(){this.getFocusedAppointment().focus()}.bind(this),0),this.fireStartDateChange()}}}}function x(e,t){var i,n=this._sFocusedAppointmentId,a=this._getAppointmentsSorted(),s=this.getAggregation("groupAppointments",[]),o=0,r=0;for(r=0;r<s.length;r++)if(s[r].getId()==n){var p=s[r]._aAppointments;n=e?p[p.length-1].getId():p[0].getId();break}for(r=0;r<a.length;r++)if(a[r].getId()==n){o=r;break}e?o+=t:o-=t,o<0?o=0:o>=a.length&&(o=a.length-1),i=a[o],Y.call(this,i.getId())}function B(e){var t,i,a,s=this._getAppointmentsSorted(),r=new o(this._getStartDate()),p=new o(this._oUTCEndDate),l=this.getIntervalType();switch(r.setUTCHours(0),p.setUTCHours(0),p.setUTCMinutes(0),p.setUTCSeconds(0),l){case U.Hour:p.setUTCDate(p.getUTCDate()+1),p.setUTCMilliseconds(-1);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":r.setUTCDate(1),p.setUTCMonth(p.getUTCMonth()+1),p.setUTCDate(1),p.setUTCMilliseconds(-1);break;case U.Month:r.setUTCMonth(0),r.setUTCDate(1),p.setUTCFullYear(p.getUTCFullYear()+1),p.setUTCMonth(1),p.setUTCDate(1),p.setUTCMilliseconds(-1);break;default:throw new Error("Unknown IntervalType: "+l+"; "+this)}for(var g=n._createLocalDate(r,!0),u=n._createLocalDate(p,!0),h=0;h<s.length;h++)if(s[h].getStartDate()>=g&&s[h].getStartDate()<=u){if(i=(t=s[h]).getId(),"saphome"==e.type)break}else if(s[h].getStartDate()>u)break;(a=W.call(this,i))&&(i=(t=a).getId()),i&&i!=this._sFocusedAppointmentId?Y.call(this,i):e._bPlanningCalendar&&t?t.focus():this.fireLeaveRow({type:e.type})}function j(e,t){var i,a=this.getIntervalType(),s=this._getStartDate(),r=new o(s.getTime()),p=!1,l=0,g=0;if(jQuery(t).hasClass("sapUiCalendarRowAppsSubInt")){p=!0;var u=jQuery(jQuery(t).parent()).children(".sapUiCalendarRowAppsSubInt");for(g=u.length,l=0;l<g;l++){if(u[l]==t)break}}switch(a){case U.Hour:r.setUTCHours(r.getUTCHours()+e),p?(r.setUTCMinutes(r.getUTCMinutes()+60*l/g),(i=new o(r.getTime())).setUTCMinutes(i.getUTCMinutes()+60/g)):(i=new o(r.getTime())).setUTCHours(i.getUTCHours()+1);break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":r.setUTCDate(r.getUTCDate()+e),p?(r.setUTCHours(r.getUTCHours()+24*l/g),(i=new o(r.getTime())).setUTCHours(i.getUTCHours()+24/g)):(i=new o(r.getTime())).setUTCDate(i.getUTCDate()+1);break;case U.Month:r.setUTCMonth(r.getUTCMonth()+e),p?(r.setUTCDate(r.getUTCDate()+l),(i=new o(r.getTime())).setUTCDate(i.getUTCDate()+1)):(i=new o(r.getTime())).setUTCMonth(i.getUTCMonth()+1);break;default:throw new Error("Unknown IntervalType: "+a+"; "+this)}i.setUTCMilliseconds(i.getUTCMilliseconds()-1),r=n._createLocalDate(r,!0),i=n._createLocalDate(i,!0),this.fireIntervalSelect({startDate:r,endDate:i,subInterval:p})}function G(e,t){var i=e.getStartDate()-t.getStartDate();return 0==i&&(i=t.getEndDate()-e.getEndDate()),i}return b.prototype.init=function(){this._bRTL=f.getRTL(),this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var e=this._oRb.getText("APPOINTMENT_DATE_TIME_DESCRIPTION",[M.call(this).getDatePattern("long"),M.call(this).getTimePattern("medium")]);this._oFormatAria=l.getDateTimeInstance({pattern:"EEEE "+e}),this._aVisibleAppointments=[],this._aVisibleIntervalHeaders=[],this.setStartDate(C.getInstance()),this._resizeProxy=jQuery.proxy(this.handleResize,this),this.aSelectedAppointments=[],this._fnCustomSortedAppointments=void 0},b.prototype.exit=function(){this._sResizeListener&&(g.deregister(this._sResizeListener),this._sResizeListener=void 0),this._sUpdateCurrentTime&&(clearTimeout(this._sUpdateCurrentTime),this._sUpdateCurrentTime=void 0),this._fnCustomSortedAppointments=void 0},b.prototype.onBeforeRendering=function(){this._aVisibleAppointments=[],w.call(this),k.call(this),z.call(this),this._sUpdateCurrentTime&&(clearTimeout(this._sUpdateCurrentTime),this._sUpdateCurrentTime=void 0),this.getAppointments().length?this.getAppointments().forEach(function(e){this._updateSelectedAppointmentsArray(e)}.bind(this)):this.aSelectedAppointments=[],this._oInvisibleMessage=m.getInstance()},b.prototype.onAfterRendering=function(){F.call(this),this.updateCurrentTimeVisualization(),this.getCheckResize()&&!this._sResizeListener&&(this._sResizeListener=g.register(this,this._resizeProxy))},b.prototype.onThemeChanged=function(e){if(this.getDomRef()){for(var t=0;t<this._aVisibleAppointments.length;t++){this._aVisibleAppointments[t].level=-1}this.handleResize(e)}},b.prototype.invalidate=function(t){if(t&&t instanceof c){for(var i=!1,n=0;n<this._aVisibleAppointments.length;n++)if(this._aVisibleAppointments[n].appointment==t){i=!0;break}i&&(this._aVisibleAppointments=[]),this._updateSelectedAppointmentsArray(t)}e.prototype.invalidate.apply(this,arguments)},b.prototype.setStartDate=function(e){e||(e=C.getInstance()),n._checkJSDateObject(e);var t=e.getFullYear();return n._checkYearInValidRange(t),this._oUTCStartDate=n._createUniversalUTCDate(e,void 0,!0),this.setProperty("startDate",e),this},b.prototype._getStartDate=function(){return this._oUTCStartDate||(this._oUTCStartDate=n._createUniversalUTCDate(this.getStartDate(),void 0,!0)),this._oUTCStartDate},b.prototype.setIntervalType=function(e){return this.setProperty("intervalType",e),this._aVisibleAppointments=[],this},b.prototype._getAppointmentReducedHeight=function(e){return!t.system.phone&&this.getAppointmentsReducedHeight()&&e.size===y.Regular},b.prototype.onfocusin=function(e){if(jQuery(e.target).hasClass("sapUiCalendarApp"))Y.call(this,e.target.id);else{for(var t,i=this._getVisibleAppointments(),n=!1,a=0;a<i.length;a++)if(t=i[a].appointment,d(t.getDomRef(),e.target)){n=!0,t.focus();break}n||(t=this.getFocusedAppointment())&&t.focus()}},b.prototype.applyFocusInfo=function(e){return this._sFocusedAppointmentId&&this.getFocusedAppointment().focus(),this},b.prototype.onsapleft=function(e){jQuery(e.target).hasClass("sapUiCalendarApp")&&x.call(this,this._bRTL,1),e.preventDefault(),e.stopPropagation()},b.prototype.onsapright=function(e){jQuery(e.target).hasClass("sapUiCalendarApp")&&x.call(this,!this._bRTL,1),e.preventDefault(),e.stopPropagation()},b.prototype.onsapup=function(e){this.fireLeaveRow({type:e.type})},b.prototype.onsapdown=function(e){this.fireLeaveRow({type:e.type})},b.prototype.onsaphome=function(e){B.call(this,e),e.preventDefault(),e.stopPropagation()},b.prototype.onsapend=function(e){B.call(this,e),e.preventDefault(),e.stopPropagation()},b.prototype.onsapselect=function(e){for(var t,i,n=this._getVisibleAppointments(),a=0;a<n.length;a++)if(t=n[a].appointment,d(t.getDomRef(),e.target)){var s=!(this.getMultipleAppointmentsSelection()||e.ctrlKey||e.metaKey);P.call(this,t,s);break}(i=t.getSelected()?"APPOINTMENT_SELECTED":"APPOINTMENT_UNSELECTED")&&this._oInvisibleMessage.announce(this._oRb.getText(i),S.Polite),e.stopPropagation(),e.preventDefault()},b.prototype.ontap=function(e){var t=this.$("Apps").children(".sapUiCalendarRowAppsInt"),i=0,n=!1;for(i=0;i<t.length;i++){var a=t[i];if(!this._isOneMonthsRowOnSmallSizes()&&d(a,e.target)){n=!0;break}}n?j.call(this,i,e.target):this.onsapselect(e)},b.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)},b.prototype.handleResize=function(e){return e&&e.size&&e.size.width<=0||(this.$("DummyApp").css("display",""),F.call(this)),this},b.prototype.updateCurrentTimeVisualization=function(){var e=this.$("Now"),t=n._createUniversalUTCDate(C.getInstance(),void 0,!0),i=this.getIntervals(),a=this.getIntervalType(),s=this._getStartDate(),o=s.getTime(),r=this._oUTCEndDate,p=r.getTime();if(this._sUpdateCurrentTime=void 0,t.getTime()<=p&&t.getTime()>=o){var l=V.call(this,a,i,s,r,o,t),g=0;if(this._bRTL?e.css("right",l+"%"):e.css("left",l+"%"),e.css("display",""),this.getUpdateCurrentTime()){switch(a){case U.Hour:g=6e4;break;case U.Day:case U.Week:case U.OneMonth:case"OneMonth":g=18e5;break;default:g=-1}g>0&&(this._sUpdateCurrentTime=setTimeout(this.updateCurrentTimeVisualization.bind(this),g))}}else e.css("display","none");return this},b.prototype.getFocusedAppointment=function(){var e,t=this._getAppointmentsSorted(),i=this.getAggregation("groupAppointments",[]),n=0;for(n=0;n<i.length;n++)if(i[n].getId()==this._sFocusedAppointmentId){e=i[n];break}if(!e)for(n=0;n<t.length;n++)if(t[n].getId()==this._sFocusedAppointmentId){e=t[n];break}return e},b.prototype.focusAppointment=function(e){if(!(e&&e instanceof c))throw new Error("Appointment must be a CalendarAppointment; "+this);var t=e.getId();return this._sFocusedAppointmentId!=t?Y.call(this,t):e.focus(),this},b.prototype.focusNearestAppointment=function(e){n._checkJSDateObject(e);for(var t,i,a,s=this._getAppointmentsSorted(),o=0;o<s.length;o++)if((t=s[o]).getStartDate()>e){i=o>0?s[o-1]:t;break}return t&&(a=i&&Math.abs(t.getStartDate()-e)>=Math.abs(i.getStartDate()-e)?i:t,this.focusAppointment(a)),this},b.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments},b.prototype._getVisibleIntervalHeaders=function(){return this._aVisibleIntervalHeaders},b.prototype._getNonWorkingDays=function(){if(1!==this.getIntervalSize())return[];var e=this.getNonWorkingDays();if(e)Array.isArray(e)||(e=[]);else{var t=M.call(this),i=t.getWeekendStart(),n=t.getWeekendEnd();e=[];for(var a=0;a<=6;a++)(i<=n&&a>=i&&a<=n||i>n&&(a>=i||a<=n))&&e.push(a)}return e},b.prototype._isOneMonthsRowOnSmallSizes=function(){return(this.getIntervalType()===U.OneMonth||"OneMonth"===this.getIntervalType())&&1===this.getIntervals()},b.prototype._getAppointmentsSorted=function(){var e=this.getAppointments(),t=G;return e.sort(this._fnCustomSortedAppointments?this._fnCustomSortedAppointments:t),e},b.prototype._setCustomAppointmentsSorterCallback=function(e){this._fnCustomSortedAppointments=e,this.invalidate()},b.prototype._calculateAppoitnmentVisualCue=function(e){if(function(e,t){var i,n=e.getAggregation("groupAppointments",[]);for(i=0;i<n.length;++i)if(t===n[i])return!0;return!1}(this,e))return{appTimeUnitsDifRowStart:0,appTimeUnitsDifRowEnd:0};var t,i=e.getStartDate(),n=e.getEndDate(),a=new o(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes()),s=new o(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()),r=this.getIntervalType(),p=this.getStartDate(),l="Hour"===r?new o(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()):new o(p.getFullYear(),p.getMonth(),p.getDate()),g=this.getIntervals();switch(r){case"Hour":t=new o(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()+g);break;case"Day":case"Week":case"One Month":t=new o(p.getFullYear(),p.getMonth(),p.getDate()+g);break;case"Month":t=new o(p.getFullYear(),p.getMonth()+g,p.getDate())}return{appTimeUnitsDifRowStart:l.getTime()-a.getTime(),appTimeUnitsDifRowEnd:s.getTime()-t.getTime()}},b.prototype._updateSelectedAppointmentsArray=function(e){e.getSelected()?-1===this.aSelectedAppointments.indexOf(e.getId())&&this.aSelectedAppointments.push(e.getId()):this.aSelectedAppointments=this.aSelectedAppointments.filter((function(t){return t!==e.getId()}))},b.prototype._needAppointmentHorizontalFit=function(){var e,t,i=this._getPlanningCalendar();return!(!i||this.getAppointmentRoundWidth()===D.None)&&(e=i.getViewKey(),t=i._getView(e),i._getIntervals(t)>=20)},b.prototype._setHorizontalRoundingWidth=function(e,t,i){var n;if(this.getAppointmentRoundWidth()===D.HalfColumn)n=12;this._roundAppointment(e,t,i,n)},b.prototype._roundAppointment=function(e,t,i,n){var a,s;a=e.getStartDate().getHours()-e.getStartDate().getHours()%n,t.setUTCHours(a),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),s=e.getEndDate().getHours()-e.getEndDate().getHours()%n+n,i.setUTCHours(s),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0)},b.prototype._setBlockedLevelsForAppointment=function(e,t){for(var i=this._getAppointmentRowCount(e),n=0;n<i;n++)t[e.level+n]=!0;return t},b.prototype._getAppointmentRowCount=function(e){var t,i=this._getAppointmentReducedHeight(e);switch(e.size){case y.HalfSize:t=1;break;case y.Regular:t=2,!i||e.appointment.getText()||e.appointment.getDescription()||(t=1);break;case y.Large:t=3;break;case y.Automatic:t=1,e.appointment.getText()&&(t+=1),e.appointment.getDescription()&&(t+=1)}return t},b.prototype._getAppointmetLevel=function(e,t){for(var i=0,n=this._getAppointmentRowCount(t),a=!0;a;)(a=this._isPosibleToPositionAppointment(i,e,n))?a=!1:(a=!0,i+=1);return i},b.prototype._isPosibleToPositionAppointment=function(e,t,i){for(var n=e;n<i+e;n++)if(t[n])return!1;return!0},b.prototype._getPlanningCalendar=function(){for(var e=this;null!==e.getParent();){if(e.isA("sap.m.PlanningCalendar"))return e;e=e.getParent()}},b}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRowRenderer", ["sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarAppointment","sap/ui/unified/CalendarLegendRenderer","sap/ui/Device","sap/ui/unified/library","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/base/Log","sap/ui/core/IconPool"],function(e,t,a,n,r,i,s,l){"use strict";var o=r.CalendarDayType;var p=r.CalendarIntervalType;var d=r.CalendarAppointmentVisualization;var g=r.CalendarAppointmentHeight;var c={apiVersion:2};c.render=function(e,t){var a=t.getTooltip_AsString();var r=t.getAppointmentsVisualization();var i=this.getLegendItems(t);e.openStart("div",t);e.class("sapUiCalendarRow");if(!n.system.phone&&t.getAppointmentsReducedHeight()){e.class("sapUiCalendarRowAppsRedHeight")}if(r!=d.Standard){e.class("sapUiCalendarRowVis"+r)}if(a){e.attr("title",a)}var s=t.getWidth();if(s){e.style("width",s)}var l=t.getHeight();if(l){e.style("height",l)}e.accessibilityState(t,{role:"row"});e.openEnd();this.renderAppointmentsRow(e,t,i);e.close("div")};c.renderAppointmentsRow=function(e,t,a){var n=t.getId();e.openStart("div",n+"-Apps");e.class("sapUiCalendarRowApps");e.attr("role","list");e.openEnd();this.renderBeforeAppointments(e,t);this.renderAppointments(e,t,a);this.renderAfterAppointments(e,t);e.close("div")};c.renderBeforeAppointments=function(e,t){};c.renderAfterAppointments=function(e,t){};c.renderResizeHandle=function(e,t,a){};c.renderAppointments=function(t,a,n){var r=a._getVisibleAppointments();var i=a._getVisibleIntervalHeaders();var s=a._getStartDate();var l=[];var o=0;var d=0;var g=[];var c=0;var v=0;var f=a.getIntervals();var u=a.getIntervalType();var A=100/f;var C=0;var T=new e(s);var I=false;var h=false;switch(u){case p.Hour:l=a.getNonWorkingHours()||[];o=s.getUTCHours();d=24;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":l=a._getNonWorkingDays();o=s.getUTCDay();d=7;g=a.getNonWorkingHours()||[];c=s.getUTCHours();v=24;break;case p.Month:g=a._getNonWorkingDays();c=s.getUTCDay();v=7;break;default:break}if(a._isOneMonthsRowOnSmallSizes()){this.renderSingleDayInterval(t,a,r,n,i,l,o,d,g,c,v,true,true)}else{for(C=0;C<f;C++){if(h){I=true}else{I=false}h=false;switch(u){case p.Hour:T.setUTCHours(T.getUTCHours()+1);if(T.getUTCHours()==0){h=true}break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":T.setUTCDate(T.getUTCDate()+1);if(T.getUTCDate()==1){h=true}break;case p.Month:c=T.getUTCDay();T.setUTCMonth(T.getUTCMonth()+1);if(T.getUTCMonth()==0){h=true}break;default:break}this.renderInterval(t,a,C,A,i,l,o,d,g,c,v,I,h)}this.renderIntervalHeaders(t,a,A,i,f);if(!(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative)){t.openStart("div",a.getId()+"-Now");t.class("sapUiCalendarRowNow");t.openEnd();t.close("div")}for(C=0;C<r.length;C++){var m=r[C];this.renderAppointment(t,a,m,n)}t.openStart("div",a.getId()+"-DummyApp");t.class("sapUiCalendarApp");t.class("sapUiCalendarAppTitleOnly");t.class("sapUiCalendarAppDummy");t.class("sapUiCalendarAppHeight1");t.openEnd();t.close("div")}};c.writeCustomAttributes=function(e,t){};c.renderInterval=function(t,a,n,r,i,l,o,d,g,c,v,f,u,A){var C=a.getId()+"-AppsInt"+n;var T;var I=a.getShowIntervalHeaders()&&(a.getShowEmptyIntervalHeaders()||i.length>0);var h=a.getStartDate().getMonth();var m=s.getInstance(a.getStartDate().getFullYear(),h+1,0).getDate();t.openStart("div",C);t.class("sapUiCalendarRowAppsInt");if(A){t.class(A)}t.style("width",r+"%");if(n>=m&&(a.getIntervalType()===p.OneMonth||a.getIntervalType()==="OneMonth")){t.class("sapUiCalItemOtherMonth")}for(T=0;T<l.length;T++){if((n+o)%d==l[T]){t.class("sapUiCalendarRowAppsNoWork");break}}if(!I){t.class("sapUiCalendarRowAppsIntNoHead")}if(f){t.class("sapUiCalendarRowAppsIntFirst")}if(u){t.class("sapUiCalendarRowAppsIntLast")}this.writeCustomAttributes(t,a);t.openEnd();if(I){t.openStart("div");t.class("sapUiCalendarRowAppsIntHead");t.openEnd();t.close("div")}if(a.getShowSubIntervals()){var U=a.getIntervalType();var b=0;switch(U){case p.Hour:b=4;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":b=24;break;case p.Month:var S=a._getStartDate();var R=new e(S);R.setUTCMonth(R.getUTCMonth()+n+1,0);b=R.getUTCDate();R.setUTCDate(1);o=R.getUTCDay();break;default:break}var y=100/b;for(T=0;T<b;T++){t.openStart("div");t.class("sapUiCalendarRowAppsSubInt");t.style("width",y+"%");for(var w=0;w<g.length;w++){if((T+c)%v==g[w]){t.class("sapUiCalendarRowAppsNoWork");break}}t.openEnd();t.close("div")}}t.close("div")};c.renderIntervalHeaders=function(e,t,a,n,r){var i=t.getShowIntervalHeaders()&&(t.getShowEmptyIntervalHeaders()||n.length>0);if(i){for(var s=0;s<n.length;s++){var l=n[s],o,p;if(t._bRTL){p=a*l.interval;o=a*(r-l.last-1)}else{o=a*l.interval;p=a*(r-l.last-1)}this.renderIntervalHeader(e,t,l,t._bRTL,o,p)}}};c.renderIntervalHeader=function(e,t,a,n,r,i){var s=a.appointment.getId(),l={labelledby:{value:s+"-Descr",append:true}},p;var d=t._calculateAppoitnmentVisualCue(a.appointment);e.openStart("div",a.appointment);e.class("sapUiCalendarRowAppsIntHead");if(r!==undefined){e.style("left",r+"%")}if(i!==undefined){e.style("right",i+"%")}e.class("sapUiCalendarRowAppsIntHeadFirst");if(a.appointment.getSelected()){e.class("sapUiCalendarRowAppsIntHeadSel")}if(a.appointment.getTentative()){e.class("sapUiCalendarRowAppsIntHeadTent")}var g=a.appointment.getTooltip_AsString();if(g){e.attr("title",g)}var c=a.appointment.getType();var v=a.appointment.getColor();if(!v&&c&&c!=o.None){e.class("sapUiCalendarRowAppsIntHead"+c)}if(v){if(n){e.style("border-right-color",v)}else{e.style("border-left-color",v)}}e.accessibilityState(a.appointment,l);e.openEnd();e.openStart("div");e.class("sapUiCalendarIntervalHeaderCont");if(v){e.style("background-color",a.appointment._getCSSColorForBackground(v))}e.openEnd();if(d.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}var f=a.appointment.getIcon();if(f){var u=["sapUiCalendarRowAppsIntHeadIcon"];var A={};A["id"]=s+"-Icon";A["title"]=null;A["alt"]=null;A["role"]="presentation";e.icon(f,u,A)}var C=a.appointment.getTitle();if(C){e.openStart("span",s+"-Title");e.class("sapUiCalendarRowAppsIntHeadTitle");e.openEnd();e.text(C);e.close("span")}var T=a.appointment.getText();if(T){e.openStart("span",s+"-Text");e.class("sapUiCalendarRowAppsIntHeadText");e.openEnd();e.text(T);e.close("span")}if(d.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}p=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(a.appointment.getStartDate())+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(a.appointment.getEndDate());if(c&&c!==o.None){p+="; "+this.getAriaTextForType(c,this.getLegendItems(t))}e.openStart("span",s+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(p);e.close("span");e.close("div");e.close("div")};c.renderAppointment=function(e,t,a,n,r){var s=a.appointment;var l=s.getTooltip_AsString();var p=s.getType();var c=s.getColor();var v=s.getTitle();var f=s.getText();var u=s.getDescription();var A=s.getIcon();var C=s.getId();var T=t._getAppointmentReducedHeight(a);var I={role:"listitem",labelledby:{value:i.getStaticId("sap.ui.unified","APPOINTMENT")+" "+C+"-Descr",append:true},selected:null};var h=t._getAppointmentRowCount(a,T);var m=t.getAriaLabelledBy();var U=t._calculateAppoitnmentVisualCue(s);if(m.length>0){I["labelledby"].value=I["labelledby"].value+" "+m.join(" ")}if(v){I["labelledby"].value=I["labelledby"].value+" "+C+"-Title"}if(f){I["labelledby"].value=I["labelledby"].value+" "+C+"-Text"}e.openStart("div",s);e.class("sapUiCalendarApp");e.class("sapUiCalendarAppHeight"+h);if(s.getSelected()){e.class("sapUiCalendarAppSel");I["labelledby"].value=i.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED")+" "+I["labelledby"].value}else{I["labelledby"].value=i.getStaticId("sap.ui.unified","APPOINTMENT_UNSELECTED")+" "+I["labelledby"].value}if(s.getTentative()){e.class("sapUiCalendarAppTent");I["labelledby"].value=I["labelledby"].value+" "+i.getStaticId("sap.ui.unified","APPOINTMENT_TENTATIVE")}if(h===1){e.class("sapUiCalendarAppTitleOnly")}if(A){e.class("sapUiCalendarAppWithIcon")}if(!r){if(t._bRTL){e.style("right",a.begin+"%");e.style("left",a.end+"%")}else{e.style("left",a.begin+"%");e.style("right",a.end+"%")}}e.attr("data-sap-level",a.level);if(t._sFocusedAppointmentId==C){e.attr("tabindex","0")}else{e.attr("tabindex","-1")}if(l){e.attr("title",l)}if(!c&&p&&p!=o.None){e.class("sapUiCalendarApp"+p)}if(c){if(t._bRTL){e.style("border-right-color",c)}else{e.style("border-left-color",c)}}e.accessibilityState(s,I);e.openEnd();e.openStart("div");e.class("sapUiCalendarAppCont");if(c&&t.getAppointmentsVisualization()===d.Filled){e.style("background-color",s._getCSSColorForBackground(c))}e.openEnd();if(s.getCustomContent().length){s.getCustomContent().forEach(function(t){e.renderControl(t)})}else{if(U.appTimeUnitsDifRowStart>0){e.icon("sap-icon://arrow-left",["sapUiCalendarAppArrowIconLeft"],{title:null,role:"img"})}if(A){var b=["sapUiCalendarAppIcon"];var S={};S["id"]=C+"-Icon";S["title"]=null;S["alt"]=null;S["role"]="presentation";e.icon(A,b,S)}e.openStart("div");e.class("sapUiCalendarAppTitleWrapper");e.openEnd();if(v){e.openStart("span",C+"-Title");e.class("sapUiCalendarAppTitle");e.openEnd();e.text(v);e.close("span")}if(f&&a.size!==g.HalfSize){e.openStart("span",C+"-Text");e.class("sapUiCalendarAppText");e.openEnd();e.text(f);e.close("span")}if(u&&a.size!==g.HalfSize&&(a.size!==g.Regular||!f)){e.openStart("span",C+"-Info");e.class("sapUiCalendarAppDescription");e.openEnd();e.text(u);e.close("span")}e.close("div");if(U.appTimeUnitsDifRowEnd>0){e.icon("sap-icon://arrow-right",["sapUiCalendarAppArrowIconRight"],{title:null,role:"img"})}}var R=t._oRb.getText("CALENDAR_START_TIME")+": "+t._oFormatAria.format(s.getStartDate());R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+t._oFormatAria.format(s.getEndDate());if(t._getRelativeInfo&&t._getRelativeInfo().bIsRelative){var y=t._getRelativeInfo();R=t._oRb.getText("CALENDAR_START_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s.getStartDate()));R=R+"; "+t._oRb.getText("CALENDAR_END_TIME")+": "+y.intervalLabelFormatter(y._getIndexFromDate(s.getEndDate()))}if(p&&p!=o.None){R=R+"; "+this.getAriaTextForType(p,n)}e.openStart("span",C+"-Descr");e.class("sapUiInvisibleText");e.openEnd();e.text(R);e.close("span");e.close("div");this.renderResizeHandle(e,t,s);e.close("div")};c.renderSingleDayInterval=function(a,n,r,i,l,o,d,g,c,v,f,u,A){var C=1,T=100,I=n.getId()+"-AppsInt"+C,h,m=n.getShowIntervalHeaders()&&(n.getShowEmptyIntervalHeaders()||l.length>0),U=s.getInstance(n.getStartDate()),b=U.getMonth(),S=s.getInstance(U.getFullYear(),b+1,0).getDate(),R,y=n._getPlanningCalendar(),w,E,D=[];U.setHours(0,0,0,0);w=r.concat(n.getIntervalHeaders().filter(function(e){var t=e.getStartDate().getTime(),a=e.getEndDate().getTime(),n=U.getTime(),r=n+1e3*60*60*24;return!(t>=r||a<=n)}).map(function(e){return{appointment:e,isHeader:true}})).sort(t._getComparer(U));if(y){D=y._getSelectedDates()}a.openStart("div",I);a.class("sapUiCalendarRowAppsInt");a.class("sapUiCalendarMonthRowAppsS");a.style("width",T+"%");if(C>=S&&(n.getIntervalType()===p.OneMonth||n.getIntervalType()==="OneMonth")){a.class("sapUiCalItemOtherMonth")}for(h=0;h<o.length;h++){if((C+d)%g==o[h]){a.class("sapUiCalendarRowAppsNoWork");break}}if(!m){a.class("sapUiCalendarRowAppsIntNoHead")}if(u){a.class("sapUiCalendarRowAppsIntFirst")}if(A){a.class("sapUiCalendarRowAppsIntLast")}a.openEnd();if(m){a.openStart("div");a.class("sapUiCalendarRowAppsIntHead");a.openEnd();a.close("div")}if(D.length>0){var _=0,H=w.length;if(y.getRows()[0]._calculateVisibleAppointments){var N=y.getRows()[0]._calculateVisibleAppointments(D,w);_=N.iStart;H=N.iEnd}for(h=_;h<H;h++){E=w[h];a.openStart("div");a.class("sapUiCalendarAppContainer");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppContainerLeft");a.openEnd();a.openStart("div");a.class("sapUiCalendarAppStart");a.openEnd();a.text(E.appointment._getDateRangeIntersectionText(U).start);a.close("div");a.openStart("div");a.class("sapUiCalendarAppEnd");a.openEnd();a.text(E.appointment._getDateRangeIntersectionText(U).end);a.close("div");a.close("div");a.openStart("div");a.class("sapUiCalendarAppContainerRight");a.openEnd();if(E.isHeader){this.renderIntervalHeader(a,n,E)}else{this.renderAppointment(a,n,E,i,true)}a.close("div");a.close("div")}}if(r.length===0||D.length===0){a.openStart("div");a.class("sapUiCalendarNoApps");a.openEnd();var x=sap.ui.getCore().byId(n.getAssociation("row"));R=x.getNoAppointmentsText()?x.getNoAppointmentsText():sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("PLANNINGCALENDAR_ROW_NO_APPOINTMENTS");a.text(R);a.close("div")}if(!(n._getRelativeInfo&&n._getRelativeInfo().bIsRelative)){a.openStart("div",n.getId()+"-Now");a.class("sapUiCalendarRowNow");a.openEnd()}a.close("div");a.openStart("div",n.getId()+"-DummyApp");a.class("sapUiCalendarApp");a.class("sapUiCalendarAppTitleOnly");a.class("sapUiCalendarAppDummy");a.style("margin","0");a.style("height","0px");a.openEnd();a.close("div");if(n.getShowSubIntervals()){var M=n.getIntervalType();var k=0;switch(M){case p.Hour:k=4;break;case p.Day:case p.Week:case p.OneMonth:case"OneMonth":k=24;break;case p.Month:var L=new e(U);L.setUTCMonth(L.getUTCMonth()+C+1,0);k=L.getUTCDate();L.setUTCDate(1);d=L.getUTCDay();break;default:break}var O=100/k;for(h=0;h<k;h++){a.openStart("div");a.class("sapUiCalendarRowAppsSubInt");a.style("width",O+"%");for(var F=0;F<c.length;F++){if((h+v)%f==c[F]){a.class("sapUiCalendarRowAppsNoWork");break}}a.openEnd();a.close("div")}}a.close("div")};c.getLegendItems=function(e){var t=[],a,n=e.getLegend();if(n){a=sap.ui.getCore().byId(n);if(a){t=a.getItems()}else{l.error("CalendarLegend with id '"+n+"' does not exist!",e)}}return t};c.getAriaTextForType=function(e,t){var n,r,i,s;if(t&&t.length){for(var s=0;s<t.length;s++){i=t[s];if(i.getType()===e){n=i.getText();break}}}if(!n){r=a.getTypeAriaText(e);if(r){n=r.getText()}}return n};return c},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarTimeInterval", ["sap/m/Popover","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","./calendar/Header","./calendar/TimesRow","./calendar/DatesRow","./calendar/MonthPicker","./calendar/YearPicker","sap/ui/core/date/UniversalDate","./library","sap/ui/core/format/DateFormat","sap/ui/Device","sap/ui/core/Locale","./CalendarTimeIntervalRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/unified/DateRange","sap/ui/core/date/UI5Date","sap/ui/unified/Calendar"],(function(e,t,a,i,s,o,r,n,h,g,c,l,u,D,_,d,p,T,C,M,m,v){"use strict";var U=a.extend("sap.ui.unified.CalendarTimeInterval",{metadata:{library:"sap.ui.unified",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},startDate:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:!1},singleSelection:{type:"boolean",group:"Behavior",defaultValue:!0},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},pickerPopup:{type:"boolean",group:"Appearance",defaultValue:!1},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},_currentPicker:{type:"string",group:"Appearance",defaultValue:"timesRow",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:!0,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:!0,singularName:"specialDate"},header:{type:"sap.ui.unified.calendar.Header",multiple:!1,visibility:"hidden"},timesRow:{type:"sap.ui.unified.calendar.TimesRow",multiple:!1,visibility:"hidden"},datesRow:{type:"sap.ui.unified.calendar.Month",multiple:!1,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:!1,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:!1,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:!1}},events:{select:{},cancel:{},startDateChange:{}}},renderer:d}),f={TIMES_ROW:"timesRow",DATES_ROW:"datesRow",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker"};function P(e,t,a){var i=new c(this._oMaxDate.getTime());i.setUTCMinutes(i.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1)),i.getTime()<this._oMinDate.getTime()&&(i=new c(this._oMinDate.getTime())).setUTCMinutes(i.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1)),e.getTime()<this._oMinDate.getTime()?e=new c(this._oMinDate.getTime()):e.getTime()>i.getTime()&&(e=i);var o=this.getAggregation("timesRow"),r=s._createLocalDate(e,!0);if(o.setStartDate(r),this._oUTCStartDate=new c(o._getStartDate().getTime()),r=s._createLocalDate(this._oUTCStartDate,!0),this.setProperty("startDate",r),x.call(this),t){var n=s._createLocalDate(this._getFocusedDate(),!0);o.checkDateFocusable(n)?o.setDate(n):(this._setFocusedDate(e),o.setDate(r))}a||this.fireStartDateChange()}function y(){if(!this._oUTCStartDate){var e=this.getAggregation("timesRow");e.setStartDate(s._createLocalDate(this._getFocusedDate(),!0)),this._oUTCStartDate=new c(e._getStartDate().getTime()),this._setFocusedDate(this._oUTCStartDate)}return this._oUTCStartDate}function w(e){var t=this._getFocusedDate(),a=this.getAggregation("timesRow");e?a.displayDate(s._createLocalDate(t,!0)):a.setDate(s._createLocalDate(t,!0)),x.call(this)}function S(){var e=this.getSelectedDates();if(e&&e[0]&&e[0].getStartDate())this._oFocusedDate=s._createUniversalUTCDate(e[0].getStartDate(),void 0,!0);else{var t=m.getInstance();this._oFocusedDate=s._createUniversalUTCDate(t,void 0,!0)}this._oFocusedDate.getTime()<this._oMinDate.getTime()?this._oFocusedDate=new c(this._oMinDate.getTime()):this._oFocusedDate.getTime()>this._oMaxDate.getTime()&&(this._oFocusedDate=new c(this._oMaxDate.getTime()))}function k(e){this._oPopup&&this._oPopup.isOpen()&&this._oPopup.close(),this._hideOverlay(),e||w.call(this),this._getCalendar()._closePickers()}function F(){var e=this._getFocusedDate(),t=this._getItems(),a=this.getAggregation("datesRow");a.getSelectedDates()[0].setStartDate(s._createLocalDate(e,!0));var i=new c(e.getTime());i.setUTCDate(1),i.setUTCMonth(i.getUTCMonth()+1),i.setUTCDate(0);var o=i.getUTCDate(),r=Math.floor(1.5*t);r>o&&(r=o),a.setDays(r),this.setProperty("_currentPicker",f.DATES_ROW),this._showOverlay(),X.call(this,e),this._iMode=1}function R(){var e=this._getFocusedDate(),t=this._getMonthPicker();this.setProperty("_currentPicker",f.MONTH_PICKER),this._showOverlay(),t.setMonth(e.getUTCMonth()),Q.call(this,e.getUTCFullYear(),t),this._iMode=2,A.call(this)}function b(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",f.YEAR_PICKER),this._showOverlay(),t.setDate(e.getJSDate()),I.call(this),this._iMode=3}function x(){Y.call(this),A.call(this)}function A(e){var t=new c(y.call(this).getTime()),a=this._getItems(),i=t.getJSDate().getUTCFullYear(),s=this._oMaxDate.getJSDate().getUTCFullYear(),o=this._oMinDate.getJSDate().getUTCFullYear(),r=t.getJSDate().getUTCMonth(),n=this._oMaxDate.getJSDate().getUTCMonth(),h=this._oMinDate.getJSDate().getUTCMonth(),g=t.getJSDate().getUTCDate(),l=this._oMaxDate.getJSDate().getUTCDate(),u=this._oMinDate.getJSDate().getUTCDate(),D=t.getJSDate().getUTCHours(),_=this._oMaxDate.getJSDate().getUTCHours(),d=this._oMinDate.getJSDate().getUTCHours(),p=t.getJSDate().getUTCMinutes(),T=this._oMaxDate.getJSDate().getUTCMinutes(),C=this._oMinDate.getJSDate().getUTCMinutes(),M=this.getAggregation("header");if(2==this._iMode&&!e){var m=this._getMonthPicker(),v=m.getMonths(),U=m.getStartMonth(),f=U+v-1;return 0==U||i==o&&U<=h?M.setEnabledPrevious(!1):M.setEnabledPrevious(!0),void(f>10||i==s&&f>=n?M.setEnabledNext(!1):M.setEnabledNext(!0))}if(i<o||i==o&&(e||r<h||r==h&&(g<u||g==u&&(D<d||D==d&&p<=C)))||(1==this._iMode||2==this._iMode)&&this.getPickerPopup()?M.setEnabledPrevious(!1):M.setEnabledPrevious(!0),t.setUTCMinutes(t.getUTCMinutes()+a*this.getIntervalMinutes()-1),i=t.getJSDate().getUTCFullYear(),r=t.getJSDate().getUTCMonth(),g=t.getJSDate().getUTCDate(),D=t.getJSDate().getUTCHours(),p=t.getJSDate().getUTCMinutes(),i>s||i==s&&(!e||r>n||r==n&&(g>l||g==l&&(D>_||D==_&&p>=T)))||(1==this._iMode||2==this._iMode)&&this.getPickerPopup()?M.setEnabledNext(!1):M.setEnabledNext(!0),1===this._iMode){var P=new c(t.getTime());P.setUTCDate(1),P.setUTCMonth(P.getUTCMonth()+1),P.setUTCDate(0);var w=this.getAggregation("datesRow").getDays();t.setUTCDate(1+(Math.ceil(t.getUTCDate()/w)-1)*w),P.getUTCDate()-t.getUTCDate()<w&&t.setUTCDate(P.getUTCDate()-w+1),(g=t.getUTCDate())<=1||i==o&&r==h&&g<=u?M.setEnabledPrevious(!1):M.setEnabledPrevious(!0),g+w>=P.getUTCDate()||i==s&&r==n&&g>=l?M.setEnabledNext(!1):M.setEnabledNext(!0)}}function I(){var e=this._getYearPicker(),t=e.getYears(),a=s._createUniversalUTCDate(e.getProperty("_middleDate").toLocalJSDate());a.setUTCFullYear(a.getUTCFullYear()+Math.floor(t/2));var i=this.getAggregation("header"),o=new c(this._oMaxDate);o.setUTCFullYear(o.getUTCFullYear()-Math.ceil(t/2)),o.setUTCMonth(11,31);var r=new c(this._oMinDate);r.setUTCFullYear(r.getUTCFullYear()+Math.floor(t/2)+1),r.setUTCMonth(0,1),a.getTime()>o.getTime()?i.setEnabledNext(!1):i.setEnabledNext(!0),a.getTime()<r.getTime()?i.setEnabledPrevious(!1):i.setEnabledPrevious(!0)}function Y(){var e,t,a,i=this.getAggregation("header"),o=y.call(this),r=this._getLocaleData(),n=[],h=[],g=!1;a="ja"===r.oLocale.sLanguage.toLowerCase()||"zh"===r.oLocale.sLanguage.toLowerCase()?u.getDateInstance({format:"d"}).format(o,!0):o.getUTCDate().toString(),this._bLongMonth||!this._bNamesLengthChecked?n=r.getMonthsStandAlone("wide"):(g=!0,n=r.getMonthsStandAlone("abbreviated"),h=r.getMonthsStandAlone("wide"));var c=o.getUTCMonth();e=n[c],g&&(t=h[n[c]]),this.getPickerPopup()?(t=a=u.getInstance({style:"long",strictParsing:!0,relative:!1},r.oLocale).format(s._createLocalDate(o,!0)),i.setTextButton1(a)):(i.setTextButton0(a),i.setTextButton1(e),i.setTextButton2(this._oYearFormat.format(o,!0))),g&&i.setAriaLabelButton1(t)}function E(e,t){var a,i=!1;e.getTime()<this._oMinDate.getTime()?(a=this._oMinDate,i=!0):e.getTime()>this._oMaxDate.getTime()?(a=this._oMaxDate,i=!0):a=e,this._setFocusedDate(a),(i||t)&&(q.call(this,a),w.call(this,!1),this.fireStartDateChange())}function L(e,t){if(e&&(!this._oFocusedDate||this._oFocusedDate.getTime()!=e.getTime())){s._checkJSDateObject(e);var a=(e=s._createUniversalUTCDate(e,void 0,!0)).getUTCFullYear();if(s._checkYearInValidRange(a),e.getTime()<this._oMinDate.getTime()||e.getTime()>this._oMaxDate.getTime())throw new Error("Date must not be in valid range (minDate and maxDate); "+this);this._setFocusedDate(e),this.getDomRef()&&0==this._iMode&&w.call(this,t)}}function O(e){1!=this._iMode?F.call(this):this.setProperty("_currentPicker",f.TIMES_ROW)}function J(e){var t;this.getPickerPopup()?this._showCalendarPicker():2!=this._iMode?(t=function(){var e=this._getMonthPicker();e._oItemNavigation.focusItem(e.getProperty("_focusedMonth")),e.removeDelegate(t)},R.call(this),this._getMonthPicker().addDelegate({onAfterRendering:t},this)):this.setProperty("_currentPicker",f.TIMES_ROW)}function B(e){var t;3!=this._iMode?(t=function(){var e=this._getYearPicker();e.focus(),e.removeDelegate(t)},b.call(this),this._getYearPicker().addDelegate({onAfterRendering:t},this)):this.setProperty("_currentPicker",f.TIMES_ROW)}function N(e){this.fireSelect()}function V(e){var t=s._createUniversalUTCDate(e.getParameter("date"),void 0,!0),a=e.getParameter("notVisible");E.call(this,t,a)}function H(e){var t=e.getSource().getSelectedDates()[0].getStartDate(),a=new c(this._getFocusedDate().getTime()),i=s._createUniversalUTCDate(t);a.setUTCFullYear(i.getUTCFullYear()),a.setUTCMonth(i.getUTCMonth(),i.getUTCDate()),E.call(this,a,!0),k.call(this)}function z(e){var t=new c(this._getFocusedDate().getTime()),a=e.oSource.getSelectedDates()[0],i=s._createUniversalUTCDate(a.getStartDate());this.getPickerPopup()&&i.getUTCMonth()!=t.getUTCMonth()||(t.setUTCDate(i.getUTCDate()),t.setUTCMonth(i.getUTCMonth()),t.setUTCFullYear(i.getUTCFullYear()),E.call(this,t,!0),this.setProperty("_currentPicker",f.TIMES_ROW)),this._addTimesRowFocusDelegate()}function W(e){var t=new c(this._getFocusedDate().getTime()),a=s._createUniversalUTCDate(e.getParameter("date"),void 0,!0);e.getParameter("otherMonth")&&a.getUTCMonth()==t.getUTCMonth()&&a.getUTCFullYear()==t.getUTCFullYear()&&X.call(this,a)}function j(e){var t=new c(this._getFocusedDate().getTime()),a=this._getMonthPicker().getMonth();t.setUTCMonth(a),a!=t.getUTCMonth()&&t.setUTCDate(0),E.call(this,t,!0),this.setProperty("_currentPicker",f.TIMES_ROW),this._addTimesRowFocusDelegate()}function K(e){var t=new c(this._getFocusedDate().getTime()),a=this._getYearPicker(),i=s._createUniversalUTCDate(a.getDate()),o=t.getUTCMonth();i.setUTCMonth(t.getUTCMonth(),t.getUTCDate()),i.setUTCHours(t.getUTCHours()),i.setUTCMinutes(t.getUTCMinutes()),o!=(t=i).getUTCMonth()&&t.setUTCDate(0),E.call(this,t,!0),this.setProperty("_currentPicker",f.TIMES_ROW),this._addTimesRowFocusDelegate()}function q(e){var t=this.getAggregation("timesRow"),a=y.call(this),i=t._oItemNavigation.getFocusedIndex();(a=new c(e.getTime())).setUTCMinutes(a.getUTCMinutes()-i*this.getIntervalMinutes()),P.call(this,a,!1,!0)}function X(e){var t=this.getAggregation("datesRow"),a=this.getAggregation("header");if(this.getPickerPopup())a.setEnabledPrevious(!1),a.setEnabledNext(!1);else{var i=new c(e.getTime());i.setUTCDate(1),i.setUTCMonth(i.getUTCMonth()+1),i.setUTCDate(0);var o=t.getDays(),r=new c(e.getTime());r.setUTCDate(1+(Math.ceil(e.getUTCDate()/o)-1)*o),i.getUTCDate()-r.getUTCDate()<o&&r.setUTCDate(i.getUTCDate()-o+1),t.setStartDate(s._createLocalDate(r,!0));var n=r.getJSDate().getUTCFullYear(),h=this._oMaxDate.getJSDate().getUTCFullYear(),g=this._oMinDate.getJSDate().getUTCFullYear(),l=r.getJSDate().getUTCMonth(),u=this._oMaxDate.getJSDate().getUTCMonth(),D=this._oMinDate.getJSDate().getUTCMonth(),_=r.getJSDate().getUTCDate(),d=this._oMaxDate.getJSDate().getUTCDate(),p=this._oMinDate.getJSDate().getUTCDate();_<=1||n==g&&l==D&&_<=p?a.setEnabledPrevious(!1):a.setEnabledPrevious(!0),_+o>=i.getUTCDate()||n==h&&l==u&&_>=d?a.setEnabledNext(!1):a.setEnabledNext(!0),this._oFocusDatesRowDelegate||(this._oFocusDatesRowDelegate={onAfterRendering:function(){this.focus()}},t.addDelegate(this._oFocusDatesRowDelegate,t))}t.setDate(s._createLocalDate(e,!0))}function G(a){if(!this._oPopup){var i=new e({placement:"VerticalPreferredBottom",showHeader:!1,showArrow:!1,verticalScrolling:!1});i.oPopup.setDurations(0,0),i.addEventDelegate({onsapescape:this._oCalendar.onsapescape},this._oCalendar),this._oPopup=i}this._oPopup.addContent(a),this._oPopup.attachAfterClose((function(){this._hideOverlay(),this._addTimesRowFocusDelegate()}),this),this._oPopup.attachAfterOpen((function(){var e=s.$("B1"),a=this._oPopup.$(),i=Math.floor((a.width()-e.width())/2);this._oPopup.setOffsetX(t.getConfiguration().getRTL()?i:-i);var o=e.height();this._oPopup.setOffsetY("Top"===this._oPopup._getCalculatedPlacement()?o:-o)}),this);var s=this.getAggregation("header");this._oPopup.openBy(s.getDomRef("B1"))}function Q(e,t){var a=0,i=11;e==this._oMinDate.getUTCFullYear()&&(a=this._oMinDate.getUTCMonth()),e==this._oMaxDate.getUTCFullYear()&&(i=this._oMaxDate.getUTCMonth()),t.setMinMax(a,i)}function Z(e){A.call(this)}function ee(e){I.call(this)}return U.prototype.init=function(){this._iMode=0,this._oYearFormat=u.getDateInstance({format:"y"}),this.data("sap-ui-fastnavgroup","true",!0),this._oMinDate=new c(m.getInstance(Date.UTC(1,0,1))),this._oMinDate.getJSDate().setUTCFullYear(1),this._oMaxDate=new c(m.getInstance(Date.UTC(9999,11,31,23,59,59))),this._initializeHeader(),this._initializeTimesRow(),this._initializeMonthPicker(),this._initializeYearPicker(),this.setPickerPopup(!1),this._iItemsHead=15},U.prototype._initializeHeader=function(){var e=new o(this.getId()+"--Head"),a=t.getLibraryResourceBundle("sap.m");e.attachEvent("pressPrevious",this._handlePrevious,this),e.attachEvent("pressNext",this._handleNext,this),this.setAggregation("header",e),e&&(e.setAriaLabelButton0(a.getText("DATETIMEPICKER_DATE")),e.setAriaLabelButton1(a.getText("MOBISCROLL_MONTH")),e.setAriaLabelButton2(a.getText("MOBISCROLL_YEAR")))},U.prototype._initializeTimesRow=function(){var e=new r(this.getId()+"--TimesRow");e.attachEvent("focus",V,this),e.attachEvent("select",N,this),e._bNoThemeChange=!0,this.setAggregation("timesRow",e)},U.prototype._initializeMonthPicker=function(){var e=this._createMonthPicker();this.setAggregation("monthPicker",e),e._setSelectedDatesControlOrigin(this)},U.prototype._initializeYearPicker=function(){var e=this._createYearPicker();this.setAggregation("yearPicker",e),e._setSelectedDatesControlOrigin(this)},U.prototype._createDatesRow=function(){var e=new n(this.getId()+"--DatesRow",{days:18,selectedDates:[new M(this.getId()+"--Range")]});return e.attachEvent("focus",W,this),e.attachEvent("select",z,this),e._bNoThemeChange=!0,e.getIntervalSelection=function(){return this.getProperty("intervalSelection")},e.getSingleSelection=function(){return this.getProperty("singleSelection")},e.getSelectedDates=function(){return this.getAggregation("selectedDates",[])},e.getSpecialDates=function(){return this.getAggregation("specialDates",[])},e.getAriaLabelledBy=function(){return this.getAssociation("ariaLabelledBy",[])},e},U.prototype._createMonthPicker=function(){var e=new h(this.getId()+"--MP",{columns:0,months:6});return e.attachEvent("select",j,this),e._bNoThemeChange=!0,e.attachEvent("pageChange",Z,this),e},U.prototype._createYearPicker=function(){var e=new g(this.getId()+"--YP",{columns:0,years:6});return e.attachEvent("select",K,this),e.attachEvent("pageChange",ee,this),e._oMinDate.setYear(this._oMinDate.getUTCFullYear()),e._oMaxDate.setYear(this._oMaxDate.getUTCFullYear()),e},U.prototype.exit=function(){this._oPopup&&(this._oPopup.destroy(),this._oPopup=null),this._oCalendar&&(this._oCalendar.removeDelegate(this._oFocusCalendarDelegate),this._oCalendar.destroy(),this._oCalendar=null),this._sInvalidateContent&&clearTimeout(this._sInvalidateContent)},U.prototype.onBeforeRendering=function(){var e=this.getAggregation("timesRow"),t=this._getFocusedDate();x.call(this),e.displayDate(s._createLocalDate(t,!0))},U.prototype._setAriaRole=function(e){var t=this.getAggregation("timesRow");return t._setAriaRole(e),t.invalidate(),this},U.prototype._getCalendar=function(){var e;return this._oCalendar||((e=new v(this.getId()+"--Cal",{})).attachEvent("select",H,this),e.attachEvent("cancel",(function(e){this._oPopup.close();var t=this.getAggregation("header").getDomRef("B1");t&&t.focus()}),this),this._oFocusCalendarDelegate={onAfterRendering:function(){this.focus()}},e.addDelegate(this._oFocusCalendarDelegate,e),this._oCalendar=e),this._oCalendar},U.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")},U.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")},U.prototype.setStartDate=function(e){if(s._checkJSDateObject(e),T(this.getStartDate(),e))return this;var t=e.getFullYear();s._checkYearInValidRange(t);var a=this.getMinDate();a&&e.getTime()<a.getTime()&&(C.warning("startDate < minDate -> minDate as startDate set",this),e=m.getInstance(a));var i=this.getMaxDate();i&&e.getTime()>i.getTime()&&(C.warning("startDate > maxDate -> maxDate as startDate set",this),e=m.getInstance(i)),this.setProperty("startDate",e);var o=this.getAggregation("timesRow");o.setStartDate(e),this._oUTCStartDate=new c(o._getStartDate().getTime()),x.call(this);var r=s._createLocalDate(this._getFocusedDate(),!0);return o.checkDateFocusable(r)||(this._setFocusedDate(this._oUTCStartDate),o.displayDate(e)),this},U.prototype.removeAllSelectedDates=function(){return this._bDateRangeChanged=!0,this.removeAllAggregation("selectedDates")},U.prototype.destroySelectedDates=function(){return this._bDateRangeChanged=!0,this.destroyAggregation("selectedDates")},U.prototype.removeAllSpecialDates=function(){return this._bDateRangeChanged=!0,this.removeAllAggregation("specialDates")},U.prototype.destroySpecialDates=function(){return this._bDateRangeChanged=!0,this.destroyAggregation("specialDates")},U.prototype.setIntervalMinutes=function(e){if(e>=720)throw new Error("Only intervals < 720 minutes are allowed; "+this);if(1440%e>0)throw new Error("A day must be divisible by the interval size; "+this);this.setProperty("intervalMinutes",e);var t=this.getAggregation("timesRow"),a=s._createLocalDate(this._getFocusedDate(),!0);if(!t.checkDateFocusable(a)){var i=y.call(this);this._setFocusedDate(i),t.setDate(s._createLocalDate(i,!0))}return this},U.prototype.setLocale=function(e){return this._sLocale!=e&&(this._sLocale=e,this._oLocaleData=void 0,this.invalidate()),this},U.prototype.getLocale=function(){return this._sLocale||(this._sLocale=t.getConfiguration().getFormatSettings().getFormatLocale().toString()),this._sLocale},U.prototype._getFocusedDate=function(){return this._oFocusedDate||S.call(this),this._oFocusedDate},U.prototype._setFocusedDate=function(e){if(!(e instanceof c))throw new Error("Date must be a UniversalDate object "+this);this._oFocusedDate=new c(e.getTime())},U.prototype.focusDate=function(e){var t=!1;if(!this.getAggregation("timesRow").checkDateFocusable(e)){var a=s._createUniversalUTCDate(e,void 0,!0);q.call(this,a),t=!0}return L.call(this,e,!1),t&&this.fireStartDateChange(),this},U.prototype.displayDate=function(e){return L.call(this,e,!0),this},U.prototype.setItems=function(e){e=Math.max(1,e),this.setProperty("items",e),e=this._getItems();var t=this.getAggregation("timesRow");t.setItems(e);var a=s._createLocalDate(this._getFocusedDate(),!0);if(!t.checkDateFocusable(a)){var i=y.call(this);this._setFocusedDate(i),t.setDate(s._createLocalDate(i,!0))}if(!this.getPickerPopup()){var o=this.getAggregation("datesRow"),r=Math.floor(1.5*e);r>31&&(r=31),o.setDays(r);var n=this._getMonthPicker(),h=Math.floor(e/2);h>12&&(h=12),n.setMonths(h);var g=this._getYearPicker(),c=Math.floor(e/2);c>20&&(c=20),g.setYears(c)}return x.call(this),this},U.prototype._getItems=function(){var e=this.getItems();return D.system.phone&&e>6?6:e},U.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale(),t=new _(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData},U.prototype.setPickerPopup=function(e){var t,a,i=this.getAggregation("header");return this.setProperty("pickerPopup",e),e?(i.setVisibleButton0(!1),i.setVisibleButton1(!0),i.setVisibleButton2(!1),i.detachEvent("pressButton1",J,this),i.attachEvent("pressButton1",J,this),this.getAggregation("datesRow")&&this.getAggregation("datesRow").destroy(),this._getMonthPicker()&&this._getMonthPicker().destroy(),this._getYearPicker()&&this._getYearPicker().destroy()):(i.setVisibleButton0(!0),i.setVisibleButton1(!0),i.setVisibleButton2(!0),i.detachEvent("pressButton0",O,this),i.attachEvent("pressButton0",O,this),i.detachEvent("pressButton1",J,this),i.attachEvent("pressButton1",J,this),i.detachEvent("pressButton2",B,this),i.attachEvent("pressButton2",B,this),this.getAggregation("datesRow")||this.setAggregation("datesRow",this._createDatesRow()),this._getYearPicker()||this.setAggregation("yearPicker",this._createYearPicker()),this._getMonthPicker()||this.setAggregation("monthPicker",this._createMonthPicker()),t=this._getMonthPicker(),a=this._getYearPicker(),t.setColumns(0),t.setMonths(6),a.setColumns(0),a.setYears(6)),this},U.prototype.setMinDate=function(e){var t,a;return T(e,this.getMinDate())||(e?(s._checkJSDateObject(e),this._oMinDate=s._createUniversalUTCDate(e,void 0,!0),t=this.getAggregation("timesRow"),this._oMinDate=t._getIntervalStart(this._oMinDate),a=this._oMinDate.getUTCFullYear(),s._checkYearInValidRange(a),this._oMaxDate.getTime()<this._oMinDate.getTime()&&(C.warning("minDate > maxDate -> maxDate set to end of the month",this),this._oMaxDate=s._createUniversalUTCDate(e,void 0,!0),s._updateUTCDate(this._oMaxDate,null,this._oMaxDate.getUTCMonth()+1,0,23,59,59,0),this.setProperty("maxDate",s._createLocalDate(this._oMaxDate,!0))),this._oFocusedDate&&this._oFocusedDate.getTime()<this._oMinDate.getTime()&&(C.warning("focused date < minDate -> minDate focused",this),this.focusDate(e)),this._oUTCStartDate&&this._oUTCStartDate.getTime()<this._oMinDate.getTime()&&(C.warning("start date < minDate -> minDate set as start date",this),P.call(this,new c(this._oMinDate.getTime()),!0,!0))):s._updateUTCDate(this._oMinDate.getJSDate(),1,0,1,0,0,0,0),this.setProperty("minDate",e),this.getPickerPopup()?this._getCalendar().setMinDate(e):this._getYearPicker()._oMinDate.setYear(this._oMinDate.getUTCFullYear())),this},U.prototype.setMaxDate=function(e){var t,a,i,o;return T(e,this.getMaxDate())||(e?(s._checkJSDateObject(e),this._oMaxDate=s._createUniversalUTCDate(e,void 0,!0),t=this.getAggregation("timesRow"),this._oMaxDate=t._getIntervalStart(this._oMaxDate),this._oMaxDate.setUTCMinutes(this._oMaxDate.getUTCMinutes()+this.getIntervalMinutes()),this._oMaxDate.setUTCMilliseconds(-1),a=this._oMaxDate.getUTCFullYear(),s._checkYearInValidRange(a),this._oMinDate.getTime()>this._oMaxDate.getTime()&&(C.warning("maxDate < minDate -> minDate set to begin of the month",this),this._oMinDate=s._createUniversalUTCDate(e,void 0,!0),s._updateUTCDate(this._oMinDate,null,null,1,0,0,0,0),this.setProperty("minDate",s._createLocalDate(this._oMinDate,!0))),this._oFocusedDate&&this._oFocusedDate.getTime()>this._oMaxDate.getTime()&&(C.warning("focused date > maxDate -> maxDate focused",this),this.focusDate(e)),this._oUTCStartDate&&((i=new c(this._oUTCStartDate.getTime())).setUTCMinutes(i.getUTCMinutes()+this.getIntervalMinutes()*(this._getItems()-1)),i.getTime()>this._oMaxDate.getTime()&&((o=new c(this._oMaxDate.getTime())).setUTCMinutes(o.getUTCMinutes()-this.getIntervalMinutes()*(this._getItems()-1)),o.getTime()>=this._oMinDate.getTime()&&(C.warning("end date > maxDate -> maxDate set as end date",this),P.call(this,o,!0,!0))))):s._updateUTCDate(this._oMaxDate.getJSDate(),9999,11,31,23,59,59,0),this.setProperty("maxDate",e),this.getPickerPopup()?this._getCalendar().setMaxDate(e):this._getYearPicker()._oMaxDate.setYear(this._oMaxDate.getUTCFullYear())),this},U.prototype.onclick=function(e){e.isMarked("delayedMouseEvent")||e.target.id==this.getId()+"-cancel"&&this.onsapescape(e)},U.prototype.onmousedown=function(e){e.preventDefault(),e.setMark("cancelAutoClose")},U.prototype.onsapescape=function(e){if(this.getPickerPopup())k.call(this),this.fireCancel();else switch(this._iMode){case 0:this.fireCancel();break;case 1:case 2:case 3:this.setProperty("_currentPicker",f.TIMES_ROW)}},U.prototype.setProperty=function(){var e=arguments[0],t=arguments[1];if(a.prototype.setProperty.apply(this,arguments),"_currentPicker"===e)switch(t){case"timesRow":this._iMode=0;break;case"datesRow":this._iMode=1;break;case"monthPicker":this._iMode=2;break;case"yearPicker":this._iMode=3;break;default:return}return this},U.prototype._handlePrevious=function(e){var t,a,i,o,r,n,h,g=this._getFocusedDate();switch(this._iMode){case 0:t=this._getItems(),a=new c(y.call(this).getTime()),i=this.getIntervalMinutes(),a.setUTCMinutes(a.getUTCMinutes()-t*i),g.setUTCMinutes(g.getUTCMinutes()-t*i),this._setFocusedDate(g),P.call(this,a,!0);break;case 1:this.getPickerPopup()||(o=this.getAggregation("datesRow"),r=s._createUniversalUTCDate(o.getDate()),n=o.getDays(),r.getUTCDate()<=n?r.setUTCDate(1):r.setUTCDate(r.getUTCDate()-n),X.call(this,r));break;case 2:this.getPickerPopup()||((h=this._getMonthPicker()).getMonths()<12?(h.previousPage(),A.call(this)):(g.setUTCFullYear(g.getUTCFullYear()-1),q.call(this,g),this._setFocusedDate(g),x.call(this),Q.call(this,g.getUTCFullYear(),h),this.fireStartDateChange()));break;case 3:this.getPickerPopup()||(this._getYearPicker().previousPage(),I.call(this))}},U.prototype._handleNext=function(e){var t=this._getFocusedDate();switch(this._iMode){case 0:var a=this._getItems(),i=new c(y.call(this).getTime()),o=this.getIntervalMinutes();i.setUTCMinutes(i.getUTCMinutes()+a*o),t.setUTCMinutes(t.getUTCMinutes()+a*o),this._setFocusedDate(t),P.call(this,i,!0);break;case 1:if(!this.getPickerPopup()){var r=this.getAggregation("datesRow"),n=s._createUniversalUTCDate(r.getDate()),h=new c(n.getTime());h.setUTCDate(1),h.setUTCMonth(h.getUTCMonth()+1),h.setUTCDate(0);var g=r.getDays();n.getUTCDate()+g>h.getUTCDate()?n.setUTCDate(h.getUTCDate()):n.setUTCDate(n.getUTCDate()+g),X.call(this,n)}break;case 2:if(!this.getPickerPopup()){var l=this._getMonthPicker();l.getMonths()<12?(l.nextPage(),A.call(this)):(t.setUTCFullYear(t.getUTCFullYear()+1),q.call(this,t),this._setFocusedDate(t),x.call(this),Q.call(this,t.getUTCFullYear(),l),this.fireStartDateChange())}break;case 3:if(!this.getPickerPopup())this._getYearPicker().nextPage(),I.call(this)}},U.prototype._getShowItemHeader=function(){return this.getItems()>this._iItemsHead},U.prototype._showCalendarPicker=function(){var e=s._createLocalDate(this._getFocusedDate(),!0),t=this._getCalendar(),a=new M({startDate:e});t.displayDate(e,!1),t.removeAllSelectedDates(),t.addSelectedDate(a),t.setMinDate(this.getMinDate()),t.setMaxDate(this.getMaxDate()),G.call(this,t),this._showOverlay()},U.prototype._showOverlay=function(){this.$("contentOver").css("display","")},U.prototype._hideOverlay=function(){this.$("contentOver").css("display","none")},U.prototype._addTimesRowFocusDelegate=function(){var e={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex()),this.removeDelegate(e)}},t=this.getAggregation("timesRow");t.addDelegate(e,t)},U}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarTimeIntervalRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var a=t.getId();var i=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCal");e.class("sapUiCalInt");e.class("sapUiCalTimeInt");if(t._getShowItemHeader()){e.class("sapUiCalIntHead")}if(t.getPickerPopup()){e.class("sapUiCalIntLarge")}var n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var r={labelledby:{value:"",append:false}};if(t._bPoupupMode){r["role"]="dialog"}e.accessibilityState(t,r);if(i){e.attr("title",i)}var o=t.getWidth();if(o&&o!=""){e.style("width",o)}e.openEnd();var s=t.getAggregation("header");e.renderControl(s);e.openStart("div",a+"-content");e.class("sapUiCalContent");e.openEnd();e.renderControl(t.getAggregation(t.getProperty("_currentPicker")));e.close("div");e.openStart("button",a+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(n.getText("CALENDAR_CANCEL"));e.close("button");if(t.getPickerPopup()){e.openStart("div",a+"-contentOver");e.class("sapUiCalContentOver");if(!t._oPopup||!t._oPopup.isOpen()){e.style("display","none")}e.openEnd();e.close("div")}e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarWeekInterval", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","./library","sap/ui/unified/CalendarDateInterval","sap/ui/unified/CalendarDateIntervalRenderer","sap/ui/unified/DateRange"],function(e,t,a,i,s,r){"use strict";var o=i.extend("sap.ui.unified.CalendarWeekInterval",{renderer:s});o.prototype._getDaysLarge=function(){return 6};o.prototype._handleFocus=function(a){var s=!!a.getParameter("_outsideBorder"),r,o,n;if(s){r=a.getParameter("date");this._oFocusDateWeek=t.fromLocalJSDate(r);o=e._getFirstDateOfWeek(this._oFocusDateWeek);n=this.getAggregation("month")[0];if(n.getDomRef()){this._setStartDate(o,false,true)}}return i.prototype._handleFocus.apply(this,arguments)};o.prototype._focusDateExtend=function(e,t,a){var s,r;if(!this._oFocusDateWeek){return i.prototype._focusDateExtend.apply(this,arguments)}s=this.getAggregation("month")[0];r=this._oFocusDateWeek.toLocalJSDate();this._setFocusedDate(this._oFocusDateWeek);s.setDate(r);this._oFocusDateWeek=null;return!a};o.prototype._dateMatchesVisibleRange=function(e){var a=this.getDays(),i=t.fromLocalJSDate(e),s=t.fromLocalJSDate(this.getStartDate()),r=t.fromLocalJSDate(this.getStartDate());r.setDate(r.getDate()+a);return i.isSameOrAfter(s)&&i.isBefore(r)};o.prototype._showCalendarPicker=function(){var e=this._getFocusedDate(),a=this._getStartDate(),i=this._getCalendar(),s=new r,o;o=new t(a);o.setDate(o.getDate()+this._getDays()-1);s.setStartDate(a.toLocalJSDate());s.setEndDate(o.toLocalJSDate());i.displayDate(e.toLocalJSDate(),false);i.removeAllSelectedDates();i.addSelectedDate(s);i.setMinDate(this.getMinDate());i.setMaxDate(this.getMaxDate());this._openPickerPopup(i)};o.prototype._handleCalendarPickerDateSelect=function(a){var i=this._getCalendar(),s=i.getSelectedDates()[0].getStartDate(),r=t.fromLocalJSDate(s),o;if(this._dateMatchesVisibleRange(r.toLocalJSDate())){this._oFocusDateWeek=r;this._focusDate(this._oFocusDateWeek,false,true)}else{o=e._getFirstDateOfWeek(r);this._setStartDate(o);this._oFocusDateWeek=r;this._focusDate(this._oFocusDateWeek,false,true)}this._closeCalendarPicker(true)};o.prototype._calculateStartDate=function(e,a,i){var e=new t(this._oMaxDate,this.getPrimaryCalendarType());e=this._getMaxDateAlignedToMinDate(e,this._oMinDate);i=this._getStartDateAlignedToMinAndMaxDate(e,this._oMinDate,i);return i};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPicker", ["./library","sap/ui/core/Control","sap/ui/core/HTML","sap/ui/core/ResizeHandler","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/layout/VerticalLayout","sap/ui/layout/HorizontalLayout","sap/ui/core/theming/Parameters","sap/ui/core/InvisibleText","sap/ui/Device","sap/ui/core/library","./ColorPickerRenderer","./ColorPickerHelper","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/Global"],function(e,t,i,s,o,a,l,r,h,n,d,u,p,C,c,jQuery,g){"use strict";var f=u.ValueState,S=e.ColorPickerMode,b=e.ColorPickerDisplayMode;var _=t.extend("sap.ui.unified.ColorPicker",{metadata:{library:"sap.ui.unified",properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:S.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:b.Default}},aggregations:{_grid:{type:"sap.ui.layout.Grid",group:"Appearance",multiple:false,visibility:"hidden"},_invisibleTexts:{type:"sap.ui.core.InvisibleText",multiple:true,visibility:"hidden"},_oCPBox:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaSlider:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHexField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRedField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oGreenField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oBlueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oHueField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oSatField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oLitField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oValField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oAlphaField2:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oRGBorHSLRBUnifiedGroup:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"},_oButton:{type:"sap.ui.core.Control",group:"Appearance",multiple:false,visibility:"hidden"}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:p});var y="",R=sap.ui.require.toUrl("sap/ui/unified/img/ColorPicker/Alphaslider_BG.png"),H=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),F={};Object.defineProperties(F,{RGB:{value:"RGB"},CPResponsiveClass:{value:"sapUnifiedColorPicker"},CPMatrixClass:{value:"sapUiColorPicker-ColorPickerMatrix"},HSLClass:{value:"sapUiColorPickerHSL"},LabelClass:{value:"sapUiColorPicker-ColorPickerLabels"},UnitLabelClass:{value:"sapUiCPUnitLabel"},HEXClass:{value:"sapUiColorPicker-ColorPickerHexField"},LeftColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsLeft"},RightColumnInputClass:{value:"sapUiColorPicker-ColorPickerInputFieldsRight"},SliderClass:{value:"sapUiColorPicker-ColorPickerSlider"},AlphaSliderClass:{value:"sapUiColorPicker-ColorPickerAlphaSlider"},OutputSelectorClass:{value:"sapUiColorPickerHSL-RB"},OutputSelectorRowClass:{value:"sapUiColorPicker-RBRow"},CPBoxClass:{value:"sapUiColorPicker-ColorPickerBox"},CPCircleClass:{value:"sapUiColorPicker-ColorPickerCircle"},LastColumnClass:{value:"sapUiColorPicker-ColorPickerLastColumn"},HideForHSVClass:{value:"hideForHSV"},HideForHSLClass:{value:"hideForHSL"},OldColorClass:{value:"sapUiColorPicker-ColorPickerOldColor"},NewColorClass:{value:"sapUiColorPicker-ColorPickerNewColor"},SwatchesClass:{value:"sapUiColorPicker-swatches"},Colors:{value:{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32",transparent:"00000000"}}});_.prototype.init=function(){this.oColorPickerHelper=C.getHelper();if(d.browser.firefox){y="-moz-linear-gradient"}else if(d.browser.webkit){y="-webkit-linear-gradient"}else{y="linear-gradient"}this.Color={r:255,g:255,b:255,h:0,s:0,l:100,v:100,a:1,oldA:1,hex:"#ffffff",old:"#ffffff"};this.sHexString="ffffff";this.$CPBox=null;this.$CPCur=null;this.RGB={r:0,g:0,b:0};this.bRtl=g.getRTL();this.data("sap-ui-fastnavgroup","true",true);this.bResponsive=this.oColorPickerHelper.isResponsive();var e=this.bResponsive?"_sap_ui_unified_ColorPicker_CircleSize":"_sap_ui_unified_ColorPicker_commonsCircleSize";this._iCPCursorSize=0;var t=h.get({name:e,callback:function(e){this._iCPCursorSize=parseInt(e)}.bind(this)});if(t){this._iCPCursorSize=parseInt(t)}this._processChanges=this._processHSVChanges;this._bHSLMode=false;this.bPressed=false};var L=t.extend("sap.ui.unified._ColorPickerBox",{metadata:{events:{select:{parameters:{value:{type:"int"},saturation:{type:"int"}}},resize:{parameters:{size:{type:"int"}}}}},init:function(){this.bRtl=g.getRTL()},exit:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},getWidth:function(){return this.$().width()},getOffset:function(){return this.$().offset()},onBeforeRendering:function(){if(this._sResizeListener){s.deregister(this._sResizeListener)}},onAfterRendering:function(){this._handle=this.$().find("> div."+F.CPCircleClass);this._sResizeListener=s.register(this.getDomRef(),this.handleResize.bind(this))},handleResize:function(e){this.fireResize({size:e.size.width})},getHandle:function(){return this._handle},ontouchstart:function(e){this.handleTouch(e)},ontouchend:function(e){this.handleTouch(e)},ontouchmove:function(e){this.handleTouch(e)},handleTouch:function(e){var t=this.calculateValuesFromEvent(e);if(t){this.fireSelect(t)}},calculateValuesFromEvent:function(e){var t=e.offsetX,i=e.offsetY,s,o=s=this.getWidth(),a,l;e.preventDefault&&e.preventDefault();if(!t){a=e.targetTouches?e.targetTouches[0]:e;if(!a||!a.pageX){a=e;if((!a||!a.pageX)&&e.changedTouches){a=e.changedTouches[0]}}if(!a.pageX){return false}l=this.getOffset();t=a.pageX-l.left;i=a.pageY-l.top}t=Math.min(Math.max(t,0),o);i=Math.min(Math.max(i,0),s);if(this.bRtl){t=o-t}return{value:t/o*100,saturation:(1-i/s)*100}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.class(F.CPBoxClass);e.openEnd();e.openStart("div",t.getId()+"-cpCur");e.class(F.CPCircleClass);e.openEnd().close("div");e.close("div")}}});_.prototype._createRowFromInput=function(e,t,i,s){var o=H.getText(t),a;a=new r({content:[this.oColorPickerHelper.factory.createLabel({text:i,tooltip:o,labelFor:e}).addStyleClass(F.LabelClass),e.setTooltip(o)]});if(s){a.addContent(this.oColorPickerHelper.factory.createLabel({text:s,labelFor:e}).addStyleClass(F.UnitLabelClass).addStyleClass(F.LabelClass))}return a};_.prototype._updateColorStringProperty=function(e,t){var i=this._getCSSColorString();this.setProperty("colorString",i,true);if(t){this.fireLiveChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}if(e){this.fireChange({r:this.Color.r,g:this.Color.g,b:this.Color.b,h:this.Color.h,s:this.Color.s,v:this.Color.v,l:this.Color.l,alpha:this.Color.a,hex:this.Color.hex,formatHSL:this.Color.formatHSL,colorString:i})}};_.prototype._handleCPBoxSelectEvent=function(e){var t=e.getParameter("value"),i=e.getParameter("saturation");this.oSatField.setValue(i);if(this._bHSLMode){this.oLitField.setValue(t)}else{this.oValField.setValue(t)}this._processChanges();this._updateColorStringProperty(false,true)};_.prototype._handleCPBoxResizeEvent=function(e){this._iCPBoxSize=e.getParameter("size");this._updateCursorPosition()};_.prototype._handleCPBoxTouchEndEvent=function(e){this._updateColorStringProperty(true,false)};_.prototype._createInteractionControls=function(){var t=this.getId();this.oCPBox=new L(t+"-cpBox",{select:this._handleCPBoxSelectEvent.bind(this),resize:this._handleCPBoxResizeEvent.bind(this)});this.oCPBox.addDelegate({ontouchend:this._handleCPBoxTouchEndEvent.bind(this)});this.oHexField=this.oColorPickerHelper.factory.createInput(t+"-hxF",{value:this.Color.hex.substr(1),change:this._handleHexValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HEX")}).addStyleClass(F.HEXClass);this.oRedField=this.oColorPickerHelper.factory.createInput(t+"-rF",{value:this.Color.r,change:this._handleRedValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_RED")}).addStyleClass(F.LeftColumnInputClass);this.oGreenField=this.oColorPickerHelper.factory.createInput(t+"-gF",{value:this.Color.g,change:this._handleGreenValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_GREEN")}).addStyleClass(F.LeftColumnInputClass);this.oBlueField=this.oColorPickerHelper.factory.createInput(t+"-bF",{value:this.Color.b,change:this._handleBlueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_BLUE")}).addStyleClass(F.LeftColumnInputClass);this.oHueField=this.oColorPickerHelper.factory.createInput(t+"-hF",{value:this.Color.h,change:this._handleHueValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_HUE")}).addStyleClass(F.RightColumnInputClass);this.oSatField=this.oColorPickerHelper.factory.createInput(t+"-sF",{value:this.Color.s,change:this._handleSatValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_SAT")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass);this.oLitField=this.oColorPickerHelper.factory.createInput(t+"-lF",{value:this.Color.l,change:this._handleLitValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_LIGHTNESS")+" "+n.getStaticId("sap.ui.unified","COLORPICKER_PERCENTAGE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass);this.oAlphaField=this.oColorPickerHelper.factory.createInput(t+"-aF",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oAlphaField2=this.oColorPickerHelper.factory.createInput(t+"-aF2",{value:this.Color.a,change:this._handleAlphaValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_ALPHA")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSVClass).addStyleClass("sapUnifiedA");this.oValField=this.oColorPickerHelper.factory.createInput(t+"-vF",{value:this.Color.v,change:this._handleValValueChange.bind(this),ariaLabelledBy:n.getStaticId("sap.ui.unified","COLORPICKER_VALUE")}).addStyleClass(F.RightColumnInputClass).addStyleClass(F.HideForHSLClass);this.oRGBorHSLRBGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({columns:2,buttons:[this.oColorPickerHelper.factory.createRadioButtonItem({text:F.RGB}),this.oColorPickerHelper.factory.createRadioButtonItem({text:e.ColorPickerMode.HSL})],select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0}).addStyleClass(F.OutputSelectorClass);this.oHueInvisibleText=new n({text:H.getText("COLORPICKER_HUE_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oHueInvisibleText,true);this.oSlider=this.oColorPickerHelper.factory.createSlider(t+"-hSLD",{max:360,step:1,tooltip:H.getText("COLORPICKER_HUE"),value:parseInt(this.oHueField.getValue())}).addStyleClass(F.SliderClass).addAriaLabelledBy(this.oHueInvisibleText);this.oSlider.attachEvent("liveChange","liveChange",this._handleSliderChange.bind(this));this.oSlider.attachEvent("change","change",this._handleSliderChange.bind(this));this.oAlphaInvisibleText=new n({text:H.getText("COLORPICKER_ALPHA_SLIDER")}).toStatic();this.addAggregation("_invisibleTexts",this.oAlphaInvisibleText,true);this.oAlphaSlider=this.oColorPickerHelper.factory.createSlider(t+"-aSLD",{max:1,value:1,step:.01,tooltip:H.getText("COLORPICKER_ALPHA")}).addStyleClass(F.AlphaSliderClass).addAriaLabelledBy(this.oAlphaInvisibleText);this.oAlphaSlider.attachEvent("liveChange","liveChange",this._handleAlphaSliderChange.bind(this));this.oAlphaSlider.attachEvent("change","change",this._handleAlphaSliderChange.bind(this))};_.prototype._createLayout=function(){var e=this.getId(),t;if(this._bLayoutControlsCreated){return}this._createInteractionControls();if(this.getDisplayMode()===b.Large){this._toggleInputsEnabled(this.Color.formatHSL)}this.oCPBoxGD=new a({span:"L6 M6 S12"});this.icOne=new a({span:"L3 M3 S6"});this.icTwo=new a({span:"L3 M3 S6"});this.swatches=new a({span:"L3 M3 S12"});this.rbg=new a({span:"L6 M8 S12"});if(this.bResponsive){this._createUnifiedColorPicker(e)}else{t=this._createCommonsColorPicker(t,e);this.setAggregation("_grid",t,true)}this._bLayoutControlsCreated=true;if(!this.bResponsive){this._adaptControlToLibrary()}};_.prototype._adaptControlToLibrary=function(){var e;if(!this._bLayoutControlsCreated){return}e=this.getAggregation("_grid");if(this.bResponsive){if(!d.system.phone&&!jQuery("html").hasClass("sapUiMedia-Std-Phone")){e._setBreakPointTablet(400)}e.addStyleClass(F.CPResponsiveClass)}else{e.setProperty("hSpacing",0,true);e.setProperty("vSpacing",0,true);this.oCPBoxGD.setSpanS(5);this.icOne.setSpanS(4);this.icTwo.setSpanS(3);this.rbg.setSpanS(8)}};_.prototype._updateControlVisualState=function(){var e=this.getAggregation("_grid");if(!e){return}if(this.bResponsive){if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanM(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanM(3).setLinebreak(false)}}else{if(this._bHSLMode){e.addStyleClass(F.HSLClass);this.swatches.setSpanS(4).setLinebreak(true)}else{e.removeStyleClass(F.HSLClass);this.swatches.setSpanS(3).setLinebreak(false)}}};_.prototype._processChanges=function(){};_.prototype.setMode=function(t,i){this._bLayoutControlsCreated=false;switch(t){case e.ColorPickerMode.HSL:this._processChanges=this._processHSLChanges;break;case e.ColorPickerMode.HSV:this._processChanges=this._processHSVChanges;break;default:c.error("Control must have a valid mode set to work correct");break}this._bHSLMode=t===e.ColorPickerMode.HSL;return this.setProperty("mode",t,i)};_.prototype.setDisplayMode=function(e){this._bLayoutControlsCreated=false;return this.setProperty("displayMode",e,false)};_.prototype._cleanup=function(){var e=[this.getAggregation("_grid"),this.getAggregation("_oCPBox"),this.getAggregation("_oHexField"),this.getAggregation("_oRedField"),this.getAggregation("_oGreenField"),this.getAggregation("_oBlueField"),this.getAggregation("_oHueField"),this.getAggregation("_oSatField"),this.getAggregation("_oLitField"),this.getAggregation("_oAlphaField"),this.getAggregation("_oAlphaField2"),this.getAggregation("_oValField"),this.getAggregation("_oSlider"),this.getAggregation("_oAlphaSlider"),this.oRGBorHSLRBUnifiedGroup,this.oCPBoxGD,this.icOne,this.icTwo,this.rbg,this.swatches,this.oAlphaInvisibleText,this.oHueInvisibleText,this.getAggregation("_oButton"),this.getAggregation("_oRGBorHSLRBUnifiedGroup"),this.oRGBorHSLRBGroup];e.forEach(function(e){if(e){e.destroy()}},this);this._bLayoutControlsCreated=false};_.prototype.exit=function(){this._cleanup()};_.prototype.onBeforeRendering=function(){this._cleanup();this._createLayout();this._updateControlVisualState();this._updateColorString()};_.prototype._updateColorString=function(){this._parseColorString(this.getColorString());this.oHexField.setValue(this.Color.hex.substr(1));this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);if(this.bResponsive){this.oRGBorHSLRBUnifiedGroup.setSelectedIndex(this.Color.formatHSL?1:0)}else{this.oRGBorHSLRBGroup.setSelectedIndex(this.Color.formatHSL?1:0)}}else{this.oValField.setValue(this.Color.v);this.oSlider.setValue(this.Color.h);this.oAlphaSlider.setValue(this.Color.a);this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a)}this._updateColorStringProperty(false,false)};_.prototype.isColor=function(e){return this._parseColorString(e,true)};_.prototype._handleSliderChange=function(e,t){var i=parseInt(this.oSlider.getValue());this.oHueField.setValue(i);this._processChanges();this._updateColorStringProperty(t==="change",t==="liveChange")};_.prototype._handleAlphaSliderChange=function(e,t){this.Color.a=this.oAlphaSlider.getValue();this.oAlphaField.setValue(this.Color.a);this.oAlphaField2.setValue(this.Color.a);this._updateSelColorBackground();this._updateColorStringProperty(t==="change",t==="liveChange")};_.prototype._getValueInRange=function(e,t,i){if(isNaN(e)){e=0}return Math.min(Math.max(e,t),i)};_.prototype._handleAlphaValueChange=function(e){var t=e.getParameter("id")=="cp-aF2"?parseFloat(this.oAlphaField2.getValue(),10):parseFloat(this.oAlphaField.getValue(),10);t=this._getValueInRange(t,0,1);this.Color.a=t;this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t);this.oAlphaSlider.setValue(t);if(!this.Color.formatHSL){this._processRGBChanges()}else{this._processChanges()}this._updateColorStringProperty(true,true)};_.prototype._handleRGBorHSLValueChange=function(e){this.Color.formatHSL=e.getParameter("selectedIndex")===1;this._toggleInputsEnabled(this.Color.formatHSL);this._updateColorStringProperty(true,true)};_.prototype._toggleInputsEnabled=function(e){this.oRedField.setEnabled(!e);this.oGreenField.setEnabled(!e);this.oBlueField.setEnabled(!e);this.oHueField.setEnabled(!!e);this.oSatField.setEnabled(!!e);this.oLitField.setEnabled(!!e);this.oValField.setEnabled(!!e)};_.prototype._handleHueValueChange=function(){var e=parseInt(this.oHueField.getValue());e=this._getValueInRange(e,0,360);this.oHueField.setValue(e);this.oSlider.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};_.prototype._handleSatValueChange=function(){var e=parseInt(this.oSatField.getValue());e=this._getValueInRange(e,0,100);this.oSatField.setValue(e);this._processChanges();this._updateColorStringProperty(true,true)};_.prototype._handleValValueChange=function(){var e=parseInt(this.oValField.getValue());e=this._getValueInRange(e,0,100);this.oValField.setValue(e);this._processHSVChanges();this._updateColorStringProperty(true,true)};_.prototype._handleLitValueChange=function(){var e=parseInt(this.oLitField.getValue());e=this._getValueInRange(e,0,100);this.oLitField.setValue(e);this._processHSLChanges();this._updateColorStringProperty(true,true)};_.prototype._handleRedValueChange=function(){var e=parseInt(this.oRedField.getValue());e=this._getValueInRange(e,0,255);this.oRedField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};_.prototype._handleGreenValueChange=function(){var e=parseInt(this.oGreenField.getValue());e=this._getValueInRange(e,0,255);this.oGreenField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};_.prototype._handleBlueValueChange=function(){var e=parseInt(this.oBlueField.getValue());e=this._getValueInRange(e,0,255);this.oBlueField.setValue(e);this._processRGBChanges();this._updateColorStringProperty(true,true)};_.prototype._processHSVChanges=function(){var e=parseInt(this.oHueField.getValue());var t=parseInt(this.oSatField.getValue());var i=parseInt(this.oValField.getValue());this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.v=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oValField.setValue(this.Color.v);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateSelColorBackground()};_.prototype._processHSLChanges=function(){var e=parseInt(this.oHueField.getValue()),t=parseInt(this.oSatField.getValue()),i=parseInt(this.oLitField.getValue());if(e>360){e%=360}this._calculateRGB(e,t,i);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this._calculateHEX(this.Color.r,this.Color.g,this.Color.b);this.oHexField.setValue(this.sHexString);this.Color.hex="#"+this.oHexField.getValue();this.Color.h=e;this.Color.s=t;this.Color.l=i;this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);this.oLitField.setValue(this.Color.l);this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};_.prototype._processRGBChanges=function(){var e=Math.round(parseInt(this.oRedField.getValue())),t=Math.round(parseInt(this.oGreenField.getValue())),i=Math.round(parseInt(this.oBlueField.getValue())),s=e+t+i===765;this._calculateHEX(e,t,i);this.oHexField.setValue(this.sHexString);if(this._bHSLMode){this._calculateHSL(e,t,i);this.oLitField.setValue(this.Color.l)}else{if(!s){this._calculateHSV(e,t,i)}this.oValField.setValue(this.Color.v)}if(!s){this.oHueField.setValue(this.Color.h)}this.oSatField.setValue(this.Color.s);this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.Color.r=e;this.Color.g=t;this.Color.b=i;this.Color.hex="#"+this.oHexField.getValue();this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground()};_.prototype._handleHexValueChange=function(){var e=this.oHexField.getValue().toLowerCase(),t=1,i;if(e.substr(0,1)==="#"){e=e.substr(1)}i=/^([0-9a-fA-F]{8})$/;if(i.test(e)!==false){t=Number((parseInt(e.substr(6,2),16)/255).toFixed(2));e=e.substr(0,6)}i=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(i.test(e)===false){this.oHexField.setValueState(f.Error);this.oSlider.setEnabled(false);this.oAlphaSlider.setEnabled(false);this.oHueField.setEnabled(false);this.oRedField.setEnabled(false);this.oGreenField.setEnabled(false);this.oBlueField.setEnabled(false);this.oSatField.setEnabled(false);this.oAlphaField.setEnabled(false);this.oAlphaField2.setEnabled(false);if(this._bHSLMode){this.oLitField.setEnabled(false)}else{this.oValField.setEnabled(false)}return}else if(this.oHexField.getValueState()===f.Error){this.oHexField.setValueState(f.None);this.oSlider.setEnabled(true);this.oAlphaSlider.setEnabled(true);this.oHueField.setEnabled(true);this.oRedField.setEnabled(true);this.oGreenField.setEnabled(true);this.oBlueField.setEnabled(true);this.oSatField.setEnabled(true);this.oAlphaField.setEnabled(true);this.oAlphaField2.setEnabled(true);if(this._bHSLMode){this.oLitField.setEnabled(true)}else{this.oValField.setEnabled(true)}}if(e.length===3){e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)}this._processHexChanges(e);this.oHexField.setValue(e);this.oRedField.setValue(this.Color.r);this.oGreenField.setValue(this.Color.g);this.oBlueField.setValue(this.Color.b);this.oHueField.setValue(this.Color.h);this.oSatField.setValue(this.Color.s);if(this._bHSLMode){this.oLitField.setValue(this.Color.l);this.oAlphaField.setValue(1);this.oAlphaField2.setValue(1)}else{this.oValField.setValue(this.Color.v)}this.oSlider.setValue(parseInt(this.oHueField.getValue()));this.oAlphaSlider.setValue(t);this.Color.a=t;if(this._bHSLMode){this.oAlphaField.setValue(t);this.oAlphaField2.setValue(t)}this._updateGradientBoxBackground(this.Color.h);this._updateCursorPosition();this._updateAlphaBackground();this._updateSelColorBackground();this._updateColorStringProperty(true,true)};_.prototype._processHexChanges=function(e){this._convertRGB(e);if(this._bHSLMode){this._calculateHSL(this.Color.r,this.Color.g,this.Color.b)}else{this._calculateHSV(this.Color.r,this.Color.g,this.Color.b)}this.Color.hex="#"+e.toLowerCase()};_.prototype._updateAlphaBackground=function(){var e=[this.Color.r,this.Color.g,this.Color.b].join(","),t=y+"(left,rgba("+e+",0),rgba("+e+",1)),url("+R+")";this.oAlphaSlider.$().find(this.bResponsive?".sapMSliderInner":".sapUiSliBar").css("background-image",t)};_.prototype._updateCursorPosition=function(){var e,t;if(!this._iCPBoxSize){return}if(this._bHSLMode){e=Math.round(this.oLitField.getValue()*this._iCPBoxSize/100)}else{e=Math.round(this.oValField.getValue()*this._iCPBoxSize/100)}if(g.getRTL()){e=this._iCPBoxSize-e}t=Math.round((1-this.oSatField.getValue()/100)*this._iCPBoxSize);e=Math.round(Math.max(e,0)-this._iCPCursorSize/2-1);t=Math.round(Math.max(t,0)-this._iCPCursorSize/2-1);this.$CPCur.css("left",e).css("top",t)};_.prototype._calculateRGB=function(e,t,i){var s,o,a,l,r,h,n;if(this._bHSLMode){this._calculateRGBAdvanced(e,t,i);return}e%=360;e/=60;t/=100;i/=100;h=i*t;r=h*(1-Math.abs(e%2-1));l=i-h;s=0;o=0;a=0;n=Math.floor(e);switch(n){case 0:s=h;o=r;break;case 1:s=r;o=h;break;case 2:o=h;a=r;break;case 3:o=r;a=h;break;case 4:s=r;a=h;break;case 5:s=h;a=r;break;default:s=0;a=0;o=0;break}this.RGB.r=Math.floor((s+l)*255);this.RGB.g=Math.floor((o+l)*255);this.RGB.b=Math.floor((a+l)*255)};_.prototype._calculateRGBAdvanced=function(e,t,i){var s,o,a,l,r,h,n,d,u;e=this._getValueInRange(e,0,360);e%=360;if(t>100){t=1}else if(t<0){t=0}else{t=t/100}if(i>100){i=1}else if(i<0){i=0}else{i=i/100}d=t*(1-Math.abs(2*i-1));n=255*(i-.5*d);h=d*(1-Math.abs(e/60%2-1));u=Math.floor(e/60);r=n+255*h;l=n+255*d;switch(u){case 0:s=l;o=r;a=n;break;case 1:s=r;o=l;a=n;break;case 2:s=n;o=l;a=r;break;case 3:s=n;o=r;a=l;break;case 4:s=r;o=n;a=l;break;case 5:s=l;o=n;a=r;break;default:s=0;o=0;a=0;break}this.RGB.r=Math.round(s);this.RGB.g=Math.round(o);this.RGB.b=Math.round(a)};_.prototype._getCSSColorString=function(){if(this.Color.formatHSL){if(this.Color.a<1){return"hsla("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%, "+this.Color.a+")"}else{return"hsl("+this.Color.h+","+this.Color.s+"%,"+this.Color.l+"%)"}}if(this.Color.a<1){return"rgba("+this.Color.r+","+this.Color.g+","+this.Color.b+", "+this.Color.a+")"}else{return"rgb("+this.Color.r+","+this.Color.g+","+this.Color.b+")"}};_.prototype._calculateHEX=function(e,t,i){var s=e.toString(16),o=t.toString(16),a=i.toString(16);if(s.length===1){s="0"+s}if(o.length===1){o="0"+o}if(a.length===1){a="0"+a}this.sHexString=(s+o+a).toLowerCase()};_.prototype._calculateHSV=function(e,t,i){var s=Math.max(Math.max(e,t),i),o=Math.min(Math.min(e,t),i),a=s-o,l=Math.round(s*100/255),r=s===0?0:100*a/s,h=0;if(r===0){h=0}else if(e===s){h=60*(t-i)/a}else if(t===s){h=120+60*(i-e)/a}else if(i===s){h=240+60*(e-t)/a}if(h<0){h+=359.9}h=Math.round(h);r=Math.round(r);this.Color.h=h;this.Color.s=r;this.Color.v=l};_.prototype._calculateHSL=function(e,t,i){var s=Math.max(e,t,i),o=Math.min(e,t,i),a=(s-o)/255,l=(s+o)/510,r=1-Math.abs(2*l-1),h=l===0?0:a/r,n=r!==0?h:0,d=0;l=Math.round(l*100);n=Math.round(n*100);if(l===0||n===0||e+t+i===765){d=0}else{var u=s-o;if(s===e){d=(t-i)/u%6}if(s===t){d=(i-e)/u+2}if(s===i){d=(e-t)/u+4}if(u===0){d=0}d*=60;if(d<0){d+=360}}if(d!==0||this.Color.h!==360){this.Color.h=Math.round(d)}this.Color.s=n;this.Color.l=l};_.prototype._convertRGB=function(e){this.Color.r=parseInt(e.substr(0,2),16);this.Color.g=parseInt(e.substr(2,2),16);this.Color.b=parseInt(e.substr(4,2),16)};_.prototype._updateGradientBoxBackground=function(e){if(this._bHSLMode){this._calculateRGBAdvanced(e,100,50)}else{this._calculateRGB(e,100,100)}this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.$CPBox.css("background-color","rgb("+[this.RGB.r,this.RGB.g,this.RGB.b].join(",")+")")};_.prototype._updateSelColorBackground=function(){this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",this._getCSSColorString())};_.prototype._parseColorString=function(e,t){var i;if(e.substr(0,1)==="#"){e=e.substr(1)}e=e.trim().toLowerCase();i=this._parseColorName(e);if(i){if(t){return true}if(i.length===8){this.Color.a=this.Color.oldA=Number((parseInt(i.substr(6,2),16)/255).toFixed(2));i=i.substring(0,6)}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(e)){if(t){return true}if(e.length===3){i=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}else{i=e}this._processHexChanges(i);this.Color.old=this.Color.hex;if(this._bHSLMode){this.Color.formatHSL=false}return true}if(e.substr(0,3)==="rgb"){return this._parseRGB(e,t)}if(this._bHSLMode){return this._parseHSL(e,t)}else if(e.substr(0,3)==="hsv"){return this._parseHSV(e,t)}return false};_.prototype._parseHSV=function(e,t){var i=/^(((\d{1,2})|([1,2]\d{2})|(3[0-5]\d)|(360)),)(((\d{1,2})|(100)),)((\d{1,2})|(100))$/,s,o,a,l;e=e.substr(3).replace("(","").replace(")","").split(" ").join("");if(i.test(e)===true){if(t){return true}s=e.split(",");o=parseInt(s[0]);a=parseInt(s[1]);l=parseInt(s[2]);this._calculateRGB(o,a,l);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=o;this.Color.s=a;this.Color.v=l;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;return true}return false};_.prototype._parseHSL=function(e,t){var i,s=e.substr(0,4),o,a,l,r,h;if(s==="hsla"){o=true}else if(s==="hsl("){o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");i=e.split(",");a=parseInt(i[0]);l=parseFloat(i[1]);r=parseFloat(i[2]);if(o){h=parseFloat(i[3])}else{if(i[3]&&parseFloat(i[3])>=0){return false}h=1}l=l<1&&l>0?l*100:l;r=r<1&&r>0?r*100:r;if(a>=0&&a<=360&&(l>=0&&l<=100)&&(r>=0&&r<=100)&&(h>=0&&h<=1)){if(t){return true}this._calculateRGB(a,l,r);this._calculateHEX(this.RGB.r,this.RGB.g,this.RGB.b);this.Color.r=this.RGB.r;this.Color.g=this.RGB.g;this.Color.b=this.RGB.b;this.Color.h=a;this.Color.s=l;this.Color.l=r;this.Color.hex="#"+this.sHexString;this.Color.old=this.Color.hex;this.Color.a=this.Color.oldA=h;this.Color.formatHSL=true}else{return false}return true};_.prototype._parseRGB=function(e,t){var i,s,o,a;s=e.substring(0,4);if(s==="rgba"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),)([0]|([0]\.[0-9]+)|(\.[0-9]+)|[1])$/;o=true}else if(s.substring(0,3)==="rgb"){a=/^(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])),){2}(((\d{1,2})|(1\d{2})|(2[0-4]\d)|(25[0-5])))$/;o=false}else{return false}e=e.substr(o?4:3).replace("(","").replace(")","").split(" ").join("");if(a.test(e)){if(t){return true}i=e.split(",");this._calculateHEX(parseInt(i[0]),parseInt(i[1]),parseInt(i[2]));this._processHexChanges(this.sHexString);this.Color.old=this.Color.hex;if(o){this.Color.a=this.Color.oldA=parseFloat(i[3])}return true}if(this._bHSLMode){this.Color.formatHSL=false}return false};_.prototype._parseColorName=function(e){return F.Colors[e]};_.prototype.onAfterRendering=function(){var e=this._getCSSColorString(),t=this.getParent();this.$CPBox=this.oCPBox.$();this.$CPCur=this.oCPBox.getHandle();this.$().find(".sapUiColorPicker-ColorPickerNewColor").css("background-color",e);this.$().find(".sapUiColorPicker-ColorPickerOldColor").css("background-color",e);this._updateGradientBoxBackground(this.Color.h);this._iCPBoxSize=this.oCPBox.getWidth();this._updateCursorPosition();this._updateAlphaBackground();this.oSlider.iShiftGrip=Math.round(jQuery(this.oSlider.oGrip).outerWidth()/2);this.oAlphaSlider.iShiftGrip=Math.round(jQuery(this.oAlphaSlider.oGrip).outerWidth()/2);if(t&&t.getMetadata().getName()==="sap.m.Dialog"){t.addStyleClass("sapUiCPDialog")}this.addStyleClass("sapUiCPDisplayRGB");if(d.system.phone){this._toggleFields()}};_.prototype.getRGB=function(){return{r:this.Color.r,g:this.Color.g,b:this.Color.b}};_.prototype._getConstants=function(){return F};_.prototype._createCommonsColorPicker=function(e,t){e=new o({containerQuery:true,content:[this.oCPBox.setLayoutData(this.oCPBoxGD),new l({content:[this._createRowFromInput(this.oRedField,"COLORPICKER_RED","R:"),this._createRowFromInput(this.oGreenField,"COLORPICKER_GREEN","G:"),this._createRowFromInput(this.oBlueField,"COLORPICKER_BLUE","B:"),this._createRowFromInput(this.oHexField,"COLORPICKER_HEX","#:")],layoutData:this.icOne}),new l({content:[this._createRowFromInput(this.oHueField,"COLORPICKER_HUE","H:"),this._createRowFromInput(this.oSatField,"COLORPICKER_SAT","S:","%"),this._createRowFromInput(this.oLitField,"COLORPICKER_LIGHTNESS","L:","%").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oAlphaField2,"COLORPICKER_ALPHA","A:").addStyleClass(F.HideForHSVClass),this._createRowFromInput(this.oValField,"COLORPICKER_VALUE","V:").addStyleClass(F.HideForHSLClass)],layoutData:this.icTwo}).addStyleClass(F.LastColumnClass),new r({content:[new i({content:["<div id='",t,"-ocBox' class='",F.OldColorClass,"'></div>"].join("")}),new i({content:["<div id='",t,"-ncBox' class='",F.NewColorClass,"'></div>"].join("")})],layoutData:this.swatches}).addStyleClass(F.SwatchesClass),new r({content:[this.oColorPickerHelper.factory.createLabel({text:"Output:",labelFor:this.oRGBorHSLRBGroup}),this.oRGBorHSLRBGroup],layoutData:this.rbg}).addStyleClass(F.HideForHSVClass).addStyleClass(F.OutputSelectorRowClass),this.oSlider.setLayoutData(new a({span:"L6 M6 S12",linebreak:true})),this.oAlphaSlider.setLayoutData(new a({span:"L6 M6 S12"}))]}).addStyleClass(F.CPMatrixClass);return e};_.prototype._createUnifiedColorPicker=function(e){var t=this;this.oRbRGB=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:H.getText("COLORPICKER_SELECT_RGB_TOOLTIP")});this.oRbRGB.addStyleClass("sapUiCPRB");this.oRbHSLV=this.oColorPickerHelper.factory.createRadioButtonItem({tooltip:H.getText("COLORPICKER_SELECT_HSL_TOOLTIP")});this.oRbHSLV.addStyleClass("sapUiCPRB");this.oButton=this.oColorPickerHelper.factory.createButton(e+"-toggleMode",{type:d.system.phone?"Default":"Transparent",tooltip:H.getText("COLORPICKER_TOGGLE_BTN_TOOLTIP"),icon:"sap-icon://source-code",press:function(e){t._toggleFields()}});this.setAggregation("_oButton",this.oButton,true);this.oRGBorHSLRBUnifiedGroup=this.oColorPickerHelper.factory.createRadioButtonGroup({select:this._handleRGBorHSLValueChange.bind(this),selectedIndex:this.Color.formatHSL?1:0});this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbRGB);this.oRGBorHSLRBUnifiedGroup.addButton(this.oRbHSLV);this.setAggregation("_oRGBorHSLRBUnifiedGroup",this.oRGBorHSLRBUnifiedGroup,true);this.setAggregation("_oCPBox",this.oCPBox,true);this.setAggregation("_oHexField",this.oHexField,true);this.setAggregation("_oRedField",this.oRedField,true);this.setAggregation("_oGreenField",this.oGreenField,true);this.setAggregation("_oBlueField",this.oBlueField,true);this.setAggregation("_oHueField",this.oHueField,true);this.setAggregation("_oSatField",this.oSatField,true);this.setAggregation("_oLitField",this.oLitField,true);this.setAggregation("_oAlphaField",this.oAlphaField,true);this.setAggregation("_oAlphaField2",this.oAlphaField2,true);this.setAggregation("_oValField",this.oValField,true);this.setAggregation("_oSlider",this.oSlider,true);this.setAggregation("_oAlphaSlider",this.oAlphaSlider,true)};_.prototype._toggleFields=function(){if(!d.system.phone){this.toggleStyleClass("sapUiCPDisplayRGB",this.bPressed);this.bPressed=!this.bPressed}else{switch(this.sVisibleFiled){case"HSL":this.removeStyleClass("sapUiCPHexVisible");this.toggleStyleClass("sapUiCPDisplayRGB",false);this.addStyleClass("sapUiCPHideHex");this.sVisibleFiled="RGB";break;case"RGB":this.removeStyleClass("sapUiCPHexVisible");this.addStyleClass("sapUiCPHideHex");this.toggleStyleClass("sapUiCPDisplayRGB",true);this.sVisibleFiled="Hex";break;case"Hex":default:this.addStyleClass("sapUiCPHexVisible");this.removeStyleClass("sapUiCPHideHex");this.sVisibleFiled="HSL";break}}};return _});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerDisplayMode", [],function(){"use strict";var e={Default:"Default",Large:"Large",Simplified:"Simplified"};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerHelper", ["sap/ui/core/Lib"],function(e){"use strict";var t;var n={isResponsive:function(){return true},factory:{createLabel:function(e){return new sap.m.Label(e)},createInput:function(e,t){return new sap.m.InputBase(e,t)},createSlider:function(e,t){return new sap.m.Slider(e,t)},createRadioButtonGroup:function(e){return new sap.m.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.m.RadioButton(e)},createButton:function(e,t){return new sap.m.Button(e,t)}}};var r={isResponsive:function(){return false},factory:{createLabel:function(e){return new sap.ui.commons.Label(e)},createInput:function(e,t){return new sap.ui.commons.TextField(e,t)},createSlider:function(e,t){if(t&&t.step){t.smallStepWidth=t.step;delete t.step}return new sap.ui.commons.Slider(e,t)},createRadioButtonGroup:function(e){if(e&&e.buttons){e.items=e.buttons;delete e.buttons}return new sap.ui.commons.RadioButtonGroup(e)},createRadioButtonItem:function(e){return new sap.ui.core.Item(e)}}};var o={isResponsive:function(){return false},factory:{createLabel:function(){throw new Error("no Label control available")},createInput:function(){throw new Error("no Input control available")},createSlider:function(){throw new Error("no Slider control available")},createRadioButtonGroup:function(){throw new Error("no RadioButtonGroup control available")},createRadioButtonItem:function(){throw new Error("no RadioButtonItem control available")}}};t={getHelper:function(){if(e.isLoaded("sap.m")){return n}else if(e.isLoaded("sap.ui.unified")){return r}return o}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerPopover", ["sap/ui/core/Control","sap/ui/Device","sap/m/Button","sap/m/ResponsivePopover","./ColorPicker","./library","sap/m/library","sap/ui/thirdparty/jquery"],function(e,t,o,r,i,n,p,jQuery){"use strict";var a=p.PlacementType;var s=n.ColorPickerMode,l=n.ColorPickerDisplayMode;var u=p.ButtonType;var y=e.extend("sap.ui.unified.ColorPickerPopover",{metadata:{library:"sap.ui.unified",publicMethods:["openBy","close"],properties:{colorString:{type:"string",group:"Misc",defaultValue:null},mode:{type:"sap.ui.unified.ColorPickerMode",group:"Appearance",defaultValue:s.HSV},displayMode:{type:"sap.ui.unified.ColorPickerDisplayMode",group:"Appearance",defaultValue:l.Default}},events:{change:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}},liveChange:{parameters:{r:{type:"int"},g:{type:"int"},b:{type:"int"},h:{type:"int"},s:{type:"int"},v:{type:"int"},l:{type:"int"},hex:{type:"string"},alpha:{type:"string"}}}}},renderer:{apiVersion:2}});var P=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var h={COLOR_PICKER_PROPS:{colorString:"setColorString",mode:"setMode",displayMode:"setDisplayMode"},POPOVER_METHODS:{getDomRef:"",close:""}};y.prototype.init=function(){this._oPopover=null;this._bPopoverDestroying=null};y.prototype.exit=function(){this._bPopoverDestroying=true;if(this._oPopover){this._oPopover.removeDelegate(this._oPopover._onAfterRenderingDelegate);this._oPopover.destroy();this._oPopover=null}};y.prototype.openBy=function(e){return r.prototype.openBy.apply(this._ensurePopover(),arguments)};y.prototype._getColorPicker=function(){return this._ensurePopover().getContent()[0]};y.prototype._ensurePopover=function(){if(!this._oPopover){this._oPopover=this._createPopover()}return this._oPopover};y.prototype._createPopover=function(){var e,i=this._createColorPicker(),n,p=this;e=new r(this.getId()+"-colorPickerPopover",{showHeader:t.system.phone,placement:a.VerticalPreferredBottom,showArrow:false,showCloseButton:false,beginButton:new o({text:P.getText("COLOR_PICKER_SUBMIT"),type:u.Emphasized,press:function(){p.fireChange(p._oLastChangeCPParams);e.close()}}),endButton:new o({text:P.getText("COLOR_PICKER_CANCEL"),press:function(){e.close()}}),title:P.getText("COLOR_PICKER_TITLE"),content:i});i.attachChange(function(e){this._handleChange(e)}.bind(this));i.attachLiveChange(function(e){this.fireLiveChange(e.getParameters())}.bind(this));n={onAfterRendering:function(){var e=this.$();e.attr("aria-modal","true");e.attr("aria-label",this.getTitle())}};e.addEventDelegate(n,e);e._onAfterRenderingDelegate=n;return e};y.prototype._handleChange=function(e){var t={};this._oLastChangeCPParams=jQuery.extend(t,e.getParameters());delete this._oLastChangeCPParams.id;return this};y.prototype._createColorPicker=function(){var e=new i(this.getId()+"-color_picker");return e};y.prototype.setProperty=function(t,o,r){var n;if(h.COLOR_PICKER_PROPS[t]!==undefined){n=h.COLOR_PICKER_PROPS[t]||t;i.prototype[n].call(this._getColorPicker(),o)}return e.prototype.setProperty.apply(this,arguments)};Object.keys(h.POPOVER_METHODS).forEach(function(e){var t=h.POPOVER_METHODS[e]||e;y.prototype[e]=function(){if(this._bPopoverDestroying){return null}var e=this._ensurePopover();return e[t].apply(e,arguments)}});return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ColorPickerRenderer", ["./ColorPickerDisplayMode","sap/ui/Device"],function(e,o){"use strict";var r={apiVersion:2};r.render=function(r,t){var n=t.getDisplayMode(),i=t.bResponsive;r.openStart("div",t);r.accessibilityState(t,{role:"group",roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("COLOR_PICKER_TITLE")});if(i){r.class("sapUiColorPicker-ColorPickerMatrix");r.class("sapUiColorPicker-"+n);r.class("sapUnifiedColorPicker");if(t._bHSLMode){r.class("sapUiColorPickerHSL")}}if(o.system.phone){r.class("sapUiCPPhone")}r.openEnd();if(!i){r.renderControl(t.getAggregation("_grid"))}else{switch(n){case e.Default:this.renderDefaultColorPicker(r,t);break;case e.Large:this.renderLargeColorPicker(r,t);break;case e.Simplified:this.renderSimplifiedColorPicker(r,t)}}r.close("div")};r.renderDefaultColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));e.close("div");this.renderMobileSwatches(e,r);e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));e.renderControl(r.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}e.openStart("div");e.class("sapUiCPDefaultWrapper");e.openEnd();if(o.system.phone){e.renderControl(r.getAggregation("_oHexField"));e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div")}e.openStart("div");e.class("sapUiCPDefaultRGB");e.openEnd();e.renderControl(r.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oAlphaField"));e.close("div");e.openStart("div");e.class("sapUiCPDefaultHSLV");e.openEnd();e.renderControl(r.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(r.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(r.getAggregation("_oLitField"));e.renderControl(r.getAggregation("_oValField"));if(r.getMode()==="HSL"){e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div")}else{this.renderEmptyDiv(e)}e.renderControl(r.getAggregation("_oAlphaField2"));e.close("div");e.renderControl(r.getAggregation("_oButton"));this.renderRGBLabel(e,r);this.renderHSLVLabel(e,r);e.close("div")};r.renderLargeColorPicker=function(e,o){e.renderControl(o.getAggregation("_oCPBox"));e.renderControl(o.getAggregation("_oSlider"));e.renderControl(o.getAggregation("_oAlphaSlider"));this.renderDesktopSwatchesAndHexFields(e,o);e.renderControl(o.oRGBorHSLRBUnifiedGroup);e.openStart("div");e.class("sapUiCPRGBA");e.openEnd();e.renderControl(o.getAggregation("_oRedField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oGreenField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oBlueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oAlphaField"));e.close("div");this.renderRGBLabel(e,o);e.openStart("div");e.class("sapUiCPHSLV");e.openEnd();e.renderControl(o.getAggregation("_oHueField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oSatField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");o.getMode()==="HSL"?this.renderLFirst(e,o):this.renderVFirst(e,o);e.close("div");this.renderHSLVLabel(e,o)};r.renderSimplifiedColorPicker=function(e,r){e.renderControl(r.getAggregation("_oCPBox"));if(o.system.phone){e.openStart("div");e.class("sapUiCPPhoneContent");e.openEnd();e.openStart("div");e.class("sapUiCPSlidersPhone");e.openEnd();e.renderControl(r.getAggregation("_oSlider"));e.close("div");e.renderControl(r.getAggregation("_oHexField"));this.renderMobileSwatches(e,r);e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("div");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("div");e.close("div");e.close("div")}else{e.renderControl(r.getAggregation("_oSlider"));this.renderDesktopSwatchesAndHexFields(e,r)}};r.renderDesktopSwatchesAndHexFields=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div");e.openStart("div");e.class("sapUiCPHexWrapper");e.openEnd();e.openStart("span");e.class("sapUiCPHexText");e.openEnd();e.text("Hex");e.close("span");e.close("div");e.renderControl(o.getAggregation("_oHexField"))};r.renderMobileSwatches=function(e,o){e.openStart("div");e.class("sapUiCPComparisonWrapper");e.class("sapUiCPComparisonWrapperPhone");e.openEnd();e.openStart("div",o.getId()+"-ocBox");e.class("sapUiColorPicker-ColorPickerOldColor");e.openEnd();e.close("div");e.openStart("div",o.getId()+"-ncBox");e.class("sapUiColorPicker-ColorPickerNewColor");e.openEnd();e.close("div");e.close("div")};r.renderLFirst=function(e,o){e.renderControl(o.getAggregation("_oLitField"));e.openStart("div");e.class("sapUiCPPercentSymbol");e.openEnd();e.text("%");e.close("div");e.renderControl(o.getAggregation("_oValField"))};r.renderVFirst=function(e,o){e.renderControl(o.getAggregation("_oValField"));this.renderEmptyDiv(e);e.renderControl(o.getAggregation("_oLitField"))};r.renderEmptyDiv=function(e){e.openStart("div");e.class("sapUiCPEmptyDiv");e.openEnd();e.close("div")};r.renderRGBLabel=function(e,o){e.openStart("div");e.class("sapUiCPRGBText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("R");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("G");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("B");e.close("span");this.renderEmptyDiv(e);if(o.getDisplayMode()==="Default"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.close("span")}e.close("div")};r.renderHSLVLabel=function(e,o){e.openStart("div");e.class("sapUiCPHSLVText");e.openEnd();e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("H");e.close("span");this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("S");e.close("span");this.renderEmptyDiv(e);if(o.getMode()==="HSL"){e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("L");e.close("span")}else{e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("V");e.close("span")}this.renderEmptyDiv(e);e.openStart("span");e.class("sapUiCPText");e.openEnd();e.text("A");e.close("span");e.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ContentSwitcher", ["sap/ui/core/Control","./library","./ContentSwitcherRenderer","sap/base/Log"],function(t,e,n,i){"use strict";var o=e.ContentSwitcherAnimation;var r=t.extend("sap.ui.unified.ContentSwitcher",{metadata:{deprecated:true,library:"sap.ui.unified",properties:{animation:{type:"string",group:"Appearance",defaultValue:"None"},activeContent:{type:"int",group:"Behavior",defaultValue:1}},aggregations:{content1:{type:"sap.ui.core.Control",multiple:true,singularName:"content1"},content2:{type:"sap.ui.core.Control",multiple:true,singularName:"content2"}}},renderer:n});(function(t){r.prototype.init=function(){};r.prototype.switchContent=function(){this.setActiveContent(this.getActiveContent()==1?2:1);return this};r.prototype.onAfterRendering=function(){this._$Contents=[this.$("content1"),this.$("content2")]};r.prototype._showActiveContent=function(t){if(this._$Contents){this._$Contents[0].toggleClass("sapUiUfdCSwitcherVisible",t===1);this._$Contents[1].toggleClass("sapUiUfdCSwitcherVisible",t===2)}};r.prototype.setActiveContent=function(t){t=parseInt(t);if(isNaN(t)||t<1){t=1;i.warning("setActiveContent argument must be either 1 or 2. Active content set to 1.")}else if(t>2){t=2;i.warning("setActiveContent argument must be either 1 or 2. Active content set to 2.")}this.setProperty("activeContent",t,true);this._showActiveContent(t);return this};r.prototype.setAnimation=function(t,e){if(typeof t!=="string"){t=o.None;i.warning('setAnimation argument must be a string. Animation was set to "'+o.None+'".')}t=t.replace(/[^a-zA-Z0-9]/g,"");var n=this.getProperty("animation");if(t===n){return this}var r=this.$();if(r[0]){r.toggleClass("sapUiUfdCSwitcherAnimation"+n,false);r.toggleClass("sapUiUfdCSwitcherAnimation"+t,true)}return this.setProperty("animation",t,e)}})(window);return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ContentSwitcherRenderer", ["sap/ui/unified/library","sap/base/security/encodeXML","sap/ui/core/Configuration"],function(t,e,i){"use strict";var n=t.ContentSwitcherAnimation;var r={};r.render=function(t,r){var o=r.getId();var a=r.getAnimation();if(i.getAnimationMode()===i.AnimationMode.none){a=n.None}var s=r.getActiveContent();t.write("<div");t.writeControlData(r);t.addClass("sapUiUfdCSwitcher");t.addClass("sapUiUfdCSwitcherAnimation"+e(a));t.writeClasses();t.write(">");t.write('<section id="'+o+'-content1" class="sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent1'+(s==1?" sapUiUfdCSwitcherVisible":"")+'">');this.renderContent(t,r.getContent1());t.write("</section>");t.write('<section id="'+o+'-content2" class="sapUiUfdCSwitcherContent sapUiUfdCSwitcherContent2'+(s==2?" sapUiUfdCSwitcherVisible":"")+'">');this.renderContent(t,r.getContent2());t.write("</section>");t.write("</div>")};r.renderContent=function(t,e){for(var i=0;i<e.length;++i){t.renderControl(e[i])}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Currency", ["sap/ui/core/Control","sap/m/library","sap/ui/core/format/NumberFormat","./CurrencyRenderer"],function(e,t,r,i){"use strict";var n=t.EmptyIndicatorMode;var u=e.extend("sap.ui.unified.Currency",{metadata:{library:"sap.ui.unified",properties:{value:{type:"float",group:"Appearance",defaultValue:0},stringValue:{type:"string",group:"Appearance",defaultValue:null},currency:{type:"string",group:"Appearance",defaultValue:null},maxPrecision:{type:"int",group:"Appearance"},useSymbol:{type:"boolean",group:"Appearance",defaultValue:true},emptyIndicatorMode:{type:"sap.m.EmptyIndicatorMode",group:"Appearance",defaultValue:n.Off}},designtime:"sap/ui/unified/designtime/Currency.designtime",dnd:{draggable:true,droppable:false}},renderer:i});u.FIGURE_SPACE="";u.PUNCTUATION_SPACE="";u.prototype.init=function(){this._oFormat=r.getCurrencyInstance({showMeasure:false})};u.prototype.exit=function(){this._oFormat=null;this._$Value=null;this._$Currency=null;this._sLastCurrency=null;this._iLastCurrencyDigits=null;this._bRenderNoValClass=null};u.prototype.onAfterRendering=function(){if(this.$()){this._$Value=this.$().find(".sapUiUfdCurrencyValue");this._$Currency=this.$().find(".sapUiUfdCurrencyCurrency")}};u.prototype.setValue=function(e){if(this.isBound("value")){this._bRenderNoValClass=e==null}this.setProperty("value",e,true);this._renderValue();return this};u.prototype.unbindProperty=function(t){e.prototype.unbindProperty.apply(this,arguments);if(t==="value"){this._bRenderNoValClass=false}};u.prototype.setCurrency=function(e){var t,r;this.setProperty("currency",e,true);this._renderCurrency();t=this._oFormat.oLocaleData.getCurrencyDigits(e);if(this._iLastCurrencyDigits!=null&&this._iLastCurrencyDigits!==t){r=true}else if(this._oFormat.oLocaleData.getCurrencyDigits()!==t){r=true}this._iLastCurrencyDigits=t;if(this._sLastCurrency==="*"||e==="*"){r=true}this._sLastCurrency=e;if(r){this._renderValue()}return this};u.prototype.setUseSymbol=function(e){this.setProperty("useSymbol",e,true);this._renderCurrency();return this};u.prototype.setMaxPrecision=function(e){this.setProperty("maxPrecision",e,true);this._renderValue();return this};u.prototype._renderValue=function(){if(this._$Value){this._$Value.text(this.getFormattedValue())}};u.prototype._renderCurrency=function(){if(this._$Currency){this._$Currency.text(this._getCurrency())}};u.prototype._getCurrency=function(){return this.getUseSymbol()?this.getCurrencySymbol():this.getCurrency()};u.prototype.getFormattedValue=function(){var e=this.getCurrency(),t,r,i,n=this.getMaxPrecision(),s=!n&&n!==0;if(e==="*"){return""}r=this._oFormat.oLocaleData.getCurrencyDigits(e);if(s){n=r}n=n<=0&&r>0?n-1:n;t=n-r;i=this._oFormat.format(this.getStringValue()||this.getValue(),e);if(t==n&&n>0){i+=u.PUNCTUATION_SPACE}if(t>0){i=i.padEnd(i.length+t,u.FIGURE_SPACE)}else if(t<0){i=i.substr(0,i.length+t)}return i};u.prototype.getCurrencySymbol=function(){return this._oFormat.oLocaleData.getCurrencySymbol(this.getCurrency())};u.prototype.getAccessibilityInfo=function(){if(this._bRenderNoValClass){return{}}return{description:(this.getFormattedValue()||"")+" "+(this.getCurrency()||"").trim()}};return u});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CurrencyRenderer", ["sap/m/library","sap/ui/core/Core"],function(e,t){"use strict";var n={apiVersion:2};var a=e.EmptyIndicatorMode;var r=t.getLibraryResourceBundle("sap.m");n.render=function(e,t){var n=t.getTooltip_AsString();e.openStart("div",t);if(n){e.attr("title",n)}e.class("sapUiUfdCurrency");if(t.getEmptyIndicatorMode()!==a.Off&&!t.getValue()){e.openEnd();this.renderEmptyIndicator(e,t)}else{e.openEnd();e.openStart("div");e.class("sapUiUfdCurrencyAlign");e.openEnd();e.openStart("span");e.attr("dir","ltr");e.class("sapUiUfdCurrencyValue");e.openEnd();e.text(t.getFormattedValue());e.close("span");e.openStart("span");e.class("sapUiUfdCurrencyCurrency");e.openEnd();e.text(t._getCurrency());e.close("span");e.close("div")}e.close("div")};n.renderEmptyIndicator=function(e,t){e.openStart("span");e.class("sapMEmptyIndicator");if(t.getEmptyIndicatorMode()===a.Auto){e.class("sapMEmptyIndicatorAuto")}e.openEnd();e.openStart("span");e.attr("aria-hidden",true);e.openEnd();e.text(r.getText("EMPTY_INDICATOR"));e.close("span");e.openStart("span");e.class("sapUiPseudoInvisibleText");e.openEnd();e.text(r.getText("EMPTY_INDICATOR_TEXT"));e.close("span");e.close("span")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange", ["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateTypeRange", ["./DateRange","./library"],function(e,a){"use strict";var p=a.CalendarDayType;var r=e.extend("sap.ui.unified.DateTypeRange",{metadata:{library:"sap.ui.unified",properties:{type:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.Type01},secondaryType:{type:"sap.ui.unified.CalendarDayType",group:"Appearance",defaultValue:p.None},color:{type:"sap.ui.core.CSSColor",group:"Appearance",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader", ["sap/ui/core/Control","./library","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/core/StaticArea","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","./FileUploaderHelper","sap/ui/dom/jquery/Aria"],(function(e,t,i,o,s,r,a,l,n,p,h,u,jQuery,d,f){var g=s.ValueState,c=t.FileUploaderHttpRequestMethod,y=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:!0},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:!1},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:!1},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:!1},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:!1},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:c.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:!1},useMultipart:{type:"boolean",group:"Behavior",defaultValue:!0},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:g.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:!0},iconOnly:{type:"boolean",group:"Appearance",defaultValue:!1},directory:{type:"boolean",group:"Behavior",defaultValue:!1}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:!0,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:!0,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:!1}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"string"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:l});return y.prototype.init=function(){var e=this;if(this.oFileUploaderHelper=f.getHelper(),this.oFilePath=this.oFileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){e.getWidth()&&e._resizeDomElements()}}),this.oBrowse=this.oFileUploaderHelper.createButton(this.getId()+"-fu_button"),this.oFilePath.setParent(this),this.oBrowse.setParent(this),this.oFileUpload=null,this.bMobileLib="sap.m.Button"==this.oBrowse.getMetadata().getName(),d.getAccessibility()){if(!y.prototype._sAccText){var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");y.prototype._sAccText=t.getText("FILEUPLOAD_ACC")}this.oBrowse.addAriaDescribedBy&&this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr"),this.oFilePath&&this.oFilePath.addAriaLabelledBy(o.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}this._submitAfterRendering=!1},y.prototype.setIcon=function(e){return this.oBrowse.setIcon(e),this.setProperty("icon",e,!1),this},y.prototype.setIconHovered=function(e){return this.setProperty("iconHovered",e,!1),this.oBrowse.setIconHovered&&this.oBrowse.setIconHovered(e),this},y.prototype.setIconSelected=function(e){return this.setProperty("iconSelected",e,!1),this.oBrowse.setIconSelected?this.oBrowse.setIconSelected(e):this.oBrowse.setActiveIcon(e),this},y.prototype.setIconFirst=function(e){return this.oBrowse.setIconFirst(e),this.setProperty("iconFirst",e,!1),this},y.prototype.getIdForLabel=function(){return this.oBrowse.getId()},y.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),o=i.getReferencingLabels(this);return t&&o.forEach((function(i){-1===t.indexOf(i)&&e.addAriaLabelledBy(i)})),this},y.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);return this.setProperty("fileType",t,!1),this._rerenderInputField(),this},y.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);return this.setProperty("mimeType",t,!1),this._rerenderInputField(),this},y.prototype.setMultiple=function(e){return this.setProperty("multiple",e,!1),this._rerenderInputField(),this},y.prototype.setDirectory=function(e){return this.setProperty("directory",e,!1),this._rerenderInputField(),this},y.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;if(this._clearInputField(),this._prepareFileUpload(),void 0===this.oFileUpload)return;if(null===this.oFileUpload)return;jQuery(this.oFileUpload).on("change",this.handlechange.bind(this)),this.oFileUpload.files=e,this._cacheDOMEls()}},y.prototype.setTooltip=function(t){var i;return e.prototype.setTooltip.call(this,t),this.oFileUpload&&((i=this.getTooltip_AsString())?this.oFileUpload.setAttribute("title",i):this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())),this},y.prototype.addAriaLabelledBy=function(e){return this.addAssociation("ariaLabelledBy",e),this.oBrowse.addAriaLabelledBy(e),this},y.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);if(t)return this.oBrowse.removeAriaLabelledBy(t),t},y.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();return e.forEach(function(e){t.indexOf(e)>=0&&this.oBrowse.removeAriaLabelledBy(e)}.bind(this)),e},y.prototype.addAriaDescribedBy=function(e){return this.addAssociation("ariaDescribedBy",e),this.oBrowse.addAriaDescribedBy(e),this},y.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);if(t)return this.oBrowse.removeAriaDescribedBy(t),t},y.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();return e.forEach(function(e){t.indexOf(e)>=0&&this.oBrowse.removeAriaDescribedBy(e)}.bind(this)),e},y.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),o=this.getValue(),s="";return i.isRequired(this)&&(s+=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "),e&&(s+=e+" "),o?s+=o+" ":t&&(s+=t+" "),s+=this._sAccText},y.prototype._convertTypesToArray=function(e){return"string"==typeof e?""===e?[]:e.split(",").map((function(e){return e.trim()})):e},y.prototype.exit=function(){this.oFilePath.destroy(),this.oBrowse.destroy(),this.oIFrameRef&&(jQuery(this.oIFrameRef).off(),r.getDomRef().removeChild(this.oIFrameRef),this.oIFrameRef=null),this.oFileUpload&&this._clearInputField(),this.FUEl&&(this.FUEl=null),this.FUDataEl&&(this.FUDataEl=null)},y.prototype._clearInputField=function(){jQuery(this.oFileUpload).off(),this.oFileUpload.parentElement.removeChild(this.oFileUpload),this.oFileUpload=null},y.prototype.onBeforeRendering=function(){var e=r.getDomRef();jQuery(this.oFileUpload).appendTo(e),this.getName()||h.warning("Name property is not set. Id would be used instead to identify the control on the server.",this),jQuery(this.oFileUpload).off(),this.getIconOnly()&&this.getButtonOnly()?(this.oBrowse.setText(""),this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())):this.getIconOnly()?(this.oBrowse.setText(""),this.oBrowse.setTooltip(this.getBrowseText())):(this.oBrowse.setText(this.getButtonText()||this.getBrowseText()),this.oBrowse.setTooltip("")),this.oFilePath.setPlaceholder(this.getPlaceholder())},y.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame(),this._cacheDOMEls(),this._addLabelFeaturesToBrowse(),jQuery(this.oFileUpload).on("change",this.handlechange.bind(this)),this.bMobileLib?this.oFilePath.$().find("input").attr("tabindex","-1"):this.oFilePath.$().attr("tabindex","-1"),setTimeout(this._recalculateWidth.bind(this),0),this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite"),this._submitAfterRendering&&(this._submitAndResetValue(),this._submitAfterRendering=!1)},y.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu"),this.FUDataEl=this.getDomRef("fu_data")},y.prototype.onfocusin=function(e){this.oFilePath.shouldValueStateMessageBeOpened&&!this.oFilePath.shouldValueStateMessageBeOpened()||this.openValueStateMessage()},y.prototype.onsapfocusleave=function(e){e.relatedControlId&&n(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())||this.closeValueStateMessage()},y.prototype._recalculateWidth=function(){this.getWidth()&&(this.getButtonOnly()&&this.oBrowse.getDomRef()&&(this.oBrowse.getDomRef().style.width=this.getWidth()),this._resizeDomElements())},y.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()},y.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=jQuery(this._oBrowseDomRef),i=t.parent().outerWidth(!0);this._oFilePathDomRef=this.oFilePath.getDomRef();var o=this._oFilePathDomRef,s=this.getWidth();if("%"==s.substr(-1)&&o){for(;o.id!=e;)o.style.width="100%",o=o.parentNode;o.style.width=s}else if(o){o.style.width=s;var r=jQuery(this._oFilePathDomRef).outerWidth()-i;r<0?(this.oFilePath.getDomRef().style.width="0px",this.oFileUpload&&(this.oFileUpload.style.width=t.outerWidth(!0))):this.oFilePath.getDomRef().style.width=r+"px"}},y.prototype.onresize=function(){this._recalculateWidth()},y.prototype.onThemeChanged=function(){this._recalculateWidth()},y.prototype.setEnabled=function(e){var t=jQuery(this.oFileUpload);return this.setProperty("enabled",e,!1),this.oFilePath.setEnabled(e),this.oBrowse.setEnabled(e),this.getEnabled()?t.removeAttr("disabled"):t.attr("disabled","disabled"),this},y.prototype.setValueState=function(e){this.setProperty("valueState",e,!1),this.oFilePath.setValueState?this.oFilePath.setValueState(e):h.warning("Setting the valueState property with the combination of libraries used is not supported.",this);var t=n(this.getDomRef(),document.activeElement);switch(e){case g.Error:case g.Warning:case g.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr"),t&&this.openValueStateMessage();break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr"),t&&this.closeValueStateMessage()}return this},y.prototype.setValueStateText=function(e){return this.oFilePath.setValueStateText?this.oFilePath.setValueStateText(e):h.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this),this.setProperty("valueStateText",e,!1)},y.prototype.setStyle=function(e){return this.setProperty("style",e,!0),e&&("Transparent"==e?this.oBrowse.setLite?this.oBrowse.setLite(!0):this.oBrowse.setType("Transparent"):this.oBrowse.setType?this.oBrowse.setType(e):("Emphasized"==e&&(e="Emph"),this.oBrowse.setStyle(e))),this},y.prototype.setValue=function(e,t,i){var o;if(this.getValue()!=e||this.getSameFilenameAllowed()){var s=this.getUploadOnChange()&&e;this.setProperty("value",e,s),this.oFileUpload&&!this.getTooltip_AsString()&&this.oFileUpload.setAttribute("title",e||this._getNoFileChosenText()),this.oFilePath&&(this.oFilePath.setValue(e),this.oBrowse.getDomRef()&&!i&&n(this.getDomRef(),document.activeElement)&&this.oBrowse.focus());var r=this.getDomRef("fu_form"),a=this.getDomRef("fu_input-inner");this.oFileUpload&&r&&!e&&(r.reset(),this.getDomRef("fu_input").value="",a&&(a.value=""),jQuery(this.FUDataEl).val(this.getAdditionalData())),t&&(window.File&&(o=this.FUEl.files),this.getSameFilenameAllowed()&&!e||this.fireChange({id:this.getId(),newValue:e,files:o})),s&&this.upload()}return this},y.prototype.clear=function(){var e=this.getDomRef("fu_form");return e&&e.reset(),this.setValue("",!1,!0)},y.prototype.openFilePicker=function(){return this.oFileUpload&&this.oFileUpload.click(),this},y.prototype.getInputReference=function(){return this.oFileUpload},y.prototype.onmousedown=function(e){this.bMobileLib||this.oBrowse.onmousedown(e)},y.prototype.onmouseup=function(e){this.bMobileLib||this.oBrowse.onmouseup(e)},y.prototype.onmouseover=function(e){this.bMobileLib||(jQuery(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover"),this.oBrowse.onmouseover(e))},y.prototype.onmouseout=function(e){this.bMobileLib||(jQuery(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover"),this.oBrowse.onmouseout(e))},y.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,!0);var t=this.FUDataEl;return t&&(e=this.getAdditionalData()||"",t.value=e),this},y.prototype.sendFiles=function(e,t){for(var i=this,o=!0,s=0;s<e.length;s++)if(!e[s].bPosted){o=!1;break}if(o)this.getSameFilenameAllowed()&&this.getUploadOnChange()&&i.setValue("",!0);else{var r=e[t],a=r.file.name?r.file.name:"MultipartFile",l=r.requestHeaders;r.xhr.upload.addEventListener("progress",(function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})})),r.xhr.onreadystatechange=function(){var e,t,o,s,n,p,h={};p=r.xhr.readyState;var u=r.xhr.status;if(4==r.xhr.readyState){if(r.xhr.responseXML&&(e=r.xhr.responseXML.documentElement.textContent),t=r.xhr.response,o=r.xhr.getAllResponseHeaders()){s=o.split("\r\n");for(var d=0;d<s.length;d++)s[d]&&(n=s[d].indexOf(": "),h[s[d].substring(0,n)]=s[d].substring(n+2))}i.fireUploadComplete({fileName:a,headers:h,response:e,responseRaw:t,readyStateXHR:p,status:u,requestHeaders:l})}i._bUploading=!1},0===r.xhr.readyState||r.bPosted?(t++,i.sendFiles(e,t)):(r.xhr.send(r.file),r.bPosted=!0,t++,i.sendFiles(e,t))}},y.prototype.upload=function(e){var t;if(this.getEnabled()){var i=this?.oFileUpload?.files?.length||0;if(void 0!==window?.oU4A&&i>0)return this.fireUploadStart(),this.fireUploadComplete(),void this._resetValueAfterUploadStart();t=this.getDomRef("fu_form");try{if(this._bUploading=!0,this.getSendXHR()&&window.File){var o=this.FUEl.files;e?this._sendProcessedFilesWithXHR(o):this._sendFilesWithXHR(o)}else t&&(t.getAttribute("action")!==this.getUploadUrl()?this._submitAfterRendering=!0:this._submitAndResetValue())}catch(e){h.error("File upload failed:\n"+e.message)}}},y.prototype._u4aCollectFiles=function(e){void 0!==window?.oU4A?.comm&&oU4A.comm.get("collectUploadFiles")(this?.oFileUpload?.files,e)},y.prototype._u4aClearFiles=function(){!0!==this.getUploadOnChange()&&this.setValue()},y.prototype._submitAndResetValue=function(){this.getDomRef("fu_form").submit(),this.fireUploadStart(),this._resetValueAfterUploadStart()},y.prototype.abort=function(e,t){if(this.getUseMultipart())this._uploadXHR&&this._uploadXHR.abort&&(this._uploadXHR.abort(),this.fireUploadAborted({fileName:null,requestHeaders:null}),h.info("File upload aborted."));else for(var i=this._aXhr.length-1;i>-1;i--)if(e&&t)for(var o=0;o<this._aXhr[i].requestHeaders.length;o++){var s=this._aXhr[i].requestHeaders[o].name,r=this._aXhr[i].requestHeaders[o].value;if(s==e&&r==t){this._aXhr[i].xhr.abort(),this.fireUploadAborted({fileName:this._aXhr[i].fileName,requestHeaders:this._aXhr[i].requestHeaders}),this._aXhr.splice(i,1),h.info("File upload aborted.");break}}else this._aXhr[i].xhr.abort(),this.fireUploadAborted({fileName:this._aXhr[i].fileName,requestHeaders:this._aXhr[i].requestHeaders}),this._aXhr.splice(i,1),h.info("File upload aborted.")},y.prototype.onclick=function(e){this.getSameFilenameAllowed()&&this.getEnabled()&&this.setValue("",!0),this.oBrowse.getDomRef()&&(a.browser.safari||n(this.getDomRef(),document.activeElement))&&this.oBrowse.focus(),"file"===e.target.getAttribute("type")&&(this.fireBeforeDialogOpen(),document.body.onfocus=function(){this.fireAfterDialogClose(),document.body.onfocus=null}.bind(this))},y.prototype.onkeydown=function(e){this.getEnabled()&&(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.setValue("",!0),e.keyCode===p.ENTER&&this.oFileUpload&&(this.oFileUpload.click(),e.preventDefault(),e.stopPropagation()),this.oBrowse._bPressedSpace=!1)},y.prototype.onkeyup=function(e){if(this.getEnabled()){this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.setValue("",!0);var t=e.keyCode,i=p;t===i.DELETE||t===i.BACKSPACE?this.oFileUpload&&this.setValue("",!0):t===i.SPACE?(this.oFileUpload.click(),e.preventDefault(),e.stopPropagation()):t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN&&(e.preventDefault(),e.stopPropagation()),this.oBrowse._bPressedSpace=!1}},y.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();return 0!==t&&e.length>t&&(h.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters."),!0)},y.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t,i,o,s,r=this.getFileType(),l="",n=this.getDomRef("fu_form");if(window.File){var p=e.target.files;if(!this._areFilesAllowed(p))return n.reset(),void this.setValue("",!0,!0);this.fireFileAllowed(),l=this._generateInputValue(p)}else if(r&&r.length>0){t=!0,s=-1===(o=(i=this.oFileUpload.value||"").lastIndexOf("."))?"":i.substring(o+1);for(var u=0;u<r.length;u++)s==r[u]&&(t=!1);if(t)return h.info("File: "+i+" is of type "+s+". Allowed types are: "+r+"."),this.fireTypeMissmatch({fileName:i,fileType:s}),n.reset(),void this.setValue("",!0,!0);if(this._isFilenameTooLong(i))return this.fireFilenameLengthExceed({fileName:i}),n.reset(),void this.setValue("",!0,!0);i&&this.fireFileAllowed()}var d=this.oFileUpload.value||"",f=d.lastIndexOf("\\");f>=0&&(d=d.substring(f+1)),(this.getMultiple()||this.getDirectory())&&(d=l),(d||a.browser.chrome)&&this.setValue(d,!0)}},y.prototype._sendFilesWithXHR=function(e){var t,i,o,s,r=this.getXhrSettings();if(e.length>0){t=this.getUseMultipart()?1:e.length,this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){if(this._uploadXHR=new window.XMLHttpRequest,s={xhr:this._uploadXHR,requestHeaders:[]},this._aXhr.push(s),s.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),!0),r&&(s.xhr.withCredentials=r.getWithCredentials()),this.getHeaderParameters())for(var l=this.getHeaderParameters(),n=0;n<l.length;n++)i=l[n].getName(),o=l[n].getValue(),s.requestHeaders.push({name:i,value:o});var p=e[a].name,h=s.requestHeaders;s.fileName=p,s.file=e[a],this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length&&0!==s.xhr.readyState;u++)i=h[u].name,o=h[u].value,s.xhr.setRequestHeader(i,o)}if(this.getUseMultipart()){for(var d=new window.FormData,f=this.FUEl.name,g=0;g<e.length;g++)this._appendFileToFormData(d,f,e[g]);d.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();d.append(c,y)}else d.append(c,"");if(this.getParameters())for(var m=this.getParameters(),F=0;F<m.length;F++){var b=m[F].getName();o=m[F].getValue(),d.append(b,o)}s.file=d,this.sendFiles(this._aXhr,0)}else this.sendFiles(this._aXhr,0);this._bUploading=!1,this._resetValueAfterUploadStart()}return this},y.prototype._appendFileToFormData=function(e,t,i){i instanceof window.Blob&&i.name?e.append(t,i,i.name):e.append(t,i)},y.prototype._sendProcessedFilesWithXHR=function(e){return this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch((function(e){h.error(e.message?e.message:"no details available")})),this},y.prototype._areFilesAllowed=function(e){for(var t,i,o,s,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType(),p=0;p<e.length;p++){t=e[p].name,r=e[p].type||"unknown";var u=e[p].size/1024/1024;if(a&&u>a)return h.info("File: "+t+" is of size "+u+" MB which exceeds the file size limit of "+a+" MB."),this.fireFileSizeExceed({fileName:t,fileSize:u}),!1;if(0===u&&(h.info("File: "+t+" is empty!"),this.fireFileEmpty({fileName:t})),this._isFilenameTooLong(t))return this.fireFilenameLengthExceed({fileName:t}),!1;if(l&&l.length>0){for(var d=!0,f=0;f<l.length;f++)(r==l[f]||"*/*"==l[f]||r.match(l[f]))&&(d=!1);if(d)return h.info("File: "+t+" is of type "+r+". Allowed types are: "+l+"."),this.fireTypeMissmatch({fileName:t,mimeType:r}),!1}if(n&&n.length>0){i=!0,s=-1===(o=t.lastIndexOf("."))?"":t.substring(o+1);for(var g=0;g<n.length;g++)s.toLowerCase()==n[g].toLowerCase()&&(i=!1);if(i)return h.info("File: "+t+" is of type "+s+". Allowed types are: "+n+"."),this.fireTypeMissmatch({fileName:t,fileType:s}),!1}}return!0},y.prototype._sendFilesFromDragAndDrop=function(e){return this._areFilesAllowed(e)&&this._sendFilesWithXHR(e),this},y.prototype._generateInputValue=function(e){for(var t="",i=0;i<e.length;i++)t=t+'"'+e[i].name+'" ';return t},y.prototype.getBrowseText=function(){if(!y.prototype._sBrowseText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");y.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return y.prototype._sBrowseText?y.prototype._sBrowseText:"Browse..."},y.prototype._getNoFileChosenText=function(){if(!y.prototype._sNoFileChosenText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");y.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return y.prototype._sNoFileChosenText?y.prototype._sNoFileChosenText:"No file chosen"},y.prototype.getShortenValue=function(){return this.getValue()},y.prototype.prepareFileUploadAndIFrame=function(){if(this._prepareFileUpload(),!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none",e.id=this.getId()+"-frame",r.getDomRef().appendChild(e),e.contentWindow.name=this.getId()+"-frame",this._bUploading=!1,jQuery(e).on("load",function(e){if(this._bUploading){var t;h.info("File uploaded to "+this.getUploadUrl());try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t}),this._bUploading=!1}}.bind(this)),this.oIFrameRef=e}},y.prototype._prepareFileUpload=function(){if(this.oFileUpload)jQuery(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"));else{var e=[];if(e.push("<input "),e.push('type="file" '),e.push('aria-hidden="true" '),this.getName()?this.getMultiple()||this.getDirectory()?e.push('name="'+u(this.getName())+'[]" '):e.push('name="'+u(this.getName())+'" '):this.getMultiple()||this.getDirectory()?e.push('name="'+this.getId()+'[]" '):e.push('name="'+this.getId()+'" '),e.push('id="'+this.getId()+'-fu" '),e.push('tabindex="-1" '),e.push('size="1" '),this.getTooltip_AsString()?e.push('title="'+u(this.getTooltip_AsString())+'" '):e.push('title="'+u(this.getValue()?this.getValue():this._getNoFileChosenText())+'" '),this.getEnabled()||e.push('disabled="disabled" '),this.getDirectory()&&e.push("webkitdirectory "),this.getMultiple()&&e.push("multiple "),(this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+u(t)+'" ')}e.push(">"),this.oFileUpload=jQuery(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}},y.prototype.openValueStateMessage=function(){this.oFilePath.openValueStateMessage&&this.oFilePath.openValueStateMessage()},y.prototype.closeValueStateMessage=function(){this.oFilePath.closeValueStateMessage&&this.oFilePath.closeValueStateMessage()},y.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];return(t=t.map((function(e){return 0===e.indexOf(".")?e:"."+e}))).concat(e).join(",")},y.prototype._resetValueAfterUploadStart=function(){h.info("File uploading to "+this.getUploadUrl()),this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()&&this.setValue("",!0)},y.prototype._addLabelFeaturesToBrowse=function(){var e;this.oBrowse&&this.oBrowse.$().length&&((e=this.oBrowse.$()).attr("type', 'button"),e.off("click").on("click",(e=>{e.preventDefault(),e.stopPropagation(),this.FUEl.click()})),e.off("dragover").on("dragover",(e=>{e.preventDefault(),e.stopPropagation()})),e.off("dragenter").on("dragenter",(e=>{e.preventDefault(),e.stopPropagation()})),e.off("drop").on("drop",(e=>{e.preventDefault(),e.stopPropagation();var t=e.originalEvent.dataTransfer.files;if(!(!this.getMultiple()&&t.length>1||this.getDirectory())){this.oFileUpload.files=t;var i={target:{files:t}};this.handlechange(i)}})))},y.prototype.getProcessedBlobsFromArray=function(e){return new Promise((function(t){t(e)}))},y.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;window.File&&this.FUEl&&this.FUEl.files.length?((i=new FileReader).readAsArrayBuffer(this.FUEl.files[0].slice(0,1)),i.onload=function(){e()},i.onerror=function(){t(i.error)}):e()}.bind(this))},y}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHelper", ["sap/ui/core/Lib"],function(t){"use strict";var e={createTextField:function(t){var e=new sap.m.Input(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.m.Button(t);return e},addFormClass:function(){return"sapUiFUM"}};var n={createTextField:function(t){var e=new sap.ui.commons.TextField(t);return e},setTextFieldContent:function(t,e){t.setWidth(e)},createButton:function(t){var e=new sap.ui.commons.Button(t);return e},addFormClass:function(){return"sapUiCFUM"}};var r={createTextField:function(t){throw new Error("no TextField control available!")},createTextFieldContent:function(t,e){throw new Error("no TextField control available!")},createButton:function(t){throw new Error("no Button control available!")},addFormClass:function(){return null}};var o={getHelper:function(){if(t.isLoaded("sap.m")){return e}else if(t.isLoaded("sap.ui.unified")){return n}return r}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderHttpRequestMethod", [],function(){"use strict";var t={Post:"POST",Put:"PUT"};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter", ["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer", ["sap/ui/unified/library","sap/ui/thirdparty/jquery","./FileUploaderHelper"],function(t,jQuery,e){"use strict";var a={};a.apiVersion=2;a.render=function(t,a){var r=a.getEnabled();var n=e.getHelper();t.openStart("div",a);t.class("sapUiFup");if(a.getButtonOnly()){t.class("sapUiFupButtonOnly")}var i=n.addFormClass();if(i){t.class(i)}if(!r){t.class("sapUiFupDisabled")}t.openEnd();t.openStart("form",a.getId()+"-fu_form");t.style("display","inline-block");t.attr("enctype","multipart/form-data");t.attr("method",a.getHttpRequestMethod().toLowerCase());t.attr("action",a.getUploadUrl());t.attr("target",a.getId()+"-frame");t.openEnd();t.openStart("div");if(!a.bMobileLib){t.class("sapUiFupInp")}t.openEnd();t.openStart("div");t.class("sapUiFupGroup");t.style("border","0");t.style("cellPadding","0");t.style("cellSpacing","0");t.openEnd();t.openStart("div");t.openEnd();t.openStart("div");if(a.getButtonOnly()){t.style("display","none")}t.openEnd();t.renderControl(a.oFilePath);t.close("div");t.openStart("div");t.openEnd();a._ensureBackwardsReference();t.renderControl(a.oBrowse);t.openStart("span",a.getId()+"-AccDescr");t.class("sapUiInvisibleText");t.attr("aria-hidden","true");t.openEnd();t.text(a._generateAccDescriptionText());t.close("span");t.close("div");t.close("div");t.close("div");var d=a.getName()||a.getId();t.openStart("div");t.class("sapUiFupInputMask");t.openEnd();t.voidStart("input");t.attr("type","hidden");t.attr("name","_charset_");t.attr("aria-hidden","true");t.voidEnd();t.voidStart("input",a.getId()+"-fu_data");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",d+"-data");t.attr("value",a.getAdditionalData()||"");t.voidEnd();jQuery.each(a.getParameters(),function(e,a){t.voidStart("input");t.attr("type","hidden");t.attr("aria-hidden","true");t.attr("name",a.getName()||"");t.attr("value",a.getValue()||"");t.voidEnd()});t.close("div");t.close("div");t.close("form");t.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderXHRSettings", ["sap/ui/core/Element","./library"],function(e){"use strict";var a=e.extend("sap.ui.unified.FileUploaderXHRSettings",{metadata:{library:"sap.ui.unified",properties:{withCredentials:{type:"boolean",group:"Data",defaultValue:false}}}});return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu", ["sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./library","sap/ui/core/library","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave","sap/ui/core/Configuration"],(function(e,t,o,i,n,s,r,p,u,jQuery,a,h,d,l,g,c){"use strict";var f=i.Dock,m=r.OpenState,y=t.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:!0},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:!0},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:!0,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:!0,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}},renderer:p});return function(s){function r(e){return!!e&&(e=e.$?e.$():jQuery(e)).closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy")}function v(e,t){var o=e.getParent();o&&o instanceof n&&o.onSubmenuToggle(t)}function b(e){var t=e.getMaxVisibleItems(),o=document.documentElement.clientHeight-10,i=e.$();if(t>0)for(var n=e.getItems(),s=0;s<n.length;s++)if(n[s].getDomRef()){o=Math.min(o,n[s].$().outerHeight(!0)*t);break}i.outerHeight(!0)>o?i.css("max-height",o+"px").toggleClass("sapUiMnuScroll",!0):i.css("max-height","").toggleClass("sapUiMnuScroll",!1)}y.prototype.bCozySupported=!0,y._DELAY_SUBMENU_TIMER=300,y._DELAY_SUBMENU_TIMER_EXT=400,y.prototype.init=function(){var e=this;this.bOpen=!1,this.oOpenedSubMenu=null,this.oHoveredItem=null,this.oPopup=null,this._bOpenedAsContextMenu=!1,this.fAnyEventHandlerProxy=jQuery.proxy((function(e){var t=this.getRootMenu();t==this&&this.isOpen()&&this.getDomRef()&&("mousedown"==e.type||"touchstart"==e.type)&&t.handleOuterEvent(this.getId(),e)}),this),this.fOrientationChangeHandler=function(){e.close()},this.bUseTopStyle=!1},y.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e},y.prototype.enhanceAccessibilityState=function(e,t){"function"==typeof this._fnCustomEnhanceAccStateFunction&&this._fnCustomEnhanceAccStateFunction(e,t)},y.prototype.exit=function(){this.oPopup&&(this.oPopup.detachClosed(this._menuClosed,this),this.oPopup.destroy(),delete this.oPopup),d.unbindAnyEvent(this.fAnyEventHandlerProxy),this._bOrientationChangeBound&&(jQuery(s).off("orientationchange",this.fOrientationChangeHandler),this._bOrientationChangeBound=!1),this._resetDelayedRerenderItems(),this._detachResizeHandler()},y.prototype.invalidate=function(e){e instanceof n&&this.getDomRef()?this._delayedRerenderItems():this.oPopup&&this.oPopup.isOpen()&&t.prototype.invalidate.apply(this,arguments)},y.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems(),this.$().off("mousemove")},y.prototype.onAfterRendering=function(){"sap-ui-static"!=this.$().parent().attr("id")&&(h.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page."),this.close(),this.$().remove());for(var e=this.getItems(),t=0;t<e.length;t++)e[t].onAfterRendering&&e[t].getDomRef()&&e[t].onAfterRendering();this.oHoveredItem&&this.oHoveredItem.hover(!0,this),b(this),this.$().on("mousemove",this._focusMenuItem.bind(this))},y.prototype._focusMenuItem=function(e){if(o.system.desktop){var t=this.getItemByDomRef(e.target);this.isOpen()&&t&&(this.oOpenedSubMenu&&u(this.oOpenedSubMenu.getDomRef(),e.target)||(this.setHoveredItem(t),t&&t.focus(this),this._openSubMenuDelayed(t)))}},y.prototype.onThemeChanged=function(){this.getDomRef()&&this.getPopup().getOpenState()===m.OPEN&&(b(this),this.getPopup()._applyPosition(this.getPopup()._oLastPosition))},y.prototype.addItem=function(e){return this.addAggregation("items",e,!!this.getDomRef()),this._delayedRerenderItems(),this},y.prototype.insertItem=function(e,t){return this.insertAggregation("items",e,t,!!this.getDomRef()),this._delayedRerenderItems(),this},y.prototype.removeItem=function(e){return this.removeAggregation("items",e,!!this.getDomRef()),this._delayedRerenderItems(),this},y.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());return this._delayedRerenderItems(),e},y.prototype.destroyItems=function(){return this.destroyAggregation("items",!!this.getDomRef()),this._delayedRerenderItems(),this},y.prototype._delayedRerenderItems=function(){this.getDomRef()&&(this._resetDelayedRerenderItems(),this._discardOpenSubMenuDelayed(),this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=sap.ui.getCore().createRenderManager();p.renderItems(t,this),t.flush(e),t.destroy(),this.onAfterRendering(),this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0))},y.prototype._resetDelayedRerenderItems=function(){this._itemRerenderTimer&&(clearTimeout(this._itemRerenderTimer),delete this._itemRerenderTimer)},y.prototype._detachResizeHandler=function(){this._hasResizeListener&&(o.resize.detachHandler(this._handleResizeChange,this),this._hasResizeListener=!1)},y.prototype.open=function(e,t,i,n,r,p,u){var a;this._bLeavingMenu=!1,this.isOpen()||(v(this,!0),this.oOpenerRef=t,this.bIgnoreOpenerDOMRef=!1,this.getPopup().open(0,i,n,r,p||"0 0",u||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(r);t&&jQuery(t).is(":visible")&&function(e){var t;if(!e)return!1;e instanceof jQuery&&(e=e.get(0));return(t=e.getBoundingClientRect()).top>=0&&t.left>=0&&t.bottom<=(s.innerHeight||document.documentElement.clientHeight)&&t.right<=(s.innerWidth||document.documentElement.clientWidth)}(t)?this.getPopup()._applyPosition(e.lastPosition):this.close()}.bind(this)),this.bOpen=this.getPopup().isOpen(),o.resize.attachHandler(this._handleResizeChange,this),this._hasResizeListener=!0,(e||this.getRootMenu().getId()===this.getId())&&(a=this.getNextSelectableItem(-1),this.setHoveredItem(a),a&&a.focus(this)),d.bindAnyEvent(this.fAnyEventHandlerProxy),o.support.orientation&&this.getRootMenu()===this&&(jQuery(s).on("orientationchange",this.fOrientationChangeHandler),this._bOrientationChangeBound=!0))},y.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)},y.prototype.openAsContextMenu=function(t,o){var i,n,s,r,p;o=o instanceof e?o.getDomRef():o,t instanceof jQuery.Event?(p=jQuery(o).offset(),i=t.pageX-p.left,n=t.pageY-p.top,this._iX=t.clientX,this._iY=t.clientY):(i=t.offsetX||0,n=t.offsetY||0,this._iX=t.left||0,this._iY=t.top||0),s=c.getRTL(),r=f,s&&(i=o.clientWidth-i),this._bOpenedAsContextMenu=!0,this.open(!0,o,r.BeginTop,r.BeginTop,o,i+" "+n,"fit")},y.prototype._handleOpened=function(){var e,t,o,i,n,r,p,u,a,h;this._bOpenedAsContextMenu&&(e=this.$(),t=jQuery(s),o=this._iX,i=this._iY,n=t.scrollLeft()+t.width(),r=t.scrollTop()+t.height(),p=c.getRTL(),u=!1,a=e.width(),i+(h=e.height())>r&&(i-=h,u=!0),p?n-o+a>n?(o=n-(o+a),u=!0):(o=n-o,u=!0):o+a>n&&(o-=a,u=!0),this._bOpenedAsContextMenu=!1,u&&this.oPopup.setPosition("begin top","begin top",t,o+" "+i,"flipfit"))},y.prototype.close=function(e){this.isOpen()&&!y._dbg&&(this._discardOpenSubMenuDelayed(),v(this,!1),delete this._bFixed,d.unbindAnyEvent(this.fAnyEventHandlerProxy),this._bOrientationChangeBound&&(jQuery(s).off("orientationchange",this.fOrientationChangeHandler),this._bOrientationChangeBound=!1),this.closeSubmenu(),this.setHoveredItem(),e||(this.bIgnoreOpenerDOMRef=!0),this.getPopup().close(0),this.bOpen=this.getPopup().isOpen(),this._detachResizeHandler(),this._resetDelayedRerenderItems(),this.$().remove(),this.bOutput=!1,this.isSubMenu()&&(this.getParent().getParent().oOpenedSubMenu=null))},y.prototype.isOpen=function(){return this.getPopup().isOpen()},y.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef)try{this.oOpenerRef.focus()}catch(e){h.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}this.oOpenerRef=void 0}},y.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),!1,!(!e.metaKey&&!e.ctrlKey)),e.preventDefault(),e.stopPropagation()},y.prototype.onsapnext=function(e){var t,o,i=this.oHoveredItem?this.oHoveredItem.getSubmenu():void 0;e.keyCode===a.ARROW_DOWN||e.metaKey||e.altKey?(i&&i.isOpen()&&this.closeSubmenu(!1,!0),t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,o=this.getNextSelectableItem(t),this.setHoveredItem(o),o&&o.focus(this),e.metaKey||e.altKey||(e.preventDefault(),e.stopPropagation())):i&&(i.isOpen()?(o=i.getNextSelectableItem(-1),i.setHoveredItem(o),o&&o.focus(this)):this.openSubmenu(this.oHoveredItem,!0))},y.prototype.onsapnextmodifiers=y.prototype.onsapnext,y.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,o=this.getPreviousSelectableItem(t),i=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==a.ARROW_UP&&!e.metaKey&&!e.altKey)return this.isSubMenu()&&this.close(!0),e.preventDefault(),void e.stopPropagation();i&&i.isOpen()&&this.closeSubmenu(!1,!0),this.setHoveredItem(o),o&&o.focus(this),e.metaKey||e.altKey||(e.preventDefault(),e.stopPropagation())},y.prototype.onsappreviousmodifiers=y.prototype.onsapprevious,y.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t),t&&t.focus(this),e.preventDefault(),e.stopPropagation()},y.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this.getItems().length);this.setHoveredItem(t),t&&t.focus(this),e.preventDefault(),e.stopPropagation()},y.prototype.onsappagedown=function(e){var t,o=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;this.getPageSize()<1||(o+=this.getPageSize())>=this.getItems().length?this.onsapend(e):(t=this.getNextSelectableItem(o-1),this.setHoveredItem(t),t&&t.focus(this),e.preventDefault(),e.stopPropagation())},y.prototype.onsappageup=function(e){var t,o=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;this.getPageSize()<1||(o-=this.getPageSize())<0?this.onsaphome(e):(t=this.getPreviousSelectableItem(o+1),this.setHoveredItem(t),t&&t.focus(this),e.preventDefault(),e.stopPropagation())},y.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=!0,e.preventDefault(),e.stopPropagation()},y.prototype.onkeyup=function(e){if(this.oHoveredItem&&"INPUT"!=jQuery(e.target).prop("tagName")){var t=this.oHoveredItem.getDomRef();jQuery(t).trigger("focus")}!this._sapSelectOnKeyDown&&(e.key!==a.Space||!o.os.macintosh&&s.navigator.maxTouchPoints<=1)||(this._sapSelectOnKeyDown=!1,(l.events.sapselect.fnCheck(e)||"Enter"===e.key)&&(this.selectItem(this.oHoveredItem,!0,!1),e.preventDefault(),e.stopPropagation()))},y.prototype.onsapbackspace=function(e){"INPUT"!=jQuery(e.target).prop("tagName")&&e.preventDefault()},y.prototype.onsapbackspacemodifiers=y.prototype.onsapbackspace,y.prototype.onsapescape=function(e){this._bLeavingMenu=!0,this.close(!0),e.preventDefault(),e.stopPropagation()},y.prototype.onsaptabnext=function(e){this.isSubMenu()&&e.preventDefault(),this._bLeavingMenu=!0,this.close(!0),e.stopPropagation()},y.prototype.onsaptabprevious=y.prototype.onsaptabnext,y.prototype._openSubMenuDelayed=function(e){e&&(this._discardOpenSubMenuDelayed(),this._delayedSubMenuTimer=setTimeout(function(){e.getSubmenu()&&(this.setHoveredItem(e),e&&e.focus(this),this.openSubmenu(e,!1,!0))}.bind(this),e.getSubmenu()?y._DELAY_SUBMENU_TIMER:y._DELAY_SUBMENU_TIMER_EXT))},y.prototype._discardOpenSubMenuDelayed=function(e){this._delayedSubMenuTimer&&(clearTimeout(this._delayedSubMenuTimer),this._delayedSubMenuTimer=null)},y.prototype.onmouseout=function(e){o.system.desktop&&g(e,this.getDomRef())&&(this.setHoveredItem(null),this.oOpenedSubMenu&&this.oOpenedSubMenu.getParent()===this.oHoveredItem||this.setHoveredItem(this.oHoveredItem),this._discardOpenSubMenuDelayed())},y.prototype.onsapfocusleave=function(e){!this.oOpenedSubMenu&&this.isOpen()&&this.getRootMenu().handleOuterEvent(this.getId(),e)},y.prototype.handleOuterEvent=function(e,t){var i=!1,n=o.support.touch||o.system.combi;if(this.bIgnoreOpenerDOMRef=!1,"mousedown"==t.type||"touchstart"==t.type){if(n&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose")))return;for(var s=this;s&&!i;)u(s.getDomRef(),t.target)&&(i=!0),s=s.oOpenedSubMenu}else if("sapfocusleave"==t.type){if(n)return;if(t.relatedControlId)for(s=this;s&&!i;)(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||u(s.getDomRef(),jQuery(document.getElementById(t.relatedControlId)).get(0)))&&(i=!0),s=s.oOpenedSubMenu;i||(this.bIgnoreOpenerDOMRef=!0)}i||this.close()},y.prototype.getItemByDomRef=function(e){for(var t=this.getItems(),o=t.length,i=0;i<o;i++){var n=t[i],s=n.getDomRef();if(u(s,e))return n}return null},y.prototype.selectItem=function(e,t,i){if(e&&e instanceof n&&this.checkEnabled(e)){var s=e.getSubmenu();s?o.system.desktop||this.oOpenedSubMenu!==s?this.openSubmenu(e,t):this.closeSubmenu():this.getRootMenu().close(!0),e.fireSelect({item:e,ctrlKey:i}),this.getRootMenu().fireItemSelect({item:e})}},y.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof y},y.prototype.getRootMenu=function(){for(var e=this;e.isSubMenu();)e=e.getParent().getParent();return e},y.prototype.getMenuLevel=function(){for(var e=1,t=this;t.isSubMenu();)t=t.getParent().getParent(),e++;return e},y.prototype.getPopup=function(){return this.oPopup||(this.oPopup=new i(this,!1,!0,!1),this.oPopup.setDurations(0,0),this.oPopup.attachClosed(this._menuClosed,this),this.oPopup.attachOpened(this._handleOpened,this)),this.oPopup},y.prototype.setHoveredItem=function(e){this.oHoveredItem&&this.oHoveredItem.hover(!1,this),e?(this.oHoveredItem=e,e.hover(!0,this),this.scrollToItem(this.oHoveredItem)):this.oHoveredItem=null},y.prototype.openSubmenu=function(e,t,o){var n=e.getSubmenu();if(n&&this.checkEnabled(e))if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==n&&this.closeSubmenu(),this.oOpenedSubMenu)this.oOpenedSubMenu._bFixed=o&&this.oOpenedSubMenu._bFixed||!o&&!this.oOpenedSubMenu._bFixed,this.oOpenedSubMenu._bringToFront();else{this.oOpenedSubMenu=n;var s=i.Dock;n.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}},y.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed)return;t&&(this.oOpenedSubMenu.bIgnoreOpenerDOMRef=!0),this.oOpenedSubMenu.close(),this.oOpenedSubMenu=null}},y.prototype.scrollToItem=function(e){var t=this.getDomRef(),o=e?e.getDomRef():null;if(o&&t){var i=t.scrollTop,n=o.offsetTop,s=jQuery(t).height(),r=jQuery(o).height();i>n?t.scrollTop=n:n+r>i+s&&(t.scrollTop=Math.ceil(n+r-s))}},y.prototype._bringToFront=function(){jQuery(document.getElementById(this.getPopup().getId())).mousedown()},y.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()},y.prototype.getNextSelectableItem=function(e){for(var t=this.getItems(),o=t[e],i=e+1;i<t.length;i++)if(t[i].getVisible())return t[i];return o&&o.getVisible()?o:null},y.prototype.getPreviousSelectableItem=function(e){for(var t=this.getItems(),o=t[e],i=e-1;i>=0&&!(i<0);i--)if(t[i].getVisible())return t[i];return o&&o.getVisible()?o:null},y.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e,y.rerenderMenu(this.getRootMenu())},y.rerenderMenu=function(e){for(var t=e.getItems(),o=0;o<t.length;o++){var i=t[o].getSubmenu();i&&y.rerenderMenu(i)}e.invalidate(),e.rerender()},y.prototype.focus=function(){this.isOpen()&&t.prototype.focus.apply(this,arguments)},y.prototype.isCozy=function(){return!!this.bCozySupported&&(!!this.hasStyleClass("sapUiSizeCozy")||(!!r(this.oOpenerRef)||!!r(this.getParent())))}}(window),y}));
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem", ["sap/ui/core/IconPool","./MenuItemBase","./library","sap/ui/core/library"],function(e,t,i,s){"use strict";var a=t.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});e.insertFontFaceStyle();a.prototype.render=function(e,t,i,a){var n=e,o=t.getSubmenu(),p=t.getEnabled(),r;n.openStart("li",t);if(t.getVisible()){n.attr("tabindex","0")}n.class("sapUiMnuItm");if(a.iItemNo==1){n.class("sapUiMnuItmFirst")}else if(a.iItemNo==a.iTotalItems){n.class("sapUiMnuItmLast")}if(!i.checkEnabled(t)){n.class("sapUiMnuItmDsbl")}if(t.getStartsSection()){n.class("sapUiMnuItmSepBefore")}if(t.getTooltip_AsString()){n.attr("title",t.getTooltip_AsString())}if(a.bAccessible){n.accessibilityState(t,{role:"menuitem",disabled:!p,posinset:a.iItemNo,setsize:a.iTotalItems,labelledby:{value:this.getId()+"-txt",append:true}});if(o){n.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());n.attr("aria-owns",o.getId())}}n.openEnd();n.openStart("div");n.class("sapUiMnuItmL");n.openEnd();n.close("div");if(t.getIcon()&&t._getIcon){n.openStart("div");n.class("sapUiMnuItmIco");n.openEnd();r=t._getIcon(t);n.renderControl(r);n.close("div")}n.openStart("div",this.getId()+"-txt");n.class("sapUiMnuItmTxt");n.openEnd();n.text(t.getText());n.close("div");n.openStart("div",this.getId()+"-scuttxt");n.class("sapUiMnuItmSCut");n.openEnd();n.close("div");n.openStart("div");n.class("sapUiMnuItmSbMnu");n.openEnd();if(o){n.openStart("div");n.class("sapUiIconMirrorInRTL");n.openEnd();n.close("div")}n.close("div");n.openStart("div");n.class("sapUiMnuItmR");n.openEnd();n.close("div");n.close("li")};a.prototype.hover=function(e,t){this.$().toggleClass("sapUiMnuItmHov",e)};a.prototype.focus=function(e){if(this.getVisible()){this.$().trigger("focus")}else{e.focus()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase", ["sap/ui/core/Element","./library","sap/ui/core/IconPool","sap/m/Image"],function(e,t,o,n){"use strict";var i=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});i.prototype.init=function(){};i.prototype.render=function(e,t,o){var n=e;n.openStart("li",t);n.openEnd();n.openStart("div",this.getId()+"-txt");n.style("white-space","nowrap");n.style("display","inline-block");n.style("padding","1px");n.style("color","black");n.openEnd();n.text(t.getId());if(this.getSubmenu()){n.text("&nbsp;&nbsp;->")}n.close("div");n.close("li")};i.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};i.prototype.focus=function(){};i.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};i.prototype.onAfterRendering=function(){};i.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};i.prototype._getIcon=function(){return o.createControlByURI({src:this.getIcon(),useIconTooltip:false},n)};i.prototype.onsaphide=i.prototype.onsapshow;return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer", ["sap/ui/core/Configuration"],function(e){"use strict";var i={apiVersion:2};i.render=function(t,s){var n=e.getAccessibility(),o=s.getRootMenu();if(s.oHoveredItem&&s.indexOfItem(s.oHoveredItem)<0){s.oHoveredItem=null}t.openStart("div",s);t.attr("tabindex",-1);t.attr("hideFocus",true);if(s.getTooltip_AsString()){t.attr("title",s.getTooltip_AsString())}if(n){t.accessibilityState(s,{disabled:null})}t.class("sapUiMnu");if(s.isSubMenu()){t.class("sapUiSubmenu")}if(o.bUseTopStyle){t.class("sapUiMnuTop")}if(o.isCozy()){t.class("sapUiSizeCozy")}if(s.bCozySupported){t.class("sapUiMnuCozySupport")}t.openEnd();i.renderItems(t,s);t.close("div")};i.renderItems=function(i,t){var s=t.getItems(),n=e.getAccessibility(),o=false,r=false,a=0,l=0,u,c;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(u=0;u<s.length;u++){if(s[u].getIcon&&s[u].getIcon()){o=true}if(s[u].getSubmenu()){r=true}}if(!o){i.class("sapUiMnuNoIco")}if(!r){i.class("sapUiMnuNoSbMnu")}i.openEnd();a=0;for(u=0;u<s.length;u++){if(s[u].getVisible()&&s[u].render){a++}}for(u=0;u<s.length;u++){c=s[u];if(c.getVisible()&&c.render){l++;if(c.getStartsSection()){i.openStart("li");if(n){i.attr("role","separator")}i.class("sapUiMnuDiv");i.openEnd();i.openStart("div");i.class("sapUiMnuDivL");i.openEnd();i.close("div");i.voidStart("hr").voidEnd();i.openStart("div");i.class("sapUiMnuDivR");i.openEnd();i.close("div");i.close("li")}c.render(i,c,t,{bAccessible:n,iItemNo:l,iTotalItems:a})}}i.close("ul")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuTextFieldItem", ["sap/ui/core/ValueStateSupport","./MenuItemBase","./library","sap/ui/core/library","sap/ui/Device","sap/base/Log","sap/ui/events/PseudoEvents","sap/ui/core/InvisibleText","sap/ui/core/Core","sap/ui/core/Configuration","sap/ui/core/IconPool","sap/ui/dom/jquery/cursorPos"],function(t,e,i,s,o,a,n,r,p,u){"use strict";var l=s.ValueState;var c=e.extend("sap.ui.unified.MenuTextFieldItem",{metadata:{library:"sap.ui.unified",properties:{label:{type:"string",group:"Appearance",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},value:{type:"string",group:"Misc",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:l.None}}}});c.prototype.render=function(t,e,i,s){var o=t,a=i.checkEnabled(e),n=e.getId(),r;o.openStart("li",e);if(e.getVisible()){o.attr("tabindex","0")}o.class("sapUiMnuItm").class("sapUiMnuTfItm");if(s.iItemNo==1){o.class("sapUiMnuItmFirst")}else if(s.iItemNo==s.iTotalItems){o.class("sapUiMnuItmLast")}if(!i.checkEnabled(e)){o.class("sapUiMnuItmDsbl")}if(e.getStartsSection()){o.class("sapUiMnuItmSepBefore")}if(s.bAccessible){o.attr("role","menuitem");o.attr("aria-posinset",s.iItemNo);o.attr("aria-setsize",s.iTotalItems);o.attr("aria-disabled",!a)}o.openEnd();o.openStart("div").class("sapUiMnuItmL").openEnd().close("div");if(e.getIcon()){o.openStart("div").class("sapUiMnuItmIco").openEnd();r=e._getIcon(e);o.renderControl(r);o.close("div")}o.openStart("div",n+"-txt").class("sapUiMnuItmTxt").openEnd();o.openStart("label",n+"-lbl").class("sapUiMnuTfItemLbl").openEnd();o.text(e.getLabel());o.close("label");o.openStart("div",n+"-str").class("sapUiMnuTfItmStretch").openEnd().close("div");o.openStart("div").class("sapUiMnuTfItemWrppr").openEnd();o.voidStart("input",n+"-tf").attr("tabindex","-1");o.attr("role","textbox");if(e.getValue()){o.attr("value",e.getValue())}o.class("sapUiMnuTfItemTf").class(a?"sapUiMnuTfItemTfEnbl":"sapUiMnuTfItemTfDsbl");if(!a){o.attr("disabled","disabled")}if(s.bAccessible){o.accessibilityState(e,{disabled:null,describedby:e._fnInvisibleDescriptionFactory(s).getId(),labelledby:n+"-lbl"})}o.voidEnd().close("div").close("div");o.openStart("div").class("sapUiMnuItmR").openEnd().close("div");o.close("li")};c.prototype.exit=function(){if(this._invisibleDescription){this._fnInvisibleDescriptionFactory().destroy();this._invisibleDescription=null}};c.prototype.hover=function(t,e){this.$().toggleClass("sapUiMnuItmHov",t);if(t){e.closeSubmenu(false,true)}};c.prototype.focus=function(t){if(this.getVisible()&&this.getEnabled()){this.$("tf").get(0).focus()}else{this.$().trigger("focus")}};c.prototype.onAfterRendering=function(){this._adaptSizes();this.setValueState(this.getValueState())};c.prototype.onsapup=function(t){this.getParent().onsapprevious(t)};c.prototype.onsapdown=function(t){this.getParent().onsapnext(t)};c.prototype.onsaphome=function(t){if(this._checkCursorPosForNav(false)){this.getParent().onsaphome(t)}};c.prototype.onsapend=function(t){if(this._checkCursorPosForNav(true)){this.getParent().onsapend(t)}};c.prototype.onsappageup=function(t){this.getParent().onsappageup(t)};c.prototype.onsappagedown=function(t){this.getParent().onsappagedown(t)};c.prototype.onsapescape=function(t){this.getParent().onsapescape(t)};c.prototype.onkeydown=function(t){t.stopPropagation()};c.prototype.onclick=function(t){this.getParent().closeSubmenu(false,true);if(!o.system.desktop){this.focus()}t.stopPropagation()};c.prototype.onkeyup=function(t){if(!n.events.sapenter.fnCheck(t)&&t.key!=="Enter"){return}var e=this.$("tf").val();this.setValue(e);this.getParent().selectItem(this);t.preventDefault();t.stopPropagation()};c.prototype.setSubmenu=function(t){a.warning("The aggregation 'submenu' is not supported for this type of menu item.","","sap.ui.unified.MenuTextFieldItem");return this};c.prototype.setLabel=function(t){this.setProperty("label",t,true);this.$("lbl").text(t);this._adaptSizes();return this};c.prototype.setValue=function(t){this.setProperty("value",t,true);this.$("tf").val(t);return this};c.prototype.setValueState=function(e){this.setProperty("valueState",e,true);var i=this.$("tf");i.toggleClass("sapUiMnuTfItemTfErr",e==l.Error);i.toggleClass("sapUiMnuTfItemTfWarn",e==l.Warning);var s=t.enrichTooltip(this,this.getTooltip_AsString());if(s){this.$().attr("title",s)}return this};c.prototype.getFocusDomRef=function(){var t=this.$("tf");return t.length?t.get(0):null};c.prototype._adaptSizes=function(){var t=this.$("tf");var e=this.$("lbl");var i=e.length?e.get(0).offsetLeft:0;if(p.getConfiguration().getRTL()){t.parent().css({width:"auto",right:this.$().outerWidth(true)-i+(e.outerWidth(true)-e.outerWidth())+"px"})}else{t.parent().css({width:"auto",left:i+e.outerWidth(true)+"px"})}};c.prototype._checkCursorPosForNav=function(t){var e=u.getRTL();var i=t?e:!e;var s=this.$("tf");var o=s.cursorPos();var a=s.val().length;if(e){o=a-o}if(!i&&o!=a||i&&o!=0){return false}return true};c.prototype._fnInvisibleDescriptionFactory=function(t){var e,i,s;if(!this._invisibleDescription){s=p.getLibraryResourceBundle("sap.ui.unified");e=s.getText("UNIFIED_MENU_ITEM_COUNT_TEXT",[t.iItemNo,t.iTotalItems]);i=s.getText("UNIFIED_MENU_ITEM_HINT_TEXT");this._invisibleDescription=new r({text:e+" "+i}).toStatic()}return this._invisibleDescription};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Shell", ["./ShellHeader","./ShellLayout","./library","./ShellRenderer"],function(e,t,r,a){"use strict";var i=t.extend("sap.ui.unified.Shell",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},showCurtain:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},showCurtainPane:{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},searchVisible:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{curtainContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainContent"},curtainPaneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"curtainPaneContent"},headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headItem",forwarding:{idSuffix:"-header",aggregation:"headItems"}},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headEndItem",forwarding:{idSuffix:"-header",aggregation:"headEndItems"}},search:{type:"sap.ui.core.Control",multiple:false,forwarding:{idSuffix:"-header",aggregation:"search"}},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false,forwarding:{idSuffix:"-header",aggregation:"user"}}}},renderer:a});i.prototype.init=function(){t.prototype.init.apply(this,arguments);this._header=new e(this.getId()+"-header");this.setHeader(this._header)};i.prototype.exit=function(){t.prototype.exit.apply(this,arguments);this._header.destroy();delete this._header};i.prototype._getSearchWidth=function(){if(this._header===this.getHeader()&&this._header.getDomRef()){var e=this._header.$("hdr-center").children();if(e.length){return e.width()}}return-1};i.prototype.setIcon=function(e){this.setProperty("icon",e,true);this._header.setLogo(e);return this};i.prototype.getIcon=function(){return this._header.getLogo()};i.prototype.setSearchVisible=function(e){this.setProperty("searchVisible",e,true);this._header.setSearchVisible(e);return this};i.prototype.getSearchVisible=function(){return this._header.getSearchVisible()};i.prototype.setHeader=function(e){return t.prototype.setHeader.apply(this,[e?e:this._header])};i.prototype.destroyHeader=function(){if(this.getHeader()===this._header){return this}return t.prototype.destroyHeader.apply(this,[])};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeadItem", ["sap/ui/core/Element","sap/ui/core/IconPool","./library","sap/base/security/encodeXML","sap/ui/thirdparty/jquery"],function(e,t,r,a,jQuery){"use strict";var o=e.extend("sap.ui.unified.ShellHeadItem",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{startsSection:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},showSeparator:{type:"boolean",group:"Appearance",defaultValue:true},selected:{type:"boolean",group:"Appearance",defaultValue:false},toggleEnabled:{type:"boolean",group:"Appearance",defaultValue:true},showMarker:{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});o.prototype.onclick=function(e){this.firePress();e.preventDefault()};o.prototype.onsapspace=o.prototype.onclick;o.prototype.onsapenter=o.prototype.onclick;o.prototype.setStartsSection=function(e){e=!!e;this.setProperty("startsSection",e,true);this.$().toggleClass("sapUiUfdShellHeadItmDelim",e);return this};o.prototype.setShowSeparator=function(e){e=!!e;this.setProperty("showSeparator",e,true);this.$().toggleClass("sapUiUfdShellHeadItmSep",e);return this};function s(){var e=this.$(),t=this.getToggleEnabled(),r=this.getSelected();if(!e.length){return}if(t){e.toggleClass("sapUiUfdShellHeadItmSel",r);e.attr("aria-pressed",r)}else{e.removeClass("sapUiUfdShellHeadItmSel");e.removeAttr("aria-pressed")}}o.prototype.setToggleEnabled=function(e){this.setProperty("toggleEnabled",!!e,true);s.apply(this);return this};o.prototype.setSelected=function(e){this.setProperty("selected",!!e,true);s.apply(this);return this};o.prototype.setVisible=function(e){this.setProperty("visible",!!e);return this};o.prototype.setShowMarker=function(e){e=!!e;this.setProperty("showMarker",e,true);this.$().toggleClass("sapUiUfdShellHeadItmMark",e);return this};o.prototype.setIcon=function(e){this.setProperty("icon",e,true);if(this.getDomRef()){this._refreshIcon()}return this};o.prototype._refreshIcon=function(){var e=jQuery(this.$().children()[0]);var r=this.getIcon();if(t.isIconURI(r)){var o=t.getIconInfo(r);e.html("").attr("style","");if(o){e.text(o.content).attr("role","presentation").attr("aria-label",o.text||o.name).css("font-family","'"+o.fontFamily+"'")}}else{var s=this.$("img-inner");if(s.length==0||s.attr("src")!=r){e.attr("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+a(r)+"'>")}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeadUserItem", ["sap/ui/core/Element","sap/ui/core/IconPool","./library","sap/base/security/encodeXML"],function(e,t,a,i){"use strict";var r=e.extend("sap.ui.unified.ShellHeadUserItem",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{username:{type:"string",group:"Appearance",defaultValue:""},showPopupIndicator:{type:"boolean",group:"Accessibility",defaultValue:true},image:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});t.insertFontFaceStyle();r.prototype.onclick=function(e){this.firePress();e.preventDefault()};r.prototype.onsapspace=r.prototype.onclick;r.prototype.onsapenter=r.prototype.onclick;r.prototype.setImage=function(e){this.setProperty("image",e,true);if(this.getDomRef()){this._refreshImage()}return this};r.prototype._refreshImage=function(){var e=this.$("img");var a=this.getImage();if(!a){e.html("").attr("style","").css("display","none")}else if(t.isIconURI(a)){var r=t.getIconInfo(a);e.html("").attr("style","");if(r){e.text(r.content).attr("role","presentation").attr("aria-label",r.text||r.name).css("font-family","'"+r.fontFamily+"'")}}else{var s=this.$("img-inner");if(s.length==0||s.attr("src")!=a){e.attr("style","").attr("aria-label",null).html("<img role='presentation' id='"+this.getId()+"-img-inner' src='"+i(a)+"'>")}}};r.prototype._checkAndAdaptWidth=function(e){if(!this.getDomRef()){return false}var t=this.$(),a=this.$("name");var i=t.width();t.toggleClass("sapUiUfdShellHeadUsrItmLimit",false);var r=240;if(e){r=Math.min(r,.5*document.documentElement.clientWidth-225)}if(r<a.width()){t.toggleClass("sapUiUfdShellHeadUsrItmLimit",true)}return i!=t.width()};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellHeader", ["./library","sap/ui/core/Control","sap/ui/Device","sap/ui/core/theming/Parameters","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,i,a,jQuery,r){"use strict";var s=t.extend("sap.ui.unified.ShellHeader",{metadata:{properties:{logo:{type:"sap.ui.core.URI",defaultValue:""},searchVisible:{type:"boolean",defaultValue:true}},aggregations:{headItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},headEndItems:{type:"sap.ui.unified.ShellHeadItem",multiple:true},search:{type:"sap.ui.core.Control",multiple:false},user:{type:"sap.ui.unified.ShellHeadUserItem",multiple:false}}},renderer:{render:function(e,t){var i=t.getId();e.write("<div");e.writeControlData(t);e.writeAttribute("class","sapUiUfdShellHeader");if(r.getAccessibility()){e.writeAttribute("role","toolbar")}e.write(">");e.write("<div id='",i,"-hdr-begin' class='sapUiUfdShellHeadBegin'>");this.renderHeaderItems(e,t,true);e.write("</div>");e.write("<div id='",i,"-hdr-center' class='sapUiUfdShellHeadCenter'>");this.renderSearch(e,t);e.write("</div>");e.write("<div id='",i,"-hdr-end' class='sapUiUfdShellHeadEnd'>");this.renderHeaderItems(e,t,false);e.write("</div>");e.write("</div>")},renderSearch:function(e,t){var i=t.getSearch();e.write("<div id='",t.getId(),"-hdr-search'");if(r.getAccessibility()){e.writeAttribute("role","search")}e.writeAttribute("class","sapUiUfdShellSearch"+(t.getSearchVisible()?"":" sapUiUfdShellHidden"));e.write("><div>");if(i){e.renderControl(i)}e.write("</div></div>")},renderHeaderItems:function(e,t,i){e.write("<div class='sapUiUfdShellHeadContainer'>");var a=i?t.getHeadItems():t.getHeadEndItems();for(var s=0;s<a.length;s++){e.write("<div tabindex='0'");e.writeElementData(a[s]);e.addClass("sapUiUfdShellHeadItm");if(a[s].getStartsSection()){e.addClass("sapUiUfdShellHeadItmDelim")}if(a[s].getShowSeparator()){e.addClass("sapUiUfdShellHeadItmSep")}if(!a[s].getVisible()){e.addClass("sapUiUfdShellHidden")}if(a[s].getSelected()&&a[s].getToggleEnabled()){e.addClass("sapUiUfdShellHeadItmSel")}if(a[s].getShowMarker()){e.addClass("sapUiUfdShellHeadItmMark")}e.writeClasses();var d=a[s].getTooltip_AsString();if(d){e.writeAttributeEscaped("title",d)}if(r.getAccessibility()){e.writeAccessibilityState(a[s],{role:"button",selected:null,pressed:a[s].getToggleEnabled()?a[s].getSelected():null})}e.write("><span></span><div class='sapUiUfdShellHeadItmMarker'><div></div></div></div>")}var l=t.getUser();if(!i&&l){e.write("<div tabindex='0'");e.writeElementData(l);e.addClass("sapUiUfdShellHeadUsrItm");if(!l.getShowPopupIndicator()){e.addClass("sapUiUfdShellHeadUsrItmWithoutPopup")}e.writeClasses();var d=l.getTooltip_AsString();if(d){e.writeAttributeEscaped("title",d)}if(r.getAccessibility()){e.writeAccessibilityState(l,{role:"button"});if(l.getShowPopupIndicator()){e.writeAttribute("aria-haspopup","true")}}e.write("><span id='",l.getId(),"-img' aria-hidden='true' class='sapUiUfdShellHeadUsrItmImg'></span>");e.write("<span id='"+l.getId()+"-name' class='sapUiUfdShellHeadUsrItmName'");var n=l.getUsername()||"";e.writeAttributeEscaped("title",n);e.write(">");e.writeEscaped(n);e.write("</span><span class='sapUiUfdShellHeadUsrItmExp' aria-hidden='true'></span></div>")}e.write("</div>");if(i){this._renderLogo(e,t)}},_renderLogo:function(e,t){var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),a=i.getText("SHELL_LOGO_TOOLTIP"),r=t._getLogo();e.write("<div class='sapUiUfdShellIco'>");e.write("<img id='",t.getId(),"-icon'");e.writeAttributeEscaped("title",a);e.writeAttributeEscaped("alt",a);e.write("src='");e.writeEscaped(r);e.write("'");if(!r){e.addStyle("display","none");e.writeStyles()}e.write(">");e.write("</div>")}}});s.prototype.init=function(){var e=this;this._rtl=r.getRTL();this._handleMediaChange=function(t){if(!e.getDomRef()){return}e._refresh()};i.media.attachHandler(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(t){if(!e.getDomRef()||!e.getUser()){return}var i=this.getUser();var a=i._checkAndAdaptWidth(!e.$("hdr-search").hasClass("sapUiUfdShellHidden")&&!!e.getSearch());if(a){e._refresh()}};i.resize.attachHandler(this._handleResizeChange,this);this.data("sap-ui-fastnavgroup","true",true)};s.prototype.exit=function(){i.media.detachHandler(this._handleMediaChange,this,i.media.RANGESETS.SAP_STANDARD);delete this._handleMediaChange;i.resize.detachHandler(this._handleResizeChange,this);delete this._handleResizeChange};s.prototype.onAfterRendering=function(){this._refresh();this.$("hdr-center").toggleClass("sapUiUfdShellAnim",!this._noHeadCenterAnim)};s.prototype.onThemeChanged=function(){if(this.getDomRef()){this.invalidate()}};s.prototype._getLogo=function(){var e=this.getLogo();if(!e){e=a._getThemeImage(null,true)}return e};s.prototype._refresh=function(){function e(e){for(var t=0;t<e.length;t++){e[t]._refreshIcon()}}e(this.getHeadItems());e(this.getHeadEndItems());var t=this.getUser(),i=jQuery("html").hasClass("sapUiMedia-Std-Phone"),a=!this.$("hdr-search").hasClass("sapUiUfdShellHidden"),r=this.$("icon");if(t){t._refreshImage();t._checkAndAdaptWidth(a&&!!this.getSearch())}r.parent().toggleClass("sapUiUfdShellHidden",i&&a&&!!this.getSearch());var s=this.$("hdr-end").outerWidth(),d=this.$("hdr-begin").outerWidth(),l=Math.max(s,d),n=(i&&a?d:l)+"px",h=(i&&a?s:l)+"px";this.$("hdr-center").css({left:this._rtl?h:n,right:this._rtl?n:h})};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellLayout", ["sap/ui/Device","sap/ui/core/Control","sap/ui/core/Popup","sap/ui/core/theming/Parameters","./SplitContainer","./library","./ShellLayoutRenderer","sap/ui/dom/containsOrEquals","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Focusable"],function(t,e,n,i,r,o,s,a,u,jQuery,d){"use strict";var h=e.extend("sap.ui.unified.ShellLayout",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{showPane:{type:"boolean",group:"Appearance",defaultValue:false},headerHiding:{type:"boolean",group:"Appearance",defaultValue:false},headerVisible:{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content",forwarding:{idSuffix:"-container",aggregation:"content"}},paneContent:{type:"sap.ui.core.Control",multiple:true,singularName:"paneContent",forwarding:{idSuffix:"-container",aggregation:"secondaryContent"}},header:{type:"sap.ui.core.Control",multiple:false},canvasSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"},curtainSplitContainer:{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"}}},renderer:s});h._SIDEPANE_WIDTH_PHONE=208;h._SIDEPANE_WIDTH_TABLET=208;h._SIDEPANE_WIDTH_DESKTOP=240;h._HEADER_ALWAYS_VISIBLE=true;h._HEADER_AUTO_CLOSE=true;h._HEADER_TOUCH_TRESHOLD=15;if(t.browser.chrome&&t.browser.version<36){h._HEADER_TOUCH_TRESHOLD=10}h.prototype.init=function(){this._rtl=d.getRTL();this._animation=d.getAnimation();this._showHeader=true;this._showCurtain=false;this._iHeaderHidingDelay=3e3;this._useStrongBG=false;this._cont=new r(this.getId()+"-container");this._cont._bRootContent=true;if(d.getAccessibility()){var e=this;this._cont.addEventDelegate({onAfterRendering:function(){e._cont.$("canvas").attr("role","main");e._cont.$("pane").attr("role","complementary")}})}this.setAggregation("canvasSplitContainer",this._cont,true);this._curtCont=new r(this.getId()+"-curt-container");this._curtCont._bRootContent=true;this.setAggregation("curtainSplitContainer",this._curtCont,true);this._setSidePaneWidth();t.media.attachHandler(this._handleMediaChange,this,t.media.RANGESETS.SAP_STANDARD);t.resize.attachHandler(this._handleResizeChange,this)};h.prototype.exit=function(){t.media.detachHandler(this._handleMediaChange,this,t.media.RANGESETS.SAP_STANDARD);t.resize.detachHandler(this._handleResizeChange,this);delete this._cont;delete this._curtCont};h.prototype.onAfterRendering=function(){var t=this;function e(e){var n=jQuery.event.fix(e);if(a(t.getDomRef("hdr"),n.target)){t._timedHideHeader(n.type==="focus")}}if(window.addEventListener&&!h._HEADER_ALWAYS_VISIBLE){var n=this.getDomRef("hdr");n.addEventListener("focus",e,true);n.addEventListener("blur",e,true)}this._refreshAfterRendering()};h.prototype.onThemeChanged=function(){this._refreshAfterRendering()};h.prototype.onfocusin=function(t){var e=this.getId();if(t.target.id===e+"-curt-focusDummyOut"&&this.$("hdrcntnt").firstFocusableDomRef()){this.$("hdrcntnt").firstFocusableDomRef().focus()}else if(t.target.id===e+"-main-focusDummyOut"&&this.$("curtcntnt").firstFocusableDomRef()){this.$("curtcntnt").firstFocusableDomRef().focus()}};(function(){function e(t){if(t._startY===undefined||t._currY===undefined){return}var e=t._currY-t._startY;if(Math.abs(e)>h._HEADER_TOUCH_TRESHOLD){t._doShowHeader(e>0);t._startY=t._currY}}if(t.support.touch){h._HEADER_ALWAYS_VISIBLE=false;h.prototype.ontouchstart=function(t){this._startY=t.touches[0].pageY;if(this._startY>2*48){this._startY=undefined}this._currY=this._startY};h.prototype.ontouchend=function(t){e(this);this._startY=undefined;this._currY=undefined};h.prototype.ontouchcancel=h.prototype.ontouchend;h.prototype.ontouchmove=function(t){this._currY=t.touches[0].pageY;e(this)}}})();h.prototype.setHeaderHiding=function(t){t=!!t;return this._mod(function(e){return this.setProperty("headerHiding",t,e)},function(){this._doShowHeader(!t?true:this._showHeader)})};h.prototype.setHeaderHidingDelay=function(t){this._iHeaderHidingDelay=t;return this};h.prototype.getHeaderHidingDelay=function(){return this._iHeaderHidingDelay};h.prototype.getShowPane=function(){return this._cont.getShowSecondaryContent()};h.prototype.setShowPane=function(t){this._cont.setShowSecondaryContent(t);this.setProperty("showPane",!!t,true);return this};h.prototype.setShowCurtainPane=function(t){this._curtCont.setShowSecondaryContent(t);return this};h.prototype.getShowCurtainPane=function(){return this._curtCont.getShowSecondaryContent()};h.prototype.setHeaderVisible=function(t){t=!!t;this.setProperty("headerVisible",t,true);this.$().toggleClass("sapUiUfdShellNoHead",!t);return this};h.prototype.setShowCurtain=function(t){t=!!t;return this._mod(function(e){this._showCurtain=t;return this},function(){this.$("main-focusDummyOut").attr("tabindex",t?0:-1);this.$().toggleClass("sapUiUfdShellCurtainHidden",!t).toggleClass("sapUiUfdShellCurtainVisible",t);if(t){var e=n.getNextZIndex();this.$("curt").css("z-index",e+1);this.$("hdr").css("z-index",e+3);this.$("brand").css("z-index",e+7);this.$().toggleClass("sapUiUfdShellCurtainClosed",false)}this._timedCurtainClosed(t);this._doShowHeader(true)})};h.prototype.getShowCurtain=function(){return this._showCurtain};h.prototype.setHeader=function(t){this.setAggregation("header",t,true);t=this.getHeader();if(this.getDomRef()){if(!t){this.$("hdrcntnt").html("")}else{var e=sap.ui.getCore().createRenderManager();e.renderControl(t);e.flush(this.getDomRef("hdrcntnt"));e.destroy()}}return this};h.prototype.destroyHeader=function(){this.destroyAggregation("header",true);this.$("hdrcntnt").html("");return this};h.prototype.getCurtainContent=function(){return this._curtCont.getContent()};h.prototype.insertCurtainContent=function(t,e){this._curtCont.insertContent(t,e);return this};h.prototype.addCurtainContent=function(t){this._curtCont.addContent(t);return this};h.prototype.removeCurtainContent=function(t){return this._curtCont.removeContent(t)};h.prototype.removeAllCurtainContent=function(){return this._curtCont.removeAllContent()};h.prototype.destroyCurtainContent=function(){this._curtCont.destroyContent();return this};h.prototype.indexOfCurtainContent=function(t){return this._curtCont.indexOfCurtainContent(t)};h.prototype.getCurtainPaneContent=function(){return this._curtCont.getSecondaryContent()};h.prototype.insertCurtainPaneContent=function(t,e){this._curtCont.insertSecondaryContent(t,e);return this};h.prototype.addCurtainPaneContent=function(t){this._curtCont.addSecondaryContent(t);return this};h.prototype.removeCurtainPaneContent=function(t){return this._curtCont.removeSecondaryContent(t)};h.prototype.removeAllCurtainPaneContent=function(){return this._curtCont.removeAllSecondaryContent()};h.prototype.destroyCurtainPaneContent=function(){this._curtCont.destroySecondaryContent();return this};h.prototype.indexOfCurtainPaneContent=function(t){return this._curtCont.indexOfSecondaryContent(t)};h.prototype._setStrongBackground=function(t){this._useStrongBG=!!t;this.$("strgbg").toggleClass("sapUiStrongBackgroundColor",this._useStrongBG)};h.prototype._mod=function(t,e){var n=!!this.getDomRef();var i=t.apply(this,[n]);if(n&&e){if(e instanceof o._ContentRenderer){e.render()}else{e.apply(this)}}return i};h.prototype._doShowHeader=function(t){var e=this._showHeader;this._showHeader=this._isHeaderHidingActive()?!!t:true;this.$().toggleClass("sapUiUfdShellHeadHidden",!this._showHeader).toggleClass("sapUiUfdShellHeadVisible",this._showHeader);if(this._showHeader){this._timedHideHeader()}if(e!=this._showHeader&&this._isHeaderHidingActive()){setTimeout(function(){try{var t=document.createEvent("UIEvents");t.initUIEvent("resize",true,false,window,0);window.dispatchEvent(t)}catch(t){u.error(t)}},500)}};h.prototype._timedHideHeader=function(t){if(this._headerHidingTimer){clearTimeout(this._headerHidingTimer);this._headerHidingTimer=null}if(t||!h._HEADER_AUTO_CLOSE||!this._isHeaderHidingActive()||this._iHeaderHidingDelay<=0){return}this._headerHidingTimer=setTimeout(function(){if(this._isHeaderHidingActive()&&this._iHeaderHidingDelay>0&&!a(this.getDomRef("hdr"),document.activeElement)){this._doShowHeader(false)}}.bind(this),this._iHeaderHidingDelay)};h.prototype._timedCurtainClosed=function(t){if(this._curtainClosedTimer){clearTimeout(this._curtainClosedTimer);this._curtainClosedTimer=null}if(t){return}var e=parseInt(i.get("_sap_ui_unified_ShellLayout_AnimDuration"));if(!this._animation){e=0}this._curtainClosedTimer=setTimeout(function(){this._curtainClosedTimer=null;this.$("curt").css("z-index","");this.$("hdr").css("z-index","");this.$("brand").css("z-index","");this.$().toggleClass("sapUiUfdShellCurtainClosed",true)}.bind(this),e)};h.prototype._isHeaderHidingActive=function(){if(h._HEADER_ALWAYS_VISIBLE||this.getShowCurtain()||!this.getHeaderHiding()||o._iNumberOfOpenedShellOverlays>0||!this.getHeaderVisible()){return false}return true};h.prototype._setSidePaneWidth=function(e){if(!e){e=t.media.getCurrentRange(t.media.RANGESETS.SAP_STANDARD).name}var n=h["_SIDEPANE_WIDTH_"+e.toUpperCase()]+"px";this._cont.setSecondaryContentSize(n);this._curtCont.setSecondaryContentSize(n)};h.prototype._handleMediaChange=function(t){if(!this.getDomRef()){return false}this._setSidePaneWidth(t.name)};h.prototype._handleResizeChange=function(t){};h.prototype._refreshAfterRendering=function(){var t=this.getDomRef();if(!t){return false}this._timedHideHeader();return true};h.prototype._getSearchWidth=function(){return-1};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellLayoutRenderer", ["sap/ui/core/Configuration"],function(i){"use strict";var e={};e.render=function(e,a){var d=a.getId();e.write("<div");e.writeControlData(a);e.addClass("sapUiUfdShell");if(a._animation){e.addClass("sapUiUfdShellAnim")}if(!a.getHeaderVisible()){e.addClass("sapUiUfdShellNoHead")}e.addClass("sapUiUfdShellHead"+(a._showHeader?"Visible":"Hidden"));if(a.getShowCurtain()){e.addClass("sapUiUfdShellCurtainVisible")}else{e.addClass("sapUiUfdShellCurtainHidden");e.addClass("sapUiUfdShellCurtainClosed")}e.writeClasses();e.write(">");e.write("<hr id='",d,"-brand' class='sapUiUfdShellBrand'>");e.write("<header id='",d,"-hdr'  class='sapUiUfdShellHead'");if(i.getAccessibility()){e.writeAttribute("role","banner")}e.write("><div><div id='",d,"-hdrcntnt' class='sapUiUfdShellCntnt'>");if(a.getHeader()){e.renderControl(a.getHeader())}e.write("</div>","</div>","</header>");e.write("<section id='",d,"-curt' class='sapUiUfdShellCntnt sapUiUfdShellCurtain'>");e.write("<div id='",d,"-curtcntnt' class='sapUiUfdShellCntnt'>");e.renderControl(a._curtCont);e.write("</div>");e.write("<span id='",d,"-curt-focusDummyOut' tabindex='0'></span>");e.write("</section>");e.write("<div id='",d,"-cntnt' class='sapUiUfdShellCntnt sapUiUfdShellCanvas sapUiGlobalBackgroundColor sapUiGlobalBackgroundColorForce'>");e.write("<div id='",d,"-strgbg' class='sapUiUfdShellBG"+(a._useStrongBG?" sapUiStrongBackgroundColor":"")+"'></div>");e.write("<div class='sapUiGlobalBackgroundImage sapUiGlobalBackgroundImageForce sapUiUfdShellBG'></div>");e.renderControl(a._cont);e.write("</div>");e.write("<span id='",d,"-main-focusDummyOut' tabindex='"+(a.getShowCurtain()?0:-1)+"'></span>");e.write("</div>")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellOverlay", ["sap/ui/Device","sap/ui/core/Control","sap/ui/core/Popup","./library","sap/ui/core/theming/Parameters","./ShellOverlayRenderer","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/rect","sap/ui/dom/jquery/Selectors"],function(e,t,i,n,r,o,jQuery,s){"use strict";var a=t.extend("sap.ui.unified.ShellOverlay",{metadata:{library:"sap.ui.unified",deprecated:true,defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},search:{type:"sap.ui.core.Control",multiple:false}},associations:{shell:{type:"sap.ui.unified.ShellLayout",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{closed:{}}},renderer:o});a.prototype.open=function(){if(this._getPopup().isOpen()){return}this._opening=true;this._forceShellHeaderVisible();this._getPopup().setModal(true,i.blStack.length==0&&this._getAnimActive()?"sapUiUfdShellOvrlyBly sapUiUfdShellOvrlyBlyTp":"");this._getPopup().open(0,i.Dock.BeginTop,i.Dock.BeginTop,window,"0 0","none");var e=this.getSearch();if(e){e.focus()}this._opening=false;if(this._getAnimActive()){setTimeout(function(){jQuery(document.getElementById("sap-ui-blocklayer-popup")).toggleClass("sapUiUfdShellOvrlyBlyTp",false)},50)}setTimeout(function(){this.$().toggleClass("sapUiUfdShellOvrlyOpening",false)}.bind(this),this._getAnimDuration(true))};a.prototype.close=function(){if(!this._getPopup().isOpen()){return}this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",true).toggleClass("sapUiUfdShellOvrlyClosing",true);this._setSearchWidth();setTimeout(function(){var e=jQuery(document.getElementById("sap-ui-blocklayer-popup"));if(i.blStack.length==1&&this._getAnimActive()&&e.hasClass("sapUiUfdShellOvrlyBly")){e.toggleClass("sapUiUfdShellOvrlyBlyTp",true)}}.bind(this),Math.max(this._getAnimDuration(false)-this._getBLAnimDuration(),0));setTimeout(function(){this._getPopup().close(0);this.$().remove();this._forceShellHeaderVisible();this.fireClosed()}.bind(this),this._getAnimDuration(false))};a.prototype.setShell=function(e){return this.setAssociation("shell",e,true)};a.prototype.setSearch=function(e){this.setAggregation("search",e,true);if(this.getDomRef()){this._headRenderer.render()}return this};a.prototype.insertContent=function(e,t){var i=this.insertAggregation("content",e,t,true);if(this.getDomRef()){this._contentRenderer.render()}return i};a.prototype.addContent=function(e){var t=this.addAggregation("content",e,true);if(this.getDomRef()){this._contentRenderer.render()}return t};a.prototype.removeContent=function(e){var t=this.removeAggregation("content",e,true);if(this.getDomRef()){this._contentRenderer.render()}return t};a.prototype.removeAllContent=function(){var e=this.removeAllAggregation("content",true);if(this.getDomRef()){this._contentRenderer.render()}return e};a.prototype.destroyContent=function(){var e=this.destroyAggregation("content",true);if(this.getDomRef()){this._contentRenderer.render()}return e};a.prototype.init=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1;this._animation=s.getAnimation();this._opening=false;var e=this;this._headRenderer=new n._ContentRenderer(this,this.getId()+"-hdr-center",function(t){o.renderSearch(t,e)});this._contentRenderer=new n._ContentRenderer(this,this.getId()+"-cntnt",function(t){o.renderContent(t,e)})};a.prototype.exit=function(){if(this._popup){this._popup.close(0);this._popup.destroy();this._popup=null}this._getPopup=function(){return null};this._headRenderer.destroy();delete this._headRenderer;this._contentRenderer.destroy();delete this._contentRenderer};a.prototype.onAfterRendering=function(){if(this._opening){this._setSearchWidth()}setTimeout(function(){this.$().toggleClass("sapUiUfdShellOvrlyCntntHidden",false);this.$("search").css("width","")}.bind(this),10)};a.prototype.onclick=function(e){if(jQuery(e.target).attr("id")===this.getId()+"-close"){this.close();e.preventDefault()}};a.prototype.onsapspace=a.prototype.onclick;a.prototype.onThemeChanged=function(){this._animOpenDuration=-1;this._animCloseDuration=-1;this._animBlockLayerDuration=-1};a.prototype.onfocusin=function(e){var t,i;if(e.target.id==this.getId()+"-focfirst"){t=jQuery(":sapTabbable",this.$("inner"));i=t.get(t.length-1)}else if(e.target.id==this.getId()+"-foclast"){t=jQuery(":sapTabbable",this.$("inner"));i=t.get(0)}if(i){i.focus()}};a.prototype._getAnimDurationThemeParam=function(e,t){var i=parseInt(r.get(e));if(!this._getAnimActive()&&t){i=0}return i};a.prototype._getAnimDuration=function(e){if(e&&this._animOpenDuration==-1||!e&&this._animCloseDuration==-1){var t=e?"Open":"Close";this["_anim"+t+"Duration"]=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_"+t+"AnimOverAll",true)}return e?this._animOpenDuration:this._animCloseDuration};a.prototype._getBLAnimDuration=function(){if(this._animBlockLayerDuration==-1){this._animBlockLayerDuration=this._getAnimDurationThemeParam("_sap_ui_unified_ShellOverlay_BlockLayerAnimDuration",true)}return this._animBlockLayerDuration};a.prototype._getAnimActive=function(){if(!this._animation){return false}return true};a.prototype._getPopup=function(){if(!this._popup){this._popup=new i(this,true,false,false);this._popup._applyPosition=function(e){this._$().css("left","0").css("top","0");this._oLastPosition=e;this._oLastOfRect=jQuery(window).rect()};this._popup.attachOpened(function(){n._iNumberOfOpenedShellOverlays++});this._popup.attachClosed(function(){n._iNumberOfOpenedShellOverlays--})}return this._popup};a.prototype._getShell=function(){var e=this.getShell();if(!e){return}var t=sap.ui.getCore().byId(e);if(!t||!(t instanceof sap.ui.unified.ShellLayout)){return}return t};a.prototype._forceShellHeaderVisible=function(){var e=this._getShell();if(e){e._doShowHeader(true)}};a.prototype._getSearchWidth=function(){var e=this._getShell();return e?e._getSearchWidth():-1};a.prototype._setSearchWidth=function(){var t=this._getSearchWidth();if(t<=0){return}var i=t+"px";if(e.browser.safari){var n=this.$("hdr-center").width();if(n>t){i=Math.round(t*100/n)+"%"}else{i="100%"}}this.$("search").css("width",i)};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellOverlayRenderer", ["sap/ui/core/Configuration"],function(e){"use strict";var i={};i.render=function(t,r){t.write("<div");t.writeControlData(r);t.addClass("sapUiUfdShellOvrly");if(r._opening){t.addClass("sapUiUfdShellOvrlyCntntHidden");t.addClass("sapUiUfdShellOvrlyOpening")}if(r._getAnimActive()){t.addClass("sapUiUfdShellOvrlyAnim")}t.writeClasses();if(e.getAccessibility()){t.writeAccessibilityState(r,{role:"dialog"})}t.write("><span id='",r.getId(),"-focfirst' tabindex='0'></span><div id='",r.getId(),"-inner'>");t.write("<header class='sapUiUfdShellOvrlyHead'>");t.write("<hr class='sapUiUfdShellOvrlyBrand'>");t.write("<div class='sapUiUfdShellOvrlyHeadCntnt'");if(e.getAccessibility()){t.writeAttribute("role","toolbar")}t.write("><div id='"+r.getId()+"-hdr-center' class='sapUiUfdShellOvrlyHeadCenter'>");i.renderSearch(t,r);t.write("</div>");var d=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),a=d.getText("SHELL_OVERLAY_CLOSE");t.write("<a tabindex='0' href='#' id='"+r.getId()+"-close' class='sapUiUfdShellOvrlyHeadClose'");t.writeAttributeEscaped("title",a);if(e.getAccessibility()){t.writeAttribute("role","button")}t.write(">");t.writeEscaped(a);t.write("</a></div></header>");t.write("<div id='"+r.getId()+"-cntnt' class='sapUiUfdShellOvrlyCntnt'>");i.renderContent(t,r);t.write("</div>");t.write("</div><span id='",r.getId(),"-foclast' tabindex='0'></span></div>")};i.renderSearch=function(e,i){var t=i._getSearchWidth();e.write("<div id='"+i.getId()+"-search' class='sapUiUfdShellOvrlySearch' ");if(t>0&&i._opening){e.addStyle("width",t+"px'");e.writeStyles()}e.write("><div>");var r=i.getSearch();if(r){e.renderControl(r)}e.write("</div></div>")};i.renderContent=function(e,i){e.write("<div>");var t=i.getContent();for(var r=0;r<t.length;r++){e.renderControl(t[r])}e.write("</div>")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/ShellRenderer", ["sap/ui/core/Renderer","./ShellLayoutRenderer"],function(e,r){"use strict";var n=e.extend(r);return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/SplitContainer", ["sap/ui/core/Control","sap/ui/core/theming/Parameters","./library","sap/ui/core/library","./SplitContainerRenderer","sap/base/Log","sap/ui/core/Configuration"],function(t,e,n,o,r,i,a){"use strict";var s=o.Orientation;var d=t.extend("sap.ui.unified.SplitContainer",{metadata:{library:"sap.ui.unified",deprecated:true,properties:{showSecondaryContent:{type:"boolean",group:"Appearance",defaultValue:null},secondaryContentSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px"},secondaryContentWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"250px",deprecated:true},orientation:{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:s.Horizontal}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},secondaryContent:{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"}}},renderer:r});(function(t){d.prototype.init=function(){this.bRtl=a.getRTL();this._paneRenderer=new n._ContentRenderer(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new n._ContentRenderer(this,this.getId()+"-canvascntnt","content");this._moveContent=true};d.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;if(this._closeContentDelayId){clearTimeout(this._closeContentDelayId);delete this._closeContentDelayId}delete this._contentContainer;delete this._secondaryContentContainer};d.prototype.onAfterRendering=function(){this.bRtl=a.getRTL();this._contentContainer=this.$("canvas");this._secondaryContentContainer=this.$("pane");this._applySecondaryContentSize()};d.prototype._applySecondaryContentSize=function(){if(this.getDomRef()){var t=this.getOrientation()==s.Vertical;var n,o;var r,i;var a=this.getSecondaryContentSize();var d=this.getShowSecondaryContent();if(t){n="height";o="width";r="top";i=this.bRtl?"right":"left"}else{n="width";o="height";r=this.bRtl?"right":"left";i="top"}if(this._closeContentDelayId){clearTimeout(this._closeContentDelayId);delete this._closeContentDelayId}this._secondaryContentContainer.css(n,a);this._secondaryContentContainer.css(o,"");this._secondaryContentContainer.css(r,d?"0":"-"+a);this._secondaryContentContainer.css(i,"");if(this._moveContent){this._contentContainer.css(r,d?a:"0")}else{this._contentContainer.css(r,"0")}if(!d){var c=parseInt(e.get("_sap_ui_unified_SplitContainer_AnimationDuration"));this._closeContentDelayId=setTimeout(function(){this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",true)}.bind(this),c)}else{this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",false)}}};d.prototype._mod=function(t,e){var n=!!this.getDomRef();var o=t.apply(this,[n]);if(n&&e){e.render()}return o};d.prototype.setShowSecondaryContent=function(t){var e=this.getDomRef();this.setProperty("showSecondaryContent",!!t,e);this._applySecondaryContentSize();return this};d.prototype.setSecondaryContentSize=function(t){this.setProperty("secondaryContentSize",t,true);this._applySecondaryContentSize();return this};d.prototype.getSecondaryContentWidth=function(){i.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.getSecondaryContentSize.apply(this,arguments)};d.prototype.setSecondaryContentWidth=function(){i.warning('SplitContainer: Use of deprecated property "SecondaryContentWidth", please use '+'"SecondaryContentSize" instead.');return this.setSecondaryContentSize.apply(this,arguments)};d.prototype.insertContent=function(t,e){return this._mod(function(n){return this.insertAggregation("content",t,e,n)},this._canvasRenderer)};d.prototype.addContent=function(t){return this._mod(function(e){return this.addAggregation("content",t,e)},this._canvasRenderer)};d.prototype.removeContent=function(t){return this._mod(function(e){return this.removeAggregation("content",t,e)},this._canvasRenderer)};d.prototype.removeAllContent=function(){return this._mod(function(t){return this.removeAllAggregation("content",t)},this._canvasRenderer)};d.prototype.destroyContent=function(){return this._mod(function(t){return this.destroyAggregation("content",t)},this._canvasRenderer)};d.prototype.insertSecondaryContent=function(t,e){return this._mod(function(n){return this.insertAggregation("secondaryContent",t,e,n)},this._paneRenderer)};d.prototype.addSecondaryContent=function(t){return this._mod(function(e){return this.addAggregation("secondaryContent",t,e)},this._paneRenderer)};d.prototype.removeSecondaryContent=function(t){return this._mod(function(e){return this.removeAggregation("secondaryContent",t,e)},this._paneRenderer)};d.prototype.removeAllSecondaryContent=function(){return this._mod(function(t){return this.removeAllAggregation("secondaryContent",t)},this._paneRenderer)};d.prototype.destroySecondaryContent=function(){return this._mod(function(t){return this.destroyAggregation("secondaryContent",t)},this._paneRenderer)}})(window);return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/SplitContainerRenderer", ["sap/ui/core/library","sap/ui/core/Configuration"],function(t,e){"use strict";var n=t.Orientation;var i={};i.render=function(t,i){var a=i.getId();var r=i.getOrientation()==n.Vertical;t.write("<div");t.writeControlData(i);t.addClass("sapUiUfdSpltCont");t.addClass("sapUiUfdSpltCont"+(r?"V":"H"));if(e.getAnimationMode()!==e.AnimationMode.none){t.addClass("sapUiUfdSpltContAnim")}if(!i.getShowSecondaryContent()){t.addClass("sapUiUfdSpltContPaneHidden")}t.writeClasses();t.write(">");var o=a+"-canvas";t.write("<section id='",o,"' class='sapUiUfdSpltContCanvas'>");this.renderContent(t,o,i.getContent(),i._bRootContent);t.write("</section>");var d=a+"-pane";var s=i.getShowSecondaryContent()?i.getSecondaryContentSize():"0";t.write("<aside id='",d);t.write("'");t.addStyle("width",s);t.writeStyles();t.addClass("sapUiUfdSpltContPane");if(!i.getShowSecondaryContent()){t.addClass("sapUiUfdSplitContSecondClosed")}t.writeClasses();t.write(">");this.renderContent(t,d,i.getSecondaryContent(),i._bRootContent);t.write("</aside>");t.write("</div>")};i.renderContent=function(t,e,n,i){t.write("<div id='",e,"cntnt' class='sapUiUfdSpltContCntnt'");if(i){t.writeAttribute("data-sap-ui-root-content","true")}t.write(">");for(var a=0;a<n.length;a++){t.renderControl(n[a])}t.write("</div>")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate", ["sap/ui/base/Object","sap/ui/core/date/UniversalDate","sap/ui/core/date/UI5Date"],function(t,e,a){"use strict";var n=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,o,i;switch(t.length){case 0:o=a.getInstance();return n.call(this,o.getFullYear(),o.getMonth(),o.getDate());case 1:case 2:if(!(t[0]instanceof n)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}i=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=a.getInstance(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=r(e,i);break;case 3:case 4:u(t[0],"Invalid year: "+t[0]);u(t[1],"Invalid month: "+t[1]);u(t[2],"Invalid date: "+t[2]);e=a.getInstance(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){i=t[3]}this._oUDate=r(e,i);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});n.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};n.prototype.setYear=function(t){u(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};n.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};n.prototype.setMonth=function(t,e){u(t,"Invalid month: "+t);if(e||e===0){u(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};n.prototype.getDate=function(){return this._oUDate.getUTCDate()};n.prototype.setDate=function(t){u(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};n.prototype.getDay=function(){return this._oUDate.getUTCDay()};n.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};n.prototype.getEra=function(){return this._oUDate.getUTCEra()};n.prototype.isBefore=function(t){i(t);return this.valueOf()<t.valueOf()};n.prototype.isAfter=function(t){i(t);return this.valueOf()>t.valueOf()};n.prototype.isSameOrBefore=function(t){i(t);return this.valueOf()<=t.valueOf()};n.prototype.isSameOrAfter=function(t){i(t);return this.valueOf()>=t.valueOf()};n.prototype.isSame=function(t){i(t);return this.valueOf()===t.valueOf()};n.prototype.toLocalJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};n.prototype.toUTCJSDate=function(){var t=a.getInstance(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};n.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};n.prototype.valueOf=function(){return this._oUDate.getTime()};n.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getFullYear(),t.getMonth(),t.getDate(),e)};n.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript or UI5Date date object: ["+t+"].")}return new n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function r(t,a){if(a){return e.getInstance(o(t),a)}else{return new e(o(t).getTime())}}function o(t){var e=a.getInstance(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function i(t){if(!(t instanceof n)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function u(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils", ["sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/CalendarType","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,i,s){"use strict";var g={};g.MAX_MILLISECONDS=864e13;g.HOURS24=1e3*3600*24;g._createLocalDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=s.getInstance(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){n.setFullYear(r.getFullYear())}if(a){n.setHours(r.getUTCHours());n.setMinutes(r.getUTCMinutes());n.setSeconds(r.getUTCSeconds());n.setMilliseconds(r.getUTCMilliseconds())}}return n};g._createUTCDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=s.getInstance(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){n.setUTCFullYear(r.getFullYear())}if(a){n.setUTCHours(r.getHours());n.setUTCMinutes(r.getMinutes());n.setUTCSeconds(r.getSeconds());n.setUTCMilliseconds(r.getMilliseconds())}}return n};g._createUniversalUTCDate=function(t,a,n){var r;if(a){r=e.getInstance(this._createUTCDate(t,n),a)}else{r=new e(this._createUTCDate(t,n).getTime())}return r};g.calculateWeekNumber=function(t,a,n,r){var i=0;var s=0;var g=r.getFirstDayOfWeek();var u=r.firstDayStartsFirstWeek();if(u){var l=new e(t.getTime());l.setUTCFullYear(a,0,1);s=l.getUTCDay();var o=new e(t.getTime());o.setUTCDate(o.getUTCDate()-o.getUTCDay()+s);i=Math.round((o.getTime()-l.getTime())/864e5/7)+1}else{var c=new e(t.getTime());c.setUTCDate(c.getUTCDate()-g);s=c.getUTCDay();c.setUTCDate(c.getUTCDate()-s+4);var T=new e(c.getTime());T.setUTCMonth(0,1);s=T.getUTCDay();var C=0;if(s>4){C=7}var f=new e(T.getTime());f.setUTCDate(1-s+4+C);i=Math.round((c.getTime()-f.getTime())/864e5/7)+1}return i};g.getFirstDateOfWeek=function(t,a){var n=new e(t.getTime()),s,g,u=r.getInstance(i.getFormatSettings().getFormatLocale()),l=i.getLocale(),o=u.getFirstDayOfWeek(),c;if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:u.getFirstDayOfWeek(),minimalDaysInFirstWeek:u.getMinimalDaysInFirstWeek()}}c=e.getWeekByDate(n.getCalendarType(),n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),l,a);s=e.getFirstDateOfWeek(n.getCalendarType(),c.year,c.week,l,a);g=new e(e.UTC(s.year,s.month,s.day));if(a&&(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){while(g.getUTCDay()!==o){g.setUTCDate(g.getUTCDate()-1)}}return new e(e.UTC(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())).getJSDate()};g.getFirstDateOfMonth=function(t){var a=new e(t.getTime());a.setUTCDate(1);return a};g._getNumberOfWeeksForYear=function(e){var t=i.getFormatLocale(),a=r.getInstance(new n(t)),g=s.getInstance(Date.UTC(e,0,1)),u=g.getUTCDay(),l=52;if(a.getFirstDayOfWeek()===0){if(u===5||u===6){l=53}}else{if(u===3||u===4){l=53}}return l};g.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};g.isDateLastInMonth=function(e){var t=s.getInstance(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};g._updateUTCDate=function(e,t,a,n,r,i,s,g){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(g!=null){e.setUTCMilliseconds(g)}};g._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript or UI5Date date object.")}};g._checkYearInValidRange=function(e,n){var r=i.getCalendarType(),s=new t(this._minDate(a.Gregorian),n||r),g=new t(this._maxDate(a.Gregorian),n||r);if(typeof e!=="number"||e<s.getYear()||e>g.getYear()){throw new Error("Year must be in valid range (between year 0001 and year 9999 in Gregorian calendar type).")}};g._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};g._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};g._areCurrentMinutesLessThan=function(e){var t=s.getInstance().getMinutes();return e>=t};g._areCurrentMinutesMoreThan=function(e){var t=s.getInstance().getMinutes();return e<=t};g._monthsBetween=function(e,t,a){var n=s.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=s.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};g._hoursBetween=function(e,t){var a=s.getInstance(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=s.getInstance(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};g._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};g._daysInMonth=function(e){this._checkCalendarDate(e);e=new t(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};g._isLastDateInMonth=function(e){return e.getDate()===g._daysInMonth(e)};g._getFirstDateOfWeek=function(e,a){var n=r.getInstance(i.getFormatSettings().getFormatLocale());this._checkCalendarDate(e);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:n.getFirstDayOfWeek(),minimalDaysInFirstWeek:n.getMinimalDaysInFirstWeek()}}if(e.getDay()!==a.firstDayOfWeek){var s=g.getFirstDateOfWeek(e.toUTCJSDate(),a);s.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate());return t.fromLocalJSDate(s,e.getCalendarType())}return e};g._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var a=new t(e,e.getCalendarType());a.setDate(1);return a};g._minDate=function(e){var a=new t(1,0,1,e);a.setYear(1);a.setMonth(0);a.setDate(1);return a};g._maxDate=function(e){var a=new t(9999,11,1,e);a.setYear(9999);a.setMonth(11);a.setDate(this._daysInMonth(a));return new t(a)};g._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};g._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};g._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};g._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};g._checkCalendarDate=function(e){if(!e||!(e instanceof t)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};g._getWeek=function(t){this._checkCalendarDate(t);return e.getWeekByDate(t.getCalendarType(),t.getYear(),t.getMonth(),t.getDate())};g._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};return g},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomMonthPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a){"use strict";var n=e.extend(i);n.apiVersion=2;var s=t.extend("sap.ui.unified.internal.CustomMonthPicker",{metadata:{library:"sap.ui.unified"},renderer:n});s.prototype._initializeHeader=function(){var e=new r(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","monthPicker");this._bNamesLengthChecked=true};s.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=this._getYearPicker().getDate(),r=this._getMonthPicker(),a,n=r&&!r._iYear;t.prototype.onBeforeRendering.apply(this,arguments);if(this._iMode===1){if(e.length&&e[0].getStartDate()&&(!i||n||e[0].getStartDate().getFullYear()===i.getFullYear())){a=e[0].getStartDate();r.setMonth(a.getMonth());r._iYear=a.getFullYear()}}};s.prototype._closePickers=function(){this.setProperty("_currentPicker","monthPicker");this._togglePrevNext(this._getFocusedDate(),true)};s.prototype._selectYear=function(){var e=this._getMonthPicker(),t=this._getYearPicker(),i=this._getFocusedDate();i.setYear(t.getDate().getFullYear());e._setYear(i.getYear());e._setDate(i);this._focusDate(i,true);this._showMonthPicker()};s.prototype._selectMonth=function(){var e=this._getMonthPicker(),t=this.getSelectedDates()[0],i=this._getFocusedDate();if(!t){t=new a}if(!e.getIntervalSelection()){i.setMonth(e.getMonth(),1);t.setStartDate(i.toLocalJSDate());this.addSelectedDate(t)}this.fireSelect()};s.prototype.onsapescape=function(e){this.fireCancel()};s.prototype._hideMonthPicker=function(){this._hideOverlay();this._togglePrevNext(this._getFocusedDate(),true);this._bActionTriggeredFromSecondHeader=false};s.prototype.setShowCurrentDateButton=function(e){return this};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CustomYearPicker", ["sap/ui/core/Renderer","sap/ui/unified/Calendar","sap/ui/unified/CalendarRenderer","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Header","sap/ui/unified/DateRange"],function(e,t,i,r,a,n){"use strict";var s=e.extend(i);s.apiVersion=2;var o=t.extend("sap.ui.unified.internal.CustomYearPicker",{metadata:{library:"sap.ui.unified"},renderer:s});o.prototype.init=function(){t.prototype.init.apply(this,arguments);this.setProperty("_currentPicker","yearPicker");this._bNamesLengthChecked=true};o.prototype.onBeforeRendering=function(){var e=this.getSelectedDates(),i=e.length?e[0].getStartDate():undefined,a=this._getYearPicker(),n,s;if(i){n=r.fromLocalJSDate(i);n.setMonth(0,1);s=new r(this._getFocusedDate());s.setMonth(0,1);if(s.isSame(n)){a.setDate(i)}}else{a.setProperty("_middleDate",this._getFocusedDate());a.setDate(this._getFocusedDate().toLocalJSDate())}t.prototype.onBeforeRendering.call(this,arguments)};o.prototype.exit=function(){t.prototype.exit.apply(this,arguments);if(this._fnYPDelegate){this.getAggregation("yearPicker").removeDelegate(this._fnYPDelegate)}};o.prototype._initializeHeader=function(){var e=new a(this.getId()+"--Head",{visibleButton1:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};o.prototype._closePickers=function(){this.setProperty("_currentPicker","yearPicker");this._togglePrevNexYearPicker()};o.prototype._selectYear=function(){var e=this.getSelectedDates()[0],t=this._getYearPicker();if(!e){e=new n}if(!t.getIntervalSelection()){e.setStartDate(this._getYearPicker().getDate());this.addSelectedDate(e)}this.fireSelect()};o.prototype.onsapescape=function(e){this.fireCancel()};o.prototype.setShowCurrentDateButton=function(e){return this};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRow", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/Month","sap/ui/unified/library","./DatesRowRenderer","sap/ui/thirdparty/jquery","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/date/UI5Date"],function(e,t,a,r,i,jQuery,s,n,o){"use strict";var h=a.extend("sap.ui.unified.calendar.DatesRow",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Data"},days:{type:"int",group:"Appearance",defaultValue:7},showDayNamesLine:{type:"boolean",group:"Appearance",defaultValue:true},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}}},renderer:i});h.prototype.init=function(){a.prototype.init.apply(this,arguments);this._iColumns=1;this._aWeekNumbers=[];this._bAlwaysShowSpecialDates=true};h.prototype._setAriaRole=function(e){this._ariaRole=e;return this};h.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};h.prototype.setStartDate=function(a){e._checkJSDateObject(a);var r=a.getFullYear();e._checkYearInValidRange(r);this.setProperty("startDate",a);this._oStartDate=t.fromLocalJSDate(a,this.getPrimaryCalendarType());if(this.getDomRef()){var i=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(a);this._bNoRangeCheck=false;if(i&&this.checkDateFocusable(i)){this.displayDate(i)}}return this};h.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=t.fromLocalJSDate(o.getInstance(),this.getPrimaryCalendarType())}return this._oStartDate};h.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.setDate.apply(this,arguments);return this};h.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){throw new Error("Date must be in visible date range; "+this)}a.prototype.displayDate.apply(this,arguments);return this};h.prototype._setTopPosition=function(e){this._iTopPosition=e};h.prototype.setPrimaryCalendarType=function(e){a.prototype.setPrimaryCalendarType.apply(this,arguments);if(this._oStartDate){this._oStartDate=new t(this._oStartDate,e)}return this};h.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;a.prototype.setSecondaryCalendarType.apply(this,arguments);return this};h.prototype._handleBorderReached=function(e){var a=e.getParameter("event");var r=this._getRelativeInfo?this.getDays()*this._getRelativeInfo().iIntervalSize:this.getDays();var i=this._getRelativeInfo?this._getRelativeInfo().iIntervalSize:1;var s=this._getDate();var n=new t(s,this.getPrimaryCalendarType());if(a.type){switch(a.type){case"sapnext":case"sapnextmodifiers":n.setDate(n.getDate()+i);break;case"sapprevious":case"sappreviousmodifiers":n.setDate(n.getDate()-i);break;case"sappagedown":n.setDate(n.getDate()+r);break;case"sappageup":n.setDate(n.getDate()-r);break;default:break}this.fireFocus({date:n.toLocalJSDate(),otherMonth:true,_outsideBorder:true})}};h.prototype.checkDateFocusable=function(a){e._checkJSDateObject(a);if(this._bNoRangeCheck){return false}var r=this._getStartDate();var i=new t(r,this.getPrimaryCalendarType());var s=this.getDays();if(this._getRelativeInfo&&this._getRelativeInfo().bIsRelative){s=this.getDays()*this._getRelativeInfo().iIntervalSize}i.setDate(i.getDate()+s);var n=t.fromLocalJSDate(a,this.getPrimaryCalendarType());return n.isSameOrAfter(r)&&n.isBefore(i)};h.prototype._renderHeader=function(){var e=this._getStartDate();var t=e.getDay();var a=this._getLocaleData();var r=this.$("Names").children();var i=[];if(this._bLongWeekDays||!this._bNamesLengthChecked){i=a.getDaysStandAlone("abbreviated")}else{i=a.getDaysStandAlone("narrow")}var s=a.getDaysStandAlone("wide");var n=0;for(n=0;n<r.length;n++){var o=jQuery(r[n]);o.text(i[(n+t)%7]);o.attr("aria-label",s[(n+t)%7])}if(this._getShowHeader()){var h=this.$("Head");if(h.length>0){var p=sap.ui.getCore().createRenderManager();this.getRenderer().renderHeaderLine(p,this,a,e);p.flush(h[0]);p.destroy()}}};h.prototype._getFirstWeekDay=function(){return this._getStartDate().getDay()};h.prototype.getWeekNumbers=function(){var e=this.getDays(),a=this._getLocale(),r=this.getPrimaryCalendarType(),i=this._getStartDate(),o=new t(i,r),h=new t(i,r).setDate(o.getDate()+e),p=[];while(o.isBefore(h)){p.push(new t(o,r));o.setDate(o.getDate()+1)}this._aWeekNumbers=p.reduce(function(e,t){var r=s.getInstance({pattern:"w",calendarType:this.getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},new n(a));var i=Number(r.format(t.toUTCJSDate(),true));if(!e.length||e[e.length-1].number!==i){e.push({len:0,number:i})}e[e.length-1].len++;return e}.bind(this),[]);return this._aWeekNumbers};h.prototype._getCachedWeekNumbers=function(){return this._aWeekNumbers};return h});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/DatesRowRenderer", ["sap/ui/core/Renderer","sap/ui/unified/calendar/CalendarDate","./MonthRenderer","sap/ui/core/CalendarType"],function(e,a,t,r){"use strict";var n=e.extend(t);n.apiVersion=2;n.getStartDate=function(e){return e._getStartDate()};n.getClass=function(e,a){var t=["sapUiCalDatesRow","sapUiCalRow"];if(!a.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t};n.addWrapperAdditionalStyles=function(e,a){if(a._iTopPosition){e.style("top",a._iTopPosition+"px")}};n.renderMonth=function(e,a,r){if(a.isRelative&&a.isRelative()){n.renderCustomIntervals(e,a)}else{t.renderMonth.apply(this,arguments);this.renderWeekNumbers(e,a)}};n.renderCustomIntervals=function(e,a){var t;e.openStart("div",a.getId()+"-customintervals");e.openEnd();var r=a.getDays();t=100/r;var n=a._getRelativeInfo()._getIndexFromDate(a.getStartDate());for(var i=0;i<r;i++){e.openStart("div");e.class("sapUiCalItem");if(a._getRelativeInfo&&a._getRelativeInfo().bIsRelative){e.class("sapUiRelativeCalItem");e.attr("data-sap-ui-index",n+i);e.attr("tabindex","-1");var s=a._getRelativeInfo()._getDateFromIndex(n+i+1);e.attr("data-sap-day",a._oFormatYyyymmdd.format(s,true))}e.style("width",t+"%");e.openEnd();e.openStart("span");e.class("sapUiCalItemText");e.openEnd();e.text(a._getRelativeInfo?a._getRelativeInfo().intervalLabelFormatter(n+i):n+i);e.close("span");e.close("div")}e.close("div")};n.renderWeekNumbers=function(e,a){var t,n,i,s;if(a.getShowWeekNumbers()&&a._getPrimaryCalendarType()===r.Gregorian){t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");e.openStart("div",a.getId()+"-weeks");e.class("sapUiCalRowWeekNumbers");e.openEnd();n=a.getDays();i=100/n;s=a.getWeekNumbers();s.forEach(function(r){e.openStart("div",a.getId()+"-week-"+r.number+"-text");e.class("sapUiCalRowWeekNumber");e.style("width",r.len*i+"%");e.attr("data-sap-ui-week",r.number);e.openEnd();e.text(t.getText("CALENDAR_DATES_ROW_WEEK_NUMBER",[r.number]));e.close("div")});e.close("div")}};n.renderDummyCell=function(){};n.renderHeader=function(e,a,t){var r=a._getLocaleData();var n=a.getId();var i=a.getDays();var s="";if(a._getShowHeader()){e.openStart("div",n+"-Head");e.openEnd();this.renderHeaderLine(e,a,r,t);e.close("div")}s=100/i+"%";if(a.getShowDayNamesLine()){e.openStart("div",n+"-Names");e.style("display","inline");e.attr("role","row");e.openEnd();this.renderDayNames(e,a,r,t.getDay(),i,false,s);e.close("div")}};n.renderHeaderLine=function(e,t,r,n){var i=t.getId();var s=t.getDays();var o=new a(n,t.getPrimaryCalendarType());var d="";var l=0;var v=[];var p=0;for(p=0;p<s;p++){l=o.getMonth();if(v.length>0&&v[v.length-1].iMonth==l){v[v.length-1].iDays++}else{v.push({iMonth:l,iDays:1})}o.setDate(o.getDate()+1)}var g=r.getMonthsStandAlone("wide",t.getPrimaryCalendarType());for(p=0;p<v.length;p++){var u=v[p];d=100/s*u.iDays+"%";e.openStart("div",i+"-Head"+p);e.class("sapUiCalHeadText");e.style("width",d);e.openEnd();e.text(g[u.iMonth]);e.close("div")}};n.renderDays=function(e,t,r){var n=t.getDays();var i=100/n+"%";var s=t.getShowDayNamesLine();var o=t.getPrimaryCalendarType();if(!r){r=t._getFocusedDate()}var d=this.getDayHelper(t,r);if(!s){if(t._bLongWeekDays||!t._bNamesLengthChecked){d.aWeekDays=d.oLocaleData.getDaysStandAlone("abbreviated",o)}else{d.aWeekDays=d.oLocaleData.getDaysStandAlone("narrow",o)}d.aWeekDaysWide=d.oLocaleData.getDaysStandAlone("wide",o)}var l=new a(r,o);e.openStart("div");e.attr("role","row");e.openEnd();for(var v=0;v<n;v++){this.renderDay(e,t,l,d,false,false,v,i,!s);l.setDate(l.getDate()+1)}e.close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header", ["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var r=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});r.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};r.prototype._getVisibleButton3=function(){return this._visibleButton3};r.prototype._setTextButton3=function(t){o.call(this,3,t);return this};r.prototype._getTextButton3=function(){return this._textButton3};r.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};r.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};r.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};r.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};r.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};r.prototype._getVisibleButton4=function(){return this._visibleButton4};r.prototype._setTextButton4=function(t){o.call(this,4,t);return this};r.prototype._getTextButton4=function(){return this._textButton4};r.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};r.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};r.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};r.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};r.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};r.prototype.onsapnext=function(t){t.preventDefault()};function o(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer", ["sap/ui/core/Configuration"],function(t){"use strict";var e=5;var a={apiVersion:2};a.render=function(a,i){var n=t.getLocale().getLanguage();var s=i.getTooltip_AsString();var l=i.getId();var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var r=o.getText("CALENDAR_BTN_NEXT");var u=o.getText("CALENDAR_BTN_PREV");var d=o.getText("CALENDAR_BTN_TODAY");a.openStart("div",i);a.class("sapUiCalHead");if(i.getVisibleCurrentDateButton()){a.class("sapUiCalHeaderWithTodayButton")}if(s){a.attr("title",s)}a.accessibilityState(i);a.openEnd();a.openStart("button",l+"-prev");a.attr("title",u);a.accessibilityState(null,{label:u});a.class("sapUiCalHeadPrev");if(!i.getEnabledPrevious()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-left",null,{title:null});a.close("button");var c=-1;var b=-1;var g=0;var B;for(g=0;g<e;g++){if(this.getVisibleButton(i,g)){if(c<0){c=g}b=g}}for(g=0;g<e;g++){if(n.toLowerCase()==="ja"||n.toLowerCase()==="zh"){B=e-1-g;if(this._isTwoMonthsCalendar(i)){switch(g){case 0:B=2;break;case 2:B=4;break;case 1:B=1;break;case 3:B=3;break}}}else{B=g}if(this._isTwoMonthsCalendar(i)){c=2;b=3}this.renderCalendarButtons(a,i,l,c,b,B)}if(!i.getVisibleButton0()&&!i.getVisibleButton1()&&!i.getVisibleButton2()&&!i._getVisibleButton3()&&!i._getVisibleButton4()){a.openStart("div",l+"-B"+"-Placeholder");a.class("sapUiCalHeadBPlaceholder");a.openEnd();a.close("span")}a.openStart("button",l+"-next");a.attr("title",r);a.accessibilityState(null,{label:r});a.class("sapUiCalHeadNext");if(!i.getEnabledNext()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-right",null,{title:null});a.close("button");if(i.getVisibleCurrentDateButton()){a.openStart("button",l+"-today");a.attr("title",d);a.accessibilityState(null,{label:d});a.class("sapUiCalHeadB");a.class("sapUiCalHeadToday");a.openEnd();a.icon("sap-icon://appointment",null,{title:null});a.close("button")}a.close("div")};a.renderCalendarButtons=function(t,e,a,i,n,s){var l={};if(this.getVisibleButton(e,s)){t.openStart("button",a+"-B"+s);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+s);if(i===s){t.class("sapUiCalHeadBFirst")}if(n===s){t.class("sapUiCalHeadBLast")}if(this.getAriaLabelButton(e,s)){l["label"]=this.getAriaLabelButton(e,s)}t.accessibilityState(null,l);l={};t.openEnd();var o=this.getTextButton(e,s)||"";var r=this.getAdditionalTextButton(e,s)||"";if(r){t.openStart("span",a+"-B"+s+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(o);t.close("span");t.openStart("span",a+"-B"+s+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(o)}t.close("button")}};a.getVisibleButton=function(t,e){var a=false;if(t["getVisibleButton"+e]){a=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){a=t["_getVisibleButton"+e]()}return a};a.getAriaLabelButton=function(t,e){var a;if(t["getAriaLabelButton"+e]){a=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){a=t["_getAriaLabelButton"+e]()}return a};a.getTextButton=function(t,e){var a;if(t["getTextButton"+e]){a=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){a=t["_getTextButton"+e]()}return a};a.getAdditionalTextButton=function(t,e){var a;if(t["getAdditionalTextButton"+e]){a=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){a=t["_getAdditionalTextButton"+e]()}return a};a._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPicker", ["sap/ui/core/Control","sap/ui/unified/calendar/Header","sap/ui/unified/calendar/IndexPickerRenderer","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes"],function(e,t,i,a,n){"use strict";var s=e.extend("sap.ui.unified.calendar.IndexPicker",{metadata:{library:"sap.ui.unified",properties:{startIndex:{type:"int",group:"Data",defaultValue:0},selectedIndex:{type:"int",group:"Data",defaultValue:0},formatter:{type:"object",group:"Data"},rows:{type:"int",group:"Data",defaultValue:4},columns:{type:"int",group:"Data",defaultValue:3},periodSize:{type:"int",group:"Data",defaultValue:1}},aggregations:{header:{type:"sap.ui.unified.calendar.Header",multiple:false}},events:{select:{},focus:{}}},renderer:i});s.prototype.init=function(){this._initializeHeader();this.iCurrentIndex=0};s.prototype.onBeforeRendering=function(){this.getHeader().setEnabledPrevious(this.getStartIndex()>0)};s.prototype.onAfterRendering=function(){r.call(this)};s.prototype._initializeHeader=function(){var e=new t(this.getId()+"--Head",{visibleButton1:false,visibleButton2:false});e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);this.setAggregation("header",e)};s.prototype._handlePrevious=function(){this.goToPreviousPage()};s.prototype.goToPreviousPage=function(){var e=this.getStartIndex()-this.getRows()*this.getColumns();e=Math.max(0,e);this.setStartIndex(e)};s.prototype._handleNext=function(){this.goToNextPage()};s.prototype.goToNextPage=function(){var e=this.getStartIndex()+this.getRows()*this.getColumns();this.setStartIndex(e)};s.prototype.onmouseup=function(e){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))};s.prototype.onkeydown=function(e){if(e.keyCode===n.ENTER){var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype.onkeyup=function(e){if(e.keyCode===n.SPACE){e.preventDefault();var t=e.target.getAttribute("data-sap-ui-index");if(!t){return}this._selectIndex(parseInt(t))}};s.prototype._selectIndex=function(e){this.setSelectedIndex(e);this.iCurrentIndex=0;this.fireSelect({index:e})};s.prototype._getFormatter=function(){return this.getFormatter()||o};function o(e){return(e+1).toString()}function r(){var e=0,t=false,i=this.getDomRef(),n=i.querySelectorAll(".sapMIPItem"),s=this.getColumns();for(var o=0;o<n.length;o++){if(n[o].getAttribute("data-sap-ui-index")===this.getSelectedIndex()){e=o;t=true;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,u,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(s>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(s,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(n);if(!t){e=this.iCurrentIndex%n.length}this._oItemNavigation.setFocusedIndex(e);this._oItemNavigation.focusItem(e);this._oItemNavigation.setPageSize(n.length)}function u(e){var t=e.getParameter("index");var i=e.getParameter("event");if(!i){return}var a=e.getParameter("index");var n=this._oItemNavigation.getItemDomRefs();var s=n[t];this.iCurrentIndex=a;a=s.getAttribute("data-sap-ui-index");this.fireFocus({index:a})}s.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var i=parseInt(t.target.getAttribute("data-sap-ui-index"));var a=e.getParameter("index");if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===n.ARROW_DOWN){i+=this.getColumns();a+=this.getColumns()}else{i+=1;a+=1}this.goToNextPage();break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===n.ARROW_UP){i-=this.getColumns();a-=this.getColumns()}else{i-=1;a-=1}this.goToPreviousPage();break;default:break}var s=this._oItemNavigation.getItemDomRefs();a=Math.abs(s.length-Math.abs(a));this.iCurrentIndex=a;this._oItemNavigation.focusItem(s[a]);this.fireFocus({index:i})}};return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/IndexPickerRenderer", [],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var s,a={role:"gridcell",selected:false,label:"",describedby:""};e.openStart("div",t);e.class("sapMIP");e.openEnd();var l=t.getAggregation("header");e.renderControl(l);e.openStart("div");e.class("sapMIPContent");e.attr("role","grid");e.openEnd();for(var d=0;d<t.getRows();d++){e.openStart("div",t.getId()+"-"+d);e.class("sapMIPRow");e.attr("role","row");e.openEnd();var r=t.getSelectedIndex()+t.getPeriodSize()-1;for(var i=0;i<t.getColumns();i++){s=t.getStartIndex()+t.getColumns()*d+i;e.openStart("div");e.class("sapMIPItem");if(s===t.getSelectedIndex()){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelStart");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-Start"}else if(s===r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelEnd");a["selected"]=true;a["describedby"]=a["describedby"]+" "+t.sId+"-End"}else if(s>t.getSelectedIndex()&&s<r){e.class("sapUiCalItemSel");e.class("sapUiCalItemSelBetween");a["selected"]=true}else{a["selected"]=false}e.accessibilityState(null,a);e.class("sapUiCalItem");e.class("customWidth");e.attr("tabindex","-1");e.attr("data-sap-ui-index",s);e.openEnd();e.text(t._getFormatter()(s));e.close("div")}e.close("div")}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleMessage","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering","sap/ui/core/date/CalendarUtils","sap/ui/core/date/UI5Date","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,jQuery,f,y,D,_,m,v){"use strict";var S=g.InvisibleMessageMode;var C=g.CalendarType;var b=l.CalendarDayType;var M=e.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:u});M.prototype.init=function(){this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=s._minDate(this._getPrimaryCalendarType());this._oMaxDate=s._maxDate(this._getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};M.prototype._getAriaRole=function(){return"gridcell"};M.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};M.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};M.prototype.onBeforeRendering=function(){this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:C.Gregorian});this._oFormatLong=h.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()});if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){v.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}};M.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;T.call(this);P.call(this);this._oInvisibleMessage=f.getInstance()};M.prototype.onmouseover=function(e){var t=jQuery(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};M.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=jQuery(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};M.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};M.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!c(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;w.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;w.call(this)}}};M.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};M.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};M.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};M.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};M.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};M.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};M.prototype.setDate=function(e){if(e){var t=r.fromLocalJSDate(e,this._getPrimaryCalendarType());I.call(this,t)}return this.setProperty("date",e)};M.prototype._getDate=function(){if(!this._oDate){this._oDate=r.fromLocalJSDate(m.getInstance(),this._getPrimaryCalendarType())}return this._oDate};M.prototype.displayDate=function(e){var t=r.fromLocalJSDate(e,this._getPrimaryCalendarType());I.call(this,t);return this};M.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=h.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new r(this._oDate,e)}return this};M.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:e});return this};M.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};M.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=y.getFormatSettings().getFormatLocale().toString()}return this._sLocale};M.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var i=new d(t);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};M.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new d(e);this._oFormatLong=h.getInstance({style:"long",calendarType:this._getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};M.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};M.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};M.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};M.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};M.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};M.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};M.prototype._getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e._getPrimaryCalendarType){return e._getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")||y.getCalendarType()};M.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};M.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};M.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend",[])}};M.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=_.getWeekConfigurationValues(this.getCalendarWeekNumbering(),new d(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};M.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};M.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=m.getInstance()}return this._bAlwaysShowSpecialDates||s._isSameMonthAndYear(e,r.fromLocalJSDate(t))};M.prototype._checkDateSelected=function(e){s._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this._getPrimaryCalendarType(),o=0,n=this.getProperty("_focusedDate"),l=false,h=this.getParent(),g=this._bCalendar&&h.getMonths(),d,u;for(o=0;o<a.length;o++){var c=a[o],p=c.getStartDate()?r.fromLocalJSDate(c.getStartDate(),i):undefined,f=c.getEndDate()?r.fromLocalJSDate(c.getEndDate(),i):undefined;if(p&&f){u=this._arrangeStartAndEndDates(p,f);p=u.startDate;f=u.endDate}d=n&&p&&g===1&&n.getMonth()!==p.getMonth();l=this._isMarkingUnfinishedRangeAllowed()&&n&&!d&&(s._isBetween(e,p,n,true)||s._isBetween(e,n,p,true));if(p&&!f&&e.isSame(p)){t=1;break}else if(f&&e.isSame(p)){t=2;if(e.isSame(f)){t=5}break}else if(f&&e.isSame(f)){t=3;break}else if(f&&e.isAfter(p)&&e.isBefore(f)||l){t=4;break}if(this.getSingleSelection()){break}}return t};M.prototype._getDateTypes=function(e){s._checkCalendarDate(e);var t,a,i,r=[];var o=this._getSpecialDates();var n=e.toUTCJSDate().getTime();var l=m.getInstance(Date.UTC(0,0,1));for(var h=0;h<o.length;h++){var g=o[h];var d=g.getStartDate();var u=s.MAX_MILLISECONDS;if(d){l.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=l.getTime()}var c=g.getEndDate();var p=-s.MAX_MILLISECONDS;if(c){l.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=l.getTime()}i=g.getType()===b.NonWorking;if(n===u&&!c||n>=u&&n<=p){if(!i&&!t){t={type:g.getType(),tooltip:g.getTooltip_AsString(),color:g.getColor()};r.push(t)}else if(i&&!a){a={type:g.getType(),tooltip:g.getTooltip_AsString()};r.push(a)}if(t&&a){break}}}return r};M.prototype._checkDateEnabled=function(e){s._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var o=this._getPrimaryCalendarType();var n=this.getParent();if(n&&n._oMinDate&&n._oMaxDate){if(i<n._oMinDate.valueOf()||i>n._oMaxDate.valueOf()){return false}}for(var l=0;l<a.length;l++){var h=a[l];var g=h.getStartDate();var d=0;if(g){g=r.fromLocalJSDate(g,o);d=g.toUTCJSDate().getTime()}var u=h.getEndDate();var c=0;if(u){u=r.fromLocalJSDate(u,o);c=u.toUTCJSDate().getTime()}if(u){if(i>d&&i<c){t=false;break}}else if(i===d){t=false;break}}return t};M.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(c(this.getDomRef(),e.target)){var i=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day")),this._getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new r(i,this._getPrimaryCalendarType())}this._bMoveChange=true}}}};M.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||t.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var a=jQuery(e.target),i=a.siblings().eq(0).attr("data-sap-day"),s=this._oFormatYyyymmdd.parse(i),o=r.fromLocalJSDate(s,this._getPrimaryCalendarType());this._handleWeekSelection(o,true)};M.prototype.onmouseup=function(e){var a=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var i=this._getDate();var s=this._oItemNavigation.getItemDomRefs();for(var r=0;r<s.length;r++){var o=jQuery(s[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(i.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(i);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;w.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;w.call(this)}else if(t.support.touch&&a&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);w.call(this)}}};M.prototype.onsapselect=function(e){var t=this.getParent();if(this.bSpaceButtonPressed){return}if(t&&t._isMultiDatesSelectionHeaderAllowed&&!t._isMultiDatesSelectionHeaderAllowed()){return}var a=this._selectDay(this._getSelectedDateFromEvent(e));if(a){w.call(this)}e.stopPropagation();e.preventDefault()};M.prototype.onkeydown=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=true}};M.prototype.onkeyup=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=false}};M.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a,i=this.getParent();if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===p.SPACE){if(i&&i._isMultiDatesSelectionHeaderAllowed&&!i._isMultiDatesSelectionHeaderAllowed()){return}a=s._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===p.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};M.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate(),this._getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};M.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};M.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};M.prototype._bindMousemove=function(e){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};M.prototype._unbindMousemove=function(e){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};M.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this._getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}P.call(this)};M.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new r(i,this._getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===p.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===p.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};M.prototype.checkDateFocusable=function(e){s._checkJSDateObject(e);var t=this._getDate();var a=r.fromLocalJSDate(e,this._getPrimaryCalendarType());return s._isSameMonthAndYear(a,t)};M.prototype.applyFocusInfo=function(e){return this};M.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};M.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};M.prototype._getVisibleDays=function(e,t){var a,i,s,o,n,l,h;if(!e){return this._aVisibleDays}this._aVisibleDays=[];l=this._getFirstDayOfWeek();n=new r(e,this._getPrimaryCalendarType());n.setDate(1);o=n.getDay()-l;if(o<0){o=7+o}if(o>0){n.setDate(1-o)}i=new r(n);a=(e.getMonth()+1)%12;do{h=i.getYear();s=new r(i,this._getPrimaryCalendarType());if(t&&h<1){s._bBeforeFirstYear=true;this._aVisibleDays.push(s)}else if(h>0&&h<1e4){this._aVisibleDays.push(s)}i.setDate(i.getDate()+1)}while(i.getMonth()!==a||i.getDay()!==l);return this._aVisibleDays};M.prototype._handleMousedown=function(e,a){var i=e.target.classList.contains("sapUiCalWeekNum"),s=!e.button,o=this._getSelectedDateFromEvent(e);if(!s||t.support.touch){return this}if(i){this._isWeekSelectionAllowed()&&this._handleWeekSelection(o,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(o);return this}var n=this._selectDay(a);if(n){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(n&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new r(a,this._getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};M.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a);return i?r.fromLocalJSDate(i,this._getPrimaryCalendarType()):null};M.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),o=this.getIntervalSelection(),n=this._checkDateEnabled(e)?e:null,l=this._checkDateEnabled(i)?i:null;if(e.isAfter(this._oMaxDate)||i.isBefore(this._oMinDate)){return this}if(!n){n=new r(this._oMinDate)}if(!l){l=new r(this._oMaxDate)}if(!s&&!o){this._handleWeekSelectionByMultipleDays(a,n,l)}else if(s&&o){this._handleWeekSelectionBySingleInterval(a,n,l)}t&&this._focusDate(n);return this};M.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?r.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};M.prototype._calculateWeekNumber=function(e){var t=new d(this._getLocale());var a=this._getLastWeekDate(e);var i=this._getLocaleData();var s;var r;s=h.getInstance({pattern:"w",calendarType:this._getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},t);var o=i.firstDayStartsFirstWeek();if(a.getMonth()===0&&this._oDate.getMonth()===0&&o){r=s.format(a.toLocalJSDate())}else{r=s.format(e.toLocalJSDate())}return r};M.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection(),a=this._getPrimaryCalendarType(),i=this.getFirstDayOfWeek()!==-1,s=!e&&!t,r=e&&t,o=r||s;return a===C.Gregorian&&!i&&o};M.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};M.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};M.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new o({startDate:t.toLocalJSDate()}):new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};M.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,n;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}n=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(n){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};M.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};M.prototype._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};M.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new r(i.startDate),o;do{o=this._checkDateSelected(s);if(!o&&a||o&&!a){this._selectDay(s);w.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};M.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new r(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};M.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};M.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var n;var l;var h=0;var g=this.getParent();var d=this;var u;var c=this._getPrimaryCalendarType();if(g&&g.isA("sap.ui.unified.Calendar")){d=g}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=r.fromLocalJSDate(u,c)}}else{i=new o;d.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive)}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var f=this._checkDateSelected(e);if(f>0){for(h=0;h<a.length;h++){u=a[h].getStartDate();if(u&&e.isSame(r.fromLocalJSDate(u,c))){d.removeAggregation("selectedDates",h,true);break}}}else{this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive);i=new o({startDate:e.toLocalJSDate()});d.addAggregation("selectedDates",i,true)}l=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(h=0;h<s.length;h++){n=jQuery(s[h]);if(n.attr("data-sap-day")===l){if(f>0){n.removeClass("sapUiCalItemSel");n.attr("aria-selected","false")}else{n.addClass("sapUiCalItemSel");n.attr("aria-selected","true")}}}}}return true};M.prototype._getSpecialDates=function(){var e=this.getParent();if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===l.CalendarDayType.NonWorking&&t[a].getType()!==l.CalendarDayType.NonWorking;if(i){var s=new n;s.setType(l.CalendarDayType.NonWorking);s.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){s.setEndDate(t[a].getEndDate())}t.push(s)}}return t}};function T(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),s=a.querySelectorAll(".sapUiCalItem");for(var r=0;r<s.length;r++){if(s[r].getAttribute("data-sap-day")===e){t=r;break}}if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,k,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,L,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(s.length)}function k(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new r(i,this._getPrimaryCalendarType()),o=false,n=true,l=this._oItemNavigation.getItemDomRefs(),h=l[t],g=h.getAttribute("data-sap-day"),d;if(!a){return}if(h.classList.contains("sapUiCalItemOtherMonth")||h.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<l.length;++u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=l.length-1;u>0;--u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day")),this._getPrimaryCalendarType());break}}this._focusDate(s)}else{o=true;s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(g),this._getPrimaryCalendarType());if(!s){s=new r(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===g||h.classList.contains("sapUiCalItemDsbl")){n=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?g:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=r.fromLocalJSDate(this._oFormatYyyymmdd.parse(g),this._getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=h.id}if(n){this.fireFocus({date:s.toLocalJSDate(),otherMonth:o})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function L(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function I(e){s._checkCalendarDate(e);var t=e.getYear();s._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(r.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new r(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}M.prototype._focusDate=function(e,a,i){if(!a){this.setDate(e.toLocalJSDate())}var s=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===s){if(document.activeElement!==r[n]){if(i||t.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function w(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function P(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this._getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return M});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(t,e,a,i,s,o,n,jQuery,r,h,l,g,c,f){"use strict";var d=12,u=2,p={OneYearBackward:-1,OneYearForward:1};var _=t.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:n});_.prototype.init=function(){this._iMinMonth=0;this._iMaxMonth=11};_.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;m.call(this);D.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(d/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};_.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{S.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};_.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};_.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||c.getCalendarType()};_.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new h];e=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};_.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};_.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};_.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};_.prototype._setYear=function(t){this._iYear=t};_.prototype._setDate=function(t){this._oDate=t};_.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};_.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var i=new o(e);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};_.prototype.onsapspace=function(t){t.preventDefault()};_.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};_.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};_.prototype.onmouseup=function(t){var a=t.target,i=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&i){s=g.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());o=i.getEndDate();n=this._extractMonth(a);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(e.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};_.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=g.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};_.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this._getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=jQuery(t[i]);s.text(a[i])}D.call(this)};_.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>d-1){a=d-1}S.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%d;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};_.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}S.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%d;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};_.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=jQuery(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};_.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};_.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};_.prototype._getSecondaryCalendarType=function(){var t=this.getSecondaryCalendarType();if(t===this._getPrimaryCalendarType()){return undefined}return t};_.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new g(this._oDate?this._oDate:g.fromLocalJSDate(f.getInstance()),this._getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new g(a,e);a.setDate(l._daysInMonth(a));s=new g(a,e);return{start:i,end:s}};function m(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,M,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,y,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var s=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(s);this._oItemNavigation.setPageSize(e.length)}_.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=g.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setDate(1)}n=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function M(t){this._handleAfterFocus(t)}_.prototype._isSelectionInProgress=function(){var t=this._getSelectedDates()[0];if(!t){return false}return this.getIntervalSelection()&&t.getStartDate()&&!t.getEndDate()};_.prototype._extractMonth=function(t){var e=this.getId().length+u;return parseInt(t.id.slice(e))};_.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){jQuery(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){jQuery(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(l._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){jQuery(a[s]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){jQuery(a[s]).removeClass("sapUiCalItemSel")}}};_.prototype._handleMousedown=function(t,a){if(t.button||e.support.touch&&!e.system.combi){return}var i=a+this.getStartMonth();if(i>=this._iMinMonth&&i<=this._iMaxMonth){this._selectMonth(i);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function y(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,h=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType()),l=s===0&&i<d;this._iYear&&h.setYear(this._iYear);if(o&&o.getStartDate()){n=g.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(l){this._oneRowChangePage(a,true)}else if(e.keyCode===r.ARROW_DOWN&&s<=i){if(a<d-i){S.call(this,a+s,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(a%s);h.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,h)}else{if(s===0){s=i}S.call(this,a%s,true,p.OneYearForward)}}else{if(a<d-i){S.call(this,a+1,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(0);h.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,0,true,p.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(l){this._oneRowChangePage(a)}else if(e.keyCode===r.ARROW_UP&&s<=i){if(a>=i){S.call(this,a-s,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);h.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,d-s+a,true,p.OneYearBackward)}}else{if(a>=i){S.call(this,a-1,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-1);h.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,h)}else{S.call(this,d-1,true,p.OneYearBackward)}}break;case"sappagedown":if(a<d-i){S.call(this,a+i,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward})}else{S.call(this,a,true,p.OneYearForward)}break;case"sappageup":if(a>i){S.call(this,a-i,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward})}else{S.call(this,a,true,p.OneYearBackward)}break;default:break}}}_.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<d:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};_.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=g.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function D(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(d/i),o=i-1;for(var n=0;n<s;n++){if(i<d){S.call(this,o);o=o+i;if(o>d-1){o=d-1}}for(t=0;t<e.length;t++){var r=e[t];if(Math.abs(r.clientWidth-r.scrollWidth)>1){a=true;break}}if(a){break}}if(i<d){o=this.getMonth();S.call(this,o)}if(a){this._bLongMonth=false;var h=this._getLocaleData(),l=this._getPrimaryCalendarType(),g=h.getMonthsStandAlone("abbreviated",l),c=h.getMonthsStandAlone("wide",l);for(t=0;t<e.length;t++){var f=jQuery(e[t]);f.text(g[t]);f.attr("aria-label",c[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function S(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=g.fromLocalJSDate(i.getStartDate(),this._getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=g.fromLocalJSDate(i.getEndDate(),this._getPrimaryCalendarType());o.setDate(1)}else{o=g.fromLocalJSDate(f.getInstance(),this._getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}_.prototype._fnShouldApplySelection=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(a){a=g.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setDate(1)}if(this.getIntervalSelection()&&a&&i){i=g.fromLocalJSDate(i,this._getPrimaryCalendarType());i.setDate(1);if(t.isSame(a)||t.isSame(i)){return true}}else if(a&&t.isSame(a)){return true}return false};_.prototype._fnShouldApplySelectionBetween=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(this.getIntervalSelection()&&a&&i){a=g.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setDate(1);i=g.fromLocalJSDate(i,this._getPrimaryCalendarType());i.setDate(1);if(l._isBetween(t,a,i)){return true}}return false};return _});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date"],function(e,t,a,n){"use strict";var r={apiVersion:2};r.render=function(r,i){var l=i.getProperty("_firstMonth")!==undefined?i.getProperty("_firstMonth"):i.getMonth(),o=i.getMonths(),s=0,d=i.getColumns(),c=i.getTooltip_AsString(),p=i._getLocaleData(),g=i.getId(),f="",u=[],y=[],S=i.getPrimaryCalendarType(),h=i._getSecondaryCalendarType(),C=t.getDateInstance({format:"y",calendarType:i.getPrimaryCalendarType()}),b=i._iYear?i._iYear:n.getInstance().getFullYear(),_=C.format(n.getInstance(Date.UTC(b,0,1)),true),m,M,I;if(i._bLongMonth||!i._bNamesLengthChecked){u=p.getMonthsStandAlone("wide",S)}else{u=p.getMonthsStandAlone("abbreviated",S);y=p.getMonthsStandAlone("wide",S)}r.openStart("div",i);r.class("sapUiCalMonthPicker");if(h){r.class("sapUiCalMonthSecType")}if(c){r.attr("tooltip",c)}r.accessibilityState(i,{role:"grid",readonly:"true",multiselectable:i.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("MONTH_PICKER"),describedby:i._bCalendar?a.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});r.openEnd();var v;if(o>12){o=12}else if(o<12){s=l}if(d>0){f=100/d+"%"}else{f=100/o+"%"}for(m=0;m<o;m++){var T=m+s,D=e.fromLocalJSDate(n.getInstance(),i.getPrimaryCalendarType());D.setMonth(T,1);i._iYear&&D.setYear(i._iYear);v={role:"gridcell"};if(!i._bLongMonth&&i._bNamesLengthChecked){v["label"]=y[T]}if(d>0&&m%d===0){r.openStart("div");r.accessibilityState(null,{role:"row"});r.openEnd()}r.openStart("div",g+"-m"+T);r.class("sapUiCalItem");M=i._fnShouldApplySelection(D);I=i._fnShouldApplySelectionBetween(D);if(M){r.class("sapUiCalItemSel");v["selected"]=true}if(I){r.class("sapUiCalItemSelBetween");v["selected"]=true}if(!M&&!I){v["selected"]=false}if(T<i._iMinMonth||T>i._iMaxMonth){r.class("sapUiCalItemDsbl");v["disabled"]=true}v["label"]=u[T]+" "+_;if(h){var U=i.getSecondaryCalendarType(),A=p.getMonthsStandAlone("abbreviated",U),P=t.getDateInstance({format:"y",calendarType:U}),E=i._getDisplayedSecondaryDates(T),L,x,Y;if(E.start.getMonth()===E.end.getMonth()){L=A[E.start.getMonth()];x=P.format(E.start.toUTCJSDate(),true)}else{Y=p.getIntervalPattern();L=Y.replace(/\{0\}/,A[E.start.getMonth()]).replace(/\{1\}/,A[E.end.getMonth()]);x=Y.replace(/\{0\}/,P.format(E.start.toUTCJSDate(),true)).replace(/\{1\}/,P.format(E.end.toUTCJSDate(),true))}v["label"]=v["label"]+" "+L+" "+x}r.attr("tabindex","-1");r.style("width",f);r.accessibilityState(null,v);r.openEnd();r.text(u[T]);if(h){r.openStart("div",g+"-m"+T+"-secondary");r.class("sapUiCalItemSecText");r.openEnd();r.text(L);r.close("div")}r.close("div");if(d>0&&(m+1)%d===0){r.close("div")}}r.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/library","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/date/UI5Date","sap/ui/core/Configuration"],function(e,a,t,i,n,r,s,l,d,o){"use strict";var c=r.CalendarDayType;var p=n.CalendarType;var y={apiVersion:2};y.render=function(e,a){var t=this.getStartDate(a),i=a.getTooltip_AsString(),n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),r=a.getId(),s={value:"",append:true},d="",o=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(i){e.attr("title",i)}if(a._getShowHeader()){s.value=s.value+" "+r+"-Head"}if(a._bCalendar){d+=" "+l.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+l.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(o){e.style("width",o)}e.accessibilityState(a,{role:"grid",roledescription:n.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:s,describedby:d});e.openEnd();if(a.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_START_DATE"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_END_DATE"));e.close("span")}this.renderMonth(e,a,t);e.close("div")};y.addWrapperAdditionalStyles=function(){};y.getStartDate=function(e){return e._getDate()};y.getClass=function(e,a){var t=["sapUiCalMonthView"],i=a.getPrimaryCalendarType(),n=a.getShowWeekNumbers();if(i===p.Islamic||!n){t.push("sapUiCalNoWeekNum")}return t};y.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};y.renderHeader=function(e,a,t){var i=a._getLocaleData();var n=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,n,7,true,undefined);e.close("div")};y.renderHeaderLine=function(a,t,i,n){e._checkCalendarDate(n);if(t._getShowHeader()){var r=t.getId();var s=t.getPrimaryCalendarType();var l=i.getMonthsStandAlone("wide",s);a.openStart("div",r+"-Head");a.class("sapUiCalHeadText");a.openEnd();a.text(l[n.getMonth()]);a.close("div")}};y.renderDayNames=function(e,a,t,i,n,r,s){var l=a._getFirstDayOfWeek();var d=a.getId();var o="";var c=a.getPrimaryCalendarType();var y=[];if(a._bLongWeekDays||!a._bNamesLengthChecked){y=t.getDaysStandAlone("abbreviated",c)}else{y=t.getDaysStandAlone("narrow",c)}var g=t.getDaysStandAlone("wide",c);if(a.getShowWeekNumbers()&&c!==p.Islamic){this.renderDummyCell(e,"sapUiCalWH",true,"columnheader")}for(var f=0;f<n;f++){if(r){o=d+"-WH"+(f+l)%7}else{o=d+"-WH"+f}e.openStart("div",o);e.class("sapUiCalWH");if(f===0){e.class("sapUiCalFirstWDay")}if(s){e.style("width",s)}e.accessibilityState(null,{role:"columnheader",label:g[(f+i)%7]});e.openEnd();e.text(y[(f+i)%7]);e.close("div")}};y.renderDays=function(a,t,i){var n,r,s,l,d,o,c;e._checkCalendarDate(i);if(!i){i=t._getFocusedDate()}o=i.toUTCJSDate().getTime();if(!o&&o!==0){throw new Error("Date is invalid "+t)}l=this.getDayHelper(t,i);r=t._getVisibleDays(i,true);c=t.getShowWeekNumbers();n=t.getPrimaryCalendarType()!==p.Islamic&&c;s=r.length;for(d=0;d<s;d++){if(d%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(n){this._renderWeekNumber(a,r[d],l,t)}}this.renderDay(a,t,r[d],l,true,n,-1);if(d%7===6||d===s-1){a.close("div")}}if(s===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};y.renderDummyCell=function(e,a,t,i){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",t?"visible":"hidden");e.attr("role",i);e.attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_WEEK"));e.openEnd();e.close("div")};y.getDayHelper=function(e,i){var n,r,l=e._getLocaleData(),o={sLocale:e._getLocale(),oLocaleData:l,iMonth:i.getMonth(),iYear:i.getYear(),iFirstDayOfWeek:e._getFirstDayOfWeek(),iWeekendStart:l.getWeekendStart(),iWeekendEnd:l.getWeekendEnd(),aNonWorkingDays:e._getNonWorkingDays(),sToday:l.getRelativeDay(0),oToday:a.fromLocalJSDate(d.getInstance(),e.getPrimaryCalendarType()),sId:e.getId(),oFormatLong:e._getFormatLong(),sPrimaryCalendarType:e.getPrimaryCalendarType(),sSecondaryCalendarType:e._getSecondaryCalendarType(),oLegend:undefined};r=e.getLegend();if(r&&typeof r==="string"){n=sap.ui.getCore().byId(r);if(n){if(!(n instanceof t)){throw new Error(n+" is not an sap.ui.unified.CalendarLegend. "+e)}o.oLegend=n}else{s.warning("CalendarLegend "+r+" does not exist!",e)}}return o};y.renderDay=function(t,n,r,s,l,d,o,p,y){e._checkCalendarDate(r);var g=new a(r,s.sSecondaryCalendarType),f={role:n._getAriaRole(),selected:false,label:"",describedby:""},u=r._bBeforeFirstYear,D="",C=s.oLegend;var S=n._oFormatYyyymmdd.format(r.toUTCJSDate(),true);var b=r.getDay();var m=n._checkDateSelected(r);var h=n._getDateTypes(r);var v=s&&s.oLegend?s.oLegend._getSpecialDateTypeFilter():"";var E=n._checkDateEnabled(r);var _=0;var W=n._isSpecialDateMarkerEnabled(r);const k=n._oUnifiedRB.getText("LEGEND_NON_WORKING_DAY");const I=[];if(u){E=false}t.openStart("div",s.sId+"-"+S);t.class("sapUiCalItem");t.class("sapUiCalWDay"+b);if(p){t.style("width",p)}if(b===s.iFirstDayOfWeek){t.class("sapUiCalFirstWDay")}if(l&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth");f["disabled"]=true}if(r.isSame(s.oToday)){t.class("sapUiCalItemNow");I.push(n._oUnifiedRB.getText("LEGEND_TODAY"))}if(m>0){t.class("sapUiCalItemSel");f["selected"]=true}else{f["selected"]=false}if(m===2){t.class("sapUiCalItemSelStart");f["describedby"]=f["describedby"]+" "+s.sId+"-Start"}else if(m===3){t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-End"}else if(m===4){t.class("sapUiCalItemSelBetween")}else if(m===5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-Start";f["describedby"]=f["describedby"]+" "+s.sId+"-End"}if(this.renderWeekNumbers&&n._oDate){f["describedby"]=f["describedby"]+" "+n.getId()+"-week-"+n._calculateWeekNumber(r)+"-text"}if(W){h.forEach(function(e){if(e.type!==c.None){if(e.type===c.NonWorking){I.push(k);t.class("sapUiCalItemWeekEnd");return}if(v===""||v===c.None||v===e.type){t.class("sapUiCalItem"+e.type);D=e.type;if(e.tooltip){I.push(e.tooltip)}}}})}if(s.aNonWorkingDays){s.aNonWorkingDays.forEach(function(e){if(r.getDay()===e){I.push(k)}})}else if(r.getDay()===s.iWeekendStart||r.getDay()===s.iWeekendEnd){I.push(k)}if(I.length){const e=I.filter((e,a)=>I.indexOf(e)===a);t.attr("title",e.join(" "))}if((n.getParent()&&n.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||n.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&n.getStartDate()&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth")}if(!E){t.class("sapUiCalItemDsbl");f["disabled"]=true}if(s.aNonWorkingDays){for(_=0;_<s.aNonWorkingDays.length;_++){if(b===s.aNonWorkingDays[_]){t.class("sapUiCalItemWeekEnd");break}}}else if(b>=s.iWeekendStart&&b<=s.iWeekendEnd||s.iWeekendEnd<s.iWeekendStart&&(b>=s.iWeekendStart||b<=s.iWeekendEnd)){t.class("sapUiCalItemWeekEnd")}t.attr("tabindex","-1");t.attr("data-sap-day",S);if(y){f["label"]=f["label"]+s.aWeekDaysWide[b]+" "}f["label"]=f["label"]+s.oFormatLong.format(r.toUTCJSDate(),true);if(D!==""){i.addCalendarTypeAccInfo(f,D,C)}if(s.sSecondaryCalendarType){f["label"]=f["label"]+" "+n._oFormatSecondaryLong.format(g.toUTCJSDate(),true)}t.accessibilityState(null,f);t.openEnd();if(h[0]&&W){t.openStart("div");t.class("sapUiCalSpecialDate");if(h[0].color&&(v===""||v===c.None)){t.style("background-color",h[0].color)}t.openEnd();t.close("div")}t.openStart("span");t.class("sapUiCalItemText");if(h[0]&&h[0].color){t.class("sapUiCalItemTextCustomColor")}t.openEnd();if(!u){t.text(r.getDate())}t.close("span");if(y){t.openStart("span");t.class("sapUiCalDayName");t.openEnd();t.text(s.aWeekDays[b]);t.close("span")}if(s.sSecondaryCalendarType){t.openStart("span");t.class("sapUiCalItemSecText");t.openEnd();t.text(g.getDate());t.close("span")}t.close("div")};y._renderWeekNumber=function(e,a,t,i){var n=i._calculateWeekNumber(a);var r=t.sId+"-WNum-"+n;e.openStart("div",r);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:l.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+r});e.openEnd();e.text(n);e.close("div")};return y},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthsRowRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration","sap/ui/core/Core","sap/ui/core/date/UI5Date"],function(e,t,a,r,i,o,s,n,l,h,g,jQuery,p,c,u,f){"use strict";var d=e.extend("sap.ui.unified.calendar.MonthsRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:h});d.prototype.init=function(){var e=this._getPrimaryCalendarType();this._oFormatYyyymm=s.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatOnlyYearLong=s.getInstance({pattern:"yyyy",calendarType:e});this._oFormatLong=s.getInstance({pattern:"MMMM y",calendarType:e});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=u.getLibraryResourceBundle("sap.ui.unified")};d.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatYyyymm=s.getInstance({pattern:"yyyyMMdd",calendarType:e});this._oFormatLong=s.getInstance({pattern:"MMMM y",calendarType:e});return this};d.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||c.getCalendarType()};d.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);this._oFormatYearInSecType=s.getDateInstance({format:"y",calendarType:e});this._oFormatLongInSecType=s.getInstance({pattern:"MMMM y",calendarType:e});return this};d.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};d.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonths){clearTimeout(this._sInvalidateMonths)}};d.prototype.onAfterRendering=function(){y.call(this);L.call(this)};d.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){T.call(this,true);b.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;M.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;M.call(this)}}};d.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};d.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};d.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};d.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};d.prototype.setDate=function(e){if(e){var t=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this._oDate=t;S.call(this,t,false)}return this.setProperty("date",e)};d.prototype._getDisplayedSecondaryDates=function(e,t){var a=this._getSecondaryCalendarType(),o,s,n;if(this._oDate){o=new i(this._oDate)}else{o=new i(i.fromLocalJSDate(f.getInstance()),this._getPrimaryCalendarType())}o.setYear(t);o.setMonth(e);o.setDate(1);s=new i(o,a);o.setDate(r._daysInMonth(o));n=new i(o,a);return{start:s,end:n}};d.prototype._getDate=function(){if(!this._oDate){this._oDate=i.fromLocalJSDate(f.getInstance(),this.getProperty("primaryCalendarType"))}return this._oDate};d.prototype.setStartDate=function(e){r._checkJSDateObject(e);var t,a,o;a=e.getFullYear();r._checkYearInValidRange(a);t=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));this.setProperty("startDate",e,true);this._oStartDate=t;this._oStartDate.setDate(1);if(this.getDomRef()){o=this._getDate().toLocalJSDate();this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(o&&this.checkDateFocusable(o)){this.setDate(o)}}return this};d.prototype._getStartDate=function(){if(!this._oStartDate){this._oStartDate=i.fromLocalJSDate(f.getInstance(),this.getProperty("primaryCalendarType"));this._oStartDate.setDate(1)}return this._oStartDate};d.prototype.displayDate=function(e){S.call(this,i.fromLocalJSDate(e,this.getProperty("primaryCalendarType")),true);return this};d.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};d.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var r=new l(a);this._oLocaleData=t.getInstance(r)}return this._oLocaleData};d.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new l(e);this._oFormatLong=s.getInstance({style:"long",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};d.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};d.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};d.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};d.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};d.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};d.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};d.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};d.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};d.prototype._setAriaRole=function(e){this._ariaRole=e;return this};d.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};d.prototype._checkDateSelected=function(e){var t,a,o,s,n=0,l=0,h=0,g=this.getProperty("primaryCalendarType"),p,c,u;r._checkCalendarDate(e);c=this.getSelectedDates();u=new i(e);u.setDate(1);s=u.toUTCJSDate().getTime();for(p=0;p<c.length;p++){t=c[p];a=t.getStartDate();n=0;if(a){a=i.fromLocalJSDate(a,g);a.setDate(1);n=a.toUTCJSDate().getTime()}o=t.getEndDate();l=0;if(o){o=i.fromLocalJSDate(o,g);o.setDate(1);l=o.toUTCJSDate().getTime()}if(s==n&&!o){h=1;break}else if(s==n&&o){h=2;if(o&&s==l){h=5}break}else if(o&&s==l){h=3;break}else if(o&&s>n&&s<l){h=4;break}if(this.getSingleSelection()){break}}return h};d.prototype._getDateType=function(e){r._checkCalendarDate(e);var t,a,o,s,n=0,l,h=0,g,p=this.getSpecialDates(),c=new i(e),u=this.getProperty("primaryCalendarType");c.setDate(1);g=c.toUTCJSDate().getTime();for(o=0;o<p.length;o++){a=p[o];s=a.getStartDate();n=0;if(s){s=i.fromLocalJSDate(s,u);s.setDate(1);n=s.toUTCJSDate().getTime()}l=a.getEndDate();h=0;if(l){l=i.fromLocalJSDate(l,u);l.setDate(r._daysInMonth(l));h=l.toUTCJSDate().getTime()}if(g==n&&!l||g>=n&&g<=h){t={type:a.getType(),tooltip:a.getTooltip_AsString()};break}}return t};d.prototype._checkMonthEnabled=function(e){r._checkCalendarDate(e);var t=this.getParent();if(t&&t._oMinDate&&t._oMaxDate){if(r._isOutside(e,t._oMinDate,t._oMaxDate)){return false}}return true};d.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){T.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var r=i.fromLocalJSDate(this._oFormatYyyymm.parse(t.attr("data-sap-month"),this.getProperty("primaryCalendarType")));r.setDate(1);if(!r.isSame(a)){this.setDate(r.toLocalJSDate());b.call(this,r,true);this._bMoveChange=true}}};d.prototype.onmouseup=function(e){if(this._bMouseMove){T.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var r=0;r<a.length;r++){var o=jQuery(a[r]);if(o.attr("data-sap-month")==this._oFormatYyyymm.format(t.toUTCJSDate(),true)){o.trigger("focus");break}}if(this._bMoveChange){var s=jQuery(e.target);if(s.hasClass("sapUiCalItemText")){s=s.parent()}if(s.hasClass("sapUiCalItem")){t=i.fromLocalJSDate(this._oFormatYyyymm.parse(s.attr("data-sap-month")));t.setDate(1)}b.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;M.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;M.call(this)}};d.prototype.onsapselect=function(e){var t=b.call(this,this._getDate());if(t){M.call(this)}e.stopPropagation();e.preventDefault()};d.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};d.prototype.onsappageupmodifiers=function(e){var t=new i(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{var r=this.getMonths();if(r<=12){t.setYear(a-1)}else{t.setMonth(t.getMonth()-r)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};d.prototype.onsappagedownmodifiers=function(e){var t=new i(this._getDate());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{var r=this.getMonths();if(r<=12){t.setYear(a+1)}else{t.setMonth(t.getMonth()+r)}}this.fireFocus({date:t.toLocalJSDate(),notVisible:true});e.preventDefault()};d.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;var e=this._getLocaleData();var t=e.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var a=this.$("months").children();var r=this._getStartDate().getMonth();for(var i=0;i<a.length;i++){var o=jQuery(jQuery(a[i]).children(".sapUiCalItemText"));o.text(t[(i+r)%12])}L.call(this)};d.prototype.checkDateFocusable=function(e){r._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new i(t);a.setDate(1);a.setMonth(a.getMonth()+this.getMonths());var o=i.fromLocalJSDate(e,this.getProperty("primaryCalendarType"));return o.isSameOrAfter(t)&&o.isBefore(a)};d.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};function y(){var e=this._getDate();var t=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var r=0;var i=this.$("months").get(0);var o=this.$("months").children(".sapUiCalItem");for(var s=0;s<o.length;s++){var n=jQuery(o[s]);if(n.attr("data-sap-month")===t){r=s;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,m,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,v,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(o);this._oItemNavigation.setFocusedIndex(r);this._oItemNavigation.setPageSize(o.length)}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var r=this._getDate();var o=new i(r);var s=this._oItemNavigation.getItemDomRefs();var n=jQuery(s[t]);o=i.fromLocalJSDate(this._oFormatYyyymm.parse(n.attr("data-sap-month")));o.setDate(1);this.setDate(o.toLocalJSDate());this.fireFocus({date:o.toLocalJSDate(),notVisible:false});if(a.type=="mousedown"){_.call(this,a,o,t)}}function D(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var r=this._getDate();_.call(this,a,r,t)}}function v(e){var t=e.getParameter("event");var a=this.getMonths();var r=this._getDate();var o=new i(r);if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setMonth(o.getMonth()+1);break;case"sapprevious":case"sappreviousmodifiers":o.setMonth(o.getMonth()-1);break;case"sappagedown":o.setMonth(o.getMonth()+a);break;case"sappageup":o.setMonth(o.getMonth()-a);break;default:break}this.fireFocus({date:o.toLocalJSDate(),notVisible:true})}}function _(e,t,a){if(e.button){return}var r=b.call(this,t);if(r){this._bMousedownChange=true}if(this._bMouseMove){T.call(this,true);this._bMoveChange=false}else if(r&&this.getIntervalSelection()&&this.$().is(":visible")){I.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function S(e,t){r._checkCalendarDate(e);var a=e.getYear();r._checkYearInValidRange(a);var o=true;if(!this.getDate()||!e.isSame(i.fromLocalJSDate(this.getDate(),this.getProperty("primaryCalendarType")))){var s=new i(e);s.setDate(1);o=this.checkDateFocusable(e.toLocalJSDate());if(!this._bNoRangeCheck&&!o){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e.toLocalJSDate());this._oDate=s}if(this.getDomRef()){if(o){C.call(this,this._oDate,t)}}}function C(e,t){var a=this._oFormatYyyymm.format(e.toUTCJSDate(),true);var r=this._oItemNavigation.getItemDomRefs();var i;for(var o=0;o<r.length;o++){i=jQuery(r[o]);if(i.attr("data-sap-month")==a){if(document.activeElement!=r[o]){if(t){this._oItemNavigation.setFocusedIndex(o)}else{this._oItemNavigation.focusItem(o)}}break}}}function b(e,t){if(!this._checkMonthEnabled(e)){return false}var a=this.getSelectedDates();var r;var o=0;var s=this.getParent();var n=this;var l;if(s&&s.getSelectedDates){n=s}if(this.getSingleSelection()){if(a.length>0){r=a[0];l=r.getStartDate();if(l){l=i.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1)}}else{r=new p;n.addAggregation("selectedDates",r)}if(this.getIntervalSelection()&&(!r.getEndDate()||t)&&l){var h;if(e.isBefore(l)){h=l;l=e;if(!t){r.setProperty("startDate",l.toLocalJSDate());r.setProperty("endDate",h.toLocalJSDate())}}else if(e.isSameOrAfter(l)){h=e;if(!t){r.setProperty("endDate",h.toLocalJSDate())}}}else{r.setProperty("startDate",e.toLocalJSDate());r.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var g=this._checkDateSelected(e);if(g>0){for(o=0;o<a.length;o++){l=a[o].getStartDate();if(l){l=i.fromLocalJSDate(l,this.getProperty("primaryCalendarType"));l.setDate(1);if(e.isSame(l)){n.removeAggregation("selectedDates",o);break}}}}else{r=new p({startDate:e.toLocalJSDate()});n.addAggregation("selectedDates",r)}}}return true}function M(){if(this._bMouseMove){T.call(this,true)}this.fireSelect()}function L(){if(!this._bNamesLengthChecked){var e=0;var t=this.$("months").children();var a=false;var r=this.getMonths();var i=Math.ceil(12/r);var o=0;var s=this._getLocaleData();var n=s.getMonthsStandAlone("wide",this.getProperty("primaryCalendarType"));var l;for(var h=0;h<i;h++){if(r<12){for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}o=o+r;if(o>11){o=11}}for(e=0;e<t.length;e++){var g=t[e];if(Math.abs(g.clientWidth-g.scrollWidth)>1){a=true;break}}if(a){break}}if(r<12){o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(n[(e+o)%12])}}if(a){this._bLongMonth=false;var p=s.getMonthsStandAlone("abbreviated",this.getProperty("primaryCalendarType"));o=this._getStartDate().getMonth();for(e=0;e<t.length;e++){l=jQuery(jQuery(t[e]).children(".sapUiCalItemText"));l.text(p[(e+o)%12])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function I(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function T(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthsRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/unified/library","sap/base/Log","sap/ui/core/date/UI5Date"],function(e,t,a,n,r,o){"use strict";var s=n.CalendarDayType;var l={apiVersion:2};l.render=function(e,t){var a=t._getStartDate();var n=t.getTooltip_AsString();var r=t.getId();var o={value:r+"-Descr",append:true};e.openStart("div",t);e.class("sapUiCalMonthsRow");e.class("sapUiCalRow");if(n){e.attr("title",n)}e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:o});e.openEnd();e.openStart("span",r+"-Descr");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_DIALOG"));e.close("span");if(t.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_START_MONTH"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(t._rb.getText("CALENDAR_END_MONTH"));e.close("span")}this.renderRow(e,t,a);e.close("div")};l.renderRow=function(e,t,a){var n=t.getId();this.renderHeader(e,t,a);e.openStart("div",n+"-months");e.class("sapUiCalItems");e.attr("role","row");e.openEnd();this.renderMonths(e,t,a);e.close("div")};l.renderHeader=function(t,a,n){e._checkCalendarDate(n);if(a._getShowHeader()){var r=a._getLocaleData();var o=a.getId();t.openStart("div",o+"-Head");t.openEnd();this.renderHeaderLine(t,a,r,n);t.close("div")}};l.renderHeaderLine=function(a,n,r,o){e._checkCalendarDate(o);var s=n.getId();var l=n.getMonths();var d=new t(o);var i="";var c=0;var p=[];var g=0;for(g=0;g<l;g++){c=d.getYear();if(p.length>0&&p[p.length-1].iYear==c){p[p.length-1].iMonths++}else{p.push({iYear:c,iMonths:1})}d.setMonth(d.getMonth()+1)}for(g=0;g<p.length;g++){var h=p[g];i=100/l*h.iMonths+"%";a.openStart("div",s+"-Head"+g);a.class("sapUiCalHeadText");a.style("width",i);a.openEnd();a.text(h.iYear);a.close("div")}};l.renderMonths=function(e,a,n){var r=this.getHelper(a,n);var o=a.getMonths();var s=100/o+"%";var l=new t(n);l.setDate(1);for(var d=0;d<o;d++){this.renderMonth(e,a,l,r,s);l.setMonth(l.getMonth()+1)}};l.getHelper=function(a,n){e._checkCalendarDate(n);var s={};var l=a.getProperty("primaryCalendarType");s.sLocale=a._getLocale();s.oLocaleData=a._getLocaleData();s.oToday=t.fromLocalJSDate(o.getInstance(),l);s.sCurrentMonth=a._rb.getText("CALENDAR_CURRENT_MONTH");s.sId=a.getId();s.oFormatLong=a._getFormatLong();if(a._bLongMonth||!a._bNamesLengthChecked){s.aMonthNames=s.oLocaleData.getMonthsStandAlone("wide",l)}else{s.aMonthNames=s.oLocaleData.getMonthsStandAlone("abbreviated",l);s.aMonthNamesWide=s.oLocaleData.getMonthsStandAlone("wide",l)}var d=a.getLegend();if(d){var i=sap.ui.getCore().byId(d);if(i){if(!(i instanceof sap.ui.unified.CalendarLegend)){throw new Error(i+" is not an sap.ui.unified.CalendarLegend. "+a)}s.oLegend=i}else{r.warning("CalendarLegend "+d+" does not exist!",a)}}s.convertTextInfoToSecondaryType=function(e){var t=a._getSecondaryCalendarType(),n=s.oLocaleData.getMonthsStandAlone("abbreviated",t),r=a._oFormatYearInSecType,o=a._getDisplayedSecondaryDates(e.getMonth(),e.getYear()),l,d,i;if(o.start.getMonth()===o.end.getMonth()){l=n[o.start.getMonth()]}else{i=a._getLocaleData().getIntervalPattern();l=i.replace(/\{0\}/,n[o.start.getMonth()]).replace(/\{1\}/,n[o.end.getMonth()])}if(o.start.getYear()===o.end.getYear()){d=r.format(o.start.toUTCJSDate(),true)}else{d=i.replace(/\{0\}/,r.format(o.start.toUTCJSDate(),true)).replace(/\{1\}/,r.format(o.end.toUTCJSDate(),true))}return{sMonthInfo:l,sYearInfo:d}};return s};l.renderMonth=function(t,n,r,o,l){e._checkCalendarDate(r);var d=!!n._getSecondaryCalendarType(),i;if(d){i=o.convertTextInfoToSecondaryType(r)}var c={role:n._getAriaRole(),selected:false,label:"",describedby:""};var p=n._oFormatYyyymm.format(r.toUTCJSDate(),true);var g=n._checkDateSelected(r);var h=n._getDateType(r);var f=n._checkMonthEnabled(r);t.openStart("div",o.sId+"-"+p);t.class("sapUiCalItem");if(l){t.style("width",l)}if(e._isSameMonthAndYear(r,o.oToday)){t.class("sapUiCalItemNow");c["label"]=o.sCurrentMonth+" "}if(g>0){t.class("sapUiCalItemSel");c["selected"]=true}if(g==2){t.class("sapUiCalItemSelStart");c["describedby"]=c["describedby"]+" "+o.sId+"-Start"}else if(g==3){t.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-End"}else if(g==4){t.class("sapUiCalItemSelBetween")}else if(g==5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");c["describedby"]=c["describedby"]+" "+o.sId+"-Start";c["describedby"]=c["describedby"]+" "+o.sId+"-End"}if(h&&h.type!=s.None){t.class("sapUiCalItem"+h.type);if(h.tooltip){t.attr("title",h.tooltip)}}if(!f){t.class("sapUiCalItemDsbl");c["disabled"]=true}t.attr("tabindex","-1");t.attr("data-sap-month",p);c["label"]=c["label"]+o.oFormatLong.format(r.toUTCJSDate(),true);if(d){c["label"]=c["label"]+", "+i.sMonthInfo+" "+i.sYearInfo}if(h&&h.type!=s.None){a.addCalendarTypeAccInfo(c,h.type,o.oLegend)}t.accessibilityState(null,c);if(d){t.class("sapUiCalItemWithSecondaryType")}t.openEnd();t.openStart("span");t.class("sapUiCalItemText");t.openEnd();t.text(o.aMonthNames[r.getMonth()]);t.close("span");if(d){t.openStart("span");t.class("sapUiCalItemAddText");t.openEnd();t.text(i.sMonthInfo);t.close("span")}t.close("div")};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRow", ["sap/ui/unified/calendar/DatesRow","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/library","./OneMonthDatesRowRenderer"],function(t,e,a,i,o){"use strict";var s=t.extend("sap.ui.unified.calendar.OneMonthDatesRow",{metadata:{library:"sap.ui.unified"},renderer:o});s.prototype.init=function(){t.prototype.init.apply(this,arguments);this.iMode=2};s.prototype.setMode=function(t){var e=this.getSelectedDates(),a,i=this.iMode!==t;this.iMode=t;if(i&&e.length){if(this.iMode<2){a=this.getStartDate()}e[0].setProperty("startDate",a)}this.iMode<2?this._bAlwaysShowSpecialDates=false:this._bAlwaysShowSpecialDates=true;return this};s.prototype.getMode=function(){return this.iMode};s.prototype.selectDate=function(t){if(this.iMode<2&&this.getSelectedDates().length){this.getSelectedDates()[0].setStartDate(t)}return this};s.prototype.setDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.setDate.apply(this,arguments);return this};s.prototype.getDays=function(){if(this.iMode===2){return 31}else{return e._daysInMonth(a.fromLocalJSDate(this.getStartDate(),this.getPrimaryCalendarType()))}};s.prototype.displayDate=function(e){if(!this._bNoRangeCheck&&!this.checkDateFocusable(e)){return this}t.prototype.displayDate.apply(this,arguments);return this};s.prototype.onsaphome=function(t){var e=a.fromLocalJSDate(this.getStartDate());r(t);this.setDate(e.toLocalJSDate());this._focusDate(e);this.fireFocus({date:e.toLocalJSDate(),otherMonth:false})};s.prototype.onsapend=function(t){var i=this.getStartDate(),o;o=a.fromLocalJSDate(i);o.setDate(e._daysInMonth(o));r(t);this.setDate(o.toLocalJSDate());this._focusDate(o);this.fireFocus({date:o.toLocalJSDate(),otherMonth:false})};function r(t){t.stopPropagation();t.preventDefault();t.stopImmediatePropagation(true)}return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/OneMonthDatesRowRenderer", ["sap/ui/core/Renderer","./MonthRenderer","./DatesRowRenderer"],function(e,r,a){"use strict";var n=e.extend(a);n.apiVersion=2;["getClass","renderMonth","renderDays","renderHeader"].forEach(function(e){n[e]=function(n,s){if(s.iMode<2){return r[e].apply(r,arguments)}else{if(e==="getClass"){var t=["sapUiCalDatesRow","sapUiCalRow","sapUiCalOneMonthDatesRow"];if(!s.getShowDayNamesLine()){t.push("sapUiCalNoNameLine")}return t}return a[e].apply(a,arguments)}}});return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRow", ["sap/ui/core/Control","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/Locale","./TimesRowRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/ui/thirdparty/jquery","sap/ui/unified/DateRange","sap/ui/core/Configuration","sap/ui/core/date/UI5Date"],function(e,t,a,i,r,s,n,o,l,g,u,jQuery,c,h,p){"use strict";var f=e.extend("sap.ui.unified.calendar.TimesRow",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},startDate:{type:"object",group:"Data"},items:{type:"int",group:"Appearance",defaultValue:12},intervalMinutes:{type:"int",group:"Appearance",defaultValue:60},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},notVisible:{type:"boolean"}}}}},renderer:l});f.prototype.init=function(){this._oFormatYyyyMMddHHmm=n.getInstance({pattern:"yyyyMMddHHmm",calendarType:this.getProperty("primaryCalendarType")});this._oFormatLong=n.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")});this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")});this._mouseMoveProxy=jQuery.proxy(this._handleMouseMove,this);this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};f.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}};f.prototype.onAfterRendering=function(){d.call(this)};f.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!g(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){M.call(this,true);C.call(this,this._getDate());this._bMoveChange=false;this._bMousedownChange=false;I.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}}};f.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};f.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};f.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};f.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};f.prototype.setIntervalMinutes=function(e){if(e>=720){throw new Error("Only intervals < 720 minutes are allowed; "+this)}if(1440%e>0){throw new Error("A day must be divisible by the interval size; "+this)}this.setProperty("intervalMinutes",e,false);this._oFormatTime=undefined;return this};f.prototype.setDate=function(e){D.call(this,e,false);return this.setProperty("date",e)};f.prototype._getDate=function(){if(!this._oUTCDate){this._oUTCDate=i._createUniversalUTCDate(p.getInstance(),undefined,true)}return this._oUTCDate};f.prototype.setStartDate=function(e){i._checkJSDateObject(e);var t=e.getFullYear();i._checkYearInValidRange(t);var a=i._createUniversalUTCDate(e,undefined,true);this.setProperty("startDate",e);this._oUTCStartDate=this._getIntervalStart(a);if(this.getDomRef()){var r=i._createLocalDate(this._getDate(),true);this._bNoRangeCheck=true;this.displayDate(e);this._bNoRangeCheck=false;if(r&&this.checkDateFocusable(r)){this.displayDate(r)}}return this};f.prototype._getStartDate=function(){if(!this._oUTCStartDate){this._oUTCStartDate=i._createUniversalUTCDate(p.getInstance(),undefined,true);this._oUTCStartDate=this._getIntervalStart(this._oUTCStartDate)}return this._oUTCStartDate};f.prototype.displayDate=function(e){D.call(this,e,true);return this};f.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=h.getFormatSettings().getFormatLocale().toString()}return this._sLocale};f.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var a=this._getLocale();var i=new o(a);this._oLocaleData=t.getInstance(i)}return this._oLocaleData};f.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!=e){var t=new o(e);this._oFormatLong=n.getDateTimeInstance({style:"long/short",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatLong};f.prototype._getFormatTime=function(){var e=this._getLocale();if(!this._oFormatTime||this._oFormatTime.oLocale.toString()!=e){var t=new o(e);var a=this.getIntervalMinutes();var i=this._getLocaleData();var r;var s=i.getTimePattern("short");this._oFormatTimeAmPm=undefined;if(a%60==0){r=S(s);if(s.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t)}}else{r=s;r=r.replace("HH","H");r=r.replace("hh","h");if(r.search("a")>=0){this._oFormatTimeAmPm=n.getTimeInstance({pattern:"a",calendarType:this.getProperty("primaryCalendarType")},t);r=r.replace("a","").trim()}}this._oFormatTime=n.getTimeInstance({pattern:r,calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatTime};f.prototype._getFormatDate=function(){var e=this._getLocale();if(this._oFormatDate.oLocale.toString()!=e){var t=new o(e);this._oFormatDate=n.getDateInstance({style:"medium",calendarType:this.getProperty("primaryCalendarType")},t)}return this._oFormatDate};f.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};f.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};f.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};f.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};f.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowItemHeader){return e._getShowItemHeader()}else{return this.getProperty("showHeader")}};f.prototype.getIntervalMinutes=function(){var e=this.getParent();if(e&&e.getIntervalMinutes){return e.getIntervalMinutes()}else{return this.getProperty("intervalMinutes")}};f.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};f.prototype._setLegendControlOrigin=function(e){this._oLegendControlOrigin=e};f.prototype.getLegend=function(){var e=this.getParent();if(this._oLegendControlOrigin){return this._oLegendControlOrigin.getLegend()}if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("ariaLabelledBy",[])}};f.prototype._checkDateSelected=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=0;var a=this.getSelectedDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var c=l.getEndDate();var h=0;if(c){c=i._createUniversalUTCDate(c,undefined,true);c=this._getIntervalStart(c);h=c.getTime()}if(n==u&&!c){t=1;break}else if(n==u&&c){t=2;if(c&&n==h){t=5}break}else if(c&&n==h){t=3;break}else if(c&&n>u&&n<h){t=4;break}if(this.getSingleSelection()){break}}return t};f.prototype._getDateType=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t;var a=this.getSpecialDates();var s=new r(e.getTime());s=this._getIntervalStart(s);var n=s.getTime();for(var o=0;o<a.length;o++){var l=a[o];var g=l.getStartDate();var u=0;if(g){g=i._createUniversalUTCDate(g,undefined,true);g=this._getIntervalStart(g);u=g.getTime()}var c=l.getEndDate();var h=0;if(c){c=i._createUniversalUTCDate(c,undefined,true);c=this._getIntervalStart(c);c.setUTCMinutes(c.getUTCMinutes()+this.getIntervalMinutes()-1);h=c.getTime()}else if(g.getUTCHours()==0&&g.getUTCMinutes()==0&&g.getUTCSeconds()==0&&g.getUTCMilliseconds()==0){c=new r(g.getTime());c.setUTCDate(c.getUTCDate()+1);h=c.getTime()}if(n==u&&!c||n>=u&&n<=h){t={type:l.getType(),tooltip:l.getTooltip_AsString(),color:l.getColor()};break}}return t};f.prototype._checkTimeEnabled=function(e){if(!(e instanceof r)){throw new Error("Date must be a UniversalDate object "+this)}var t=e.getTime();var a=this.getParent();if(a&&a._oMinDate&&a._oMaxDate){if(t<a._oMinDate.getTime()||t>a._oMaxDate.getTime()){return false}}return true};f.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){M.call(this,true)}var t=jQuery(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(t.hasClass("sapUiCalItem")){var a=this._getDate();var i=new r(this._oFormatYyyyMMddHHmm.parse(t.attr("data-sap-time"),true).getTime());if(i.getTime()!=a.getTime()){this._oUTCDate=i;C.call(this,i,true);this._bMoveChange=true}}};f.prototype.onmouseup=function(e){if(this._bMouseMove){M.call(this,true);var t=this._getDate();var a=this._oItemNavigation.getItemDomRefs();for(var i=0;i<a.length;i++){var s=jQuery(a[i]);if(s.attr("data-sap-time")==this._oFormatYyyyMMddHHmm.format(t.getJSDate(),true)){s.trigger("focus");break}}if(this._bMoveChange){var n=jQuery(e.target);if(n.hasClass("sapUiCalItemText")){n=n.parent()}if(n.hasClass("sapUiCalItem")){t=new r(this._oFormatYyyyMMddHHmm.parse(n.attr("data-sap-time"),true).getTime())}C.call(this,t);this._bMoveChange=false;this._bMousedownChange=false;I.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;I.call(this)}};f.prototype.onsapselect=function(e){var t=C.call(this,this._getDate());if(t){I.call(this)}e.stopPropagation();e.preventDefault()};f.prototype.onsapselectmodifiers=function(e){this.onsapselect(e)};f.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a-7)}else{t.setUTCDate(a-1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};f.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate().getTime());var a=t.getUTCDate();if(e.metaKey||e.ctrlKey){t.setUTCDate(a+7)}else{t.setUTCDate(a+1)}this.fireFocus({date:i._createLocalDate(t,true),notVisible:true});e.preventDefault()};f.prototype.checkDateFocusable=function(e){i._checkJSDateObject(e);if(this._bNoRangeCheck){return false}var t=this._getStartDate();var a=new r(t.getTime());a.setUTCMinutes(a.getUTCMinutes()+this.getItems()*this.getIntervalMinutes());var s=i._createUniversalUTCDate(e,undefined,true);if(s.getTime()>=t.getTime()&&s.getTime()<a.getTime()){return true}else{return false}};f.prototype.applyFocusInfo=function(e){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());return this};f.prototype._getIntervalStart=function(e){var t=e.getTime();var a=new r(e.getTime());a.setUTCHours(0);a.setUTCMinutes(0);a.setUTCSeconds(0);a.setUTCMilliseconds(0);var i=this.getIntervalMinutes();while(a.getTime()<=t){a.setUTCMinutes(a.getUTCMinutes()+i)}var s=new r(a.getTime());s.setUTCMinutes(s.getUTCMinutes()-i);return s};f.prototype._setAriaRole=function(e){this._ariaRole=e;return this};f.prototype._getAriaRole=function(){return this._ariaRole?this._ariaRole:"gridcell"};f.prototype._updateItemARIASelected=function(e,t){var a=this._getAriaRole();if(a==="gridcell"){e.attr("aria-selected",t)}return this};function d(){var e=this._getDate();var t=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=0;var r=this.$("times").get(0);var s=this.$("times").children(".sapUiCalItem");for(var n=0;n<s.length;n++){var o=jQuery(s[n]);if(o.attr("data-sap-time")===t){i=n;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,m,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,v,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,_,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(1,true)}this._oItemNavigation.setRootDomRef(r);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(i);this._oItemNavigation.setPageSize(s.length)}function m(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}var s=this._getDate();var n=new r(s.getTime());var o=this._oItemNavigation.getItemDomRefs();var l=jQuery(o[t]);n=new r(this._oFormatYyyyMMddHHmm.parse(l.attr("data-sap-time"),true).getTime());this._oUTCDate=n;this.fireFocus({date:i._createLocalDate(n,true),notVisible:false});if(a.type=="mousedown"){y.call(this,a,n,t)}}function v(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type=="mousedown"){var i=this._getDate();y.call(this,a,i,t)}}function _(e){var t=e.getParameter("event");var a=this.getItems();var s=this.getIntervalMinutes();var n=this._getDate();var o=new r(n.getTime());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":o.setUTCMinutes(o.getUTCMinutes()+s);break;case"sapprevious":case"sappreviousmodifiers":o.setUTCMinutes(o.getUTCMinutes()-s);break;case"sappagedown":o.setUTCMinutes(o.getUTCMinutes()+s*a);break;case"sappageup":o.setUTCMinutes(o.getUTCMinutes()-s*a);break;default:break}this.fireFocus({date:i._createLocalDate(o,true),notVisible:true})}}function y(e,t,a){if(e.button){return}var i=C.call(this,t);if(i){this._bMousedownChange=true}if(this._bMouseMove){M.call(this,true);this._bMoveChange=false}else if(this.getIntervalSelection()&&this.$().is(":visible")){b.call(this,true)}e.preventDefault();e.setMark("cancelAutoClose")}function D(e,t){i._checkJSDateObject(e);var a=e.getFullYear();i._checkYearInValidRange(a);var r=true;if(!u(this.getDate(),e)){var s=i._createUniversalUTCDate(e,undefined,true);s=this._getIntervalStart(s);r=this.checkDateFocusable(e);if(!this._bNoRangeCheck&&!r){throw new Error("Date must be in visible date range; "+this)}this.setProperty("date",e);this._oUTCDate=s}if(this.getDomRef()){if(r){T.call(this,this._oUTCDate,t)}else{this.setDate(e)}}}function T(e,t){var a=this._oFormatYyyyMMddHHmm.format(e.getJSDate(),true);var i=this._oItemNavigation.getItemDomRefs();var r;for(var s=0;s<i.length;s++){r=jQuery(i[s]);if(r.attr("data-sap-time")==a){if(document.activeElement!=i[s]){if(t){this._oItemNavigation.setFocusedIndex(s)}else{this._oItemNavigation.focusItem(s)}}break}}}function C(e,t){if(!this._checkTimeEnabled(e)){return false}var a=this.getSelectedDates();var r;var s=0;var n=this.getParent();var o=this;var l;if(n&&n.getSelectedDates){o=n}if(this.getSingleSelection()){if(a.length>0){r=a[0];l=r.getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l)}}else{r=new c;o.addAggregation("selectedDates",r)}if(this.getIntervalSelection()&&(!r.getEndDate()||t)&&l){var g;if(e.getTime()<l.getTime()){g=l;l=e;if(!t){r.setProperty("startDate",i._createLocalDate(p.getInstance(l.getTime()),true));r.setProperty("endDate",i._createLocalDate(p.getInstance(g.getTime()),true))}}else if(e.getTime()>=l.getTime()){g=e;if(!t){r.setProperty("endDate",i._createLocalDate(p.getInstance(g.getTime()),true))}}}else{r.setProperty("startDate",i._createLocalDate(p.getInstance(e.getTime()),true));r.setProperty("endDate",undefined)}}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var u=this._checkDateSelected(e);if(u>0){for(s=0;s<a.length;s++){l=a[s].getStartDate();if(l){l=i._createUniversalUTCDate(l,undefined,true);l=this._getIntervalStart(l);if(e.getTime()==l.getTime()){o.removeAggregation("selectedDates",s);break}}}}else{r=new c({startDate:i._createLocalDate(p.getInstance(e.getTime()),true)});o.addAggregation("selectedDates",r)}}}return true}function I(){if(this._bMouseMove){M.call(this,true)}this.fireSelect()}function b(){jQuery(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true}function M(){jQuery(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined}function S(e){var t;if(e.toUpperCase().indexOf("K")>-1){t=e.indexOf("k")>-1?"k":"K"}else{t=e.indexOf("h")>-1?"h":"H"}return t}return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/TimesRowRenderer", ["sap/ui/unified/calendar/CalendarUtils","sap/ui/core/format/TimezoneUtil","sap/ui/core/Core","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/date/UI5Date","sap/ui/unified/library","sap/base/Log"],(function(e,t,a,s,n,i,r,l){"use strict";var o=r.CalendarDayType,d={apiVersion:2,render:function(e,t){var a=t._getStartDate(),s=t.getTooltip_AsString(),n=t.getId(),i={value:n+"-Descr",append:!0};e.openStart("div",t),e.class("sapUiCalTimesRow"),e.class("sapUiCalRow"),s&&e.attr("title",s),t._getShowHeader()&&(i.value=i.value+" "+n+"-Head"),e.accessibilityState(t,{role:"grid",readonly:"true",multiselectable:!t.getSingleSelection()||t.getIntervalSelection(),labelledby:i}),e.openEnd(),e.openStart("span",n+"-Descr"),e.style("display","none"),e.openEnd(),e.text(t._rb.getText("CALENDAR_DIALOG")),e.close("span"),t.getIntervalSelection()&&(e.openStart("span",n+"-Start"),e.style("display","none"),e.openEnd(),e.text(t._rb.getText("CALENDAR_START_TIME")),e.close("span"),e.openStart("span",n+"-End"),e.style("display","none"),e.openEnd(),e.text(t._rb.getText("CALENDAR_END_TIME")),e.close("span")),this.renderRow(e,t,a),e.close("div")},renderRow:function(e,t,a){var s=t.getId();this.renderHeader(e,t,a),e.openStart("div",s+"-times"),e.class("sapUiCalItems"),e.attr("role","row"),e.openEnd(),this.renderTimes(e,t,a),e.close("div")},renderHeader:function(e,t,a){if(t._getShowHeader()){var s=t._getLocaleData(),n=t.getId();e.openStart("div",n+"-Head"),e.openEnd(),this.renderHeaderLine(e,t,s,a),e.close("div")}},renderHeaderLine:function(e,t,a,s){var n=t._getFormatDate(),i=t.getId(),r=t.getItems(),l=t._getIntervalStart(s),o=t.getIntervalMinutes(),d="",c=0,p=[],m=0;for(m=0;m<r;m++)c=n.format(l,!0),p.length>0&&p[p.length-1].sDay==c?p[p.length-1].iItems++:p.push({sDay:c,iItems:1}),l.setUTCMinutes(l.getUTCMinutes()+o);for(m=0;m<p.length;m++){var g=p[m];d=100/r*g.iItems+"%",e.openStart("div",i+"-Head"+m),e.class("sapUiCalHeadText"),e.style("width",d),e.openEnd(),e.text(g.sDay),e.close("div")}},renderTimes:function(e,t,a){for(var s=this.getHelper(t,a),n=t.getItems(),i=100/n+"%",r=t._getIntervalStart(a),l="",o="",d=0;d<n;d++)s.oFormatTimeAmPm&&(l==(o=s.oFormatTimeAmPm.format(r,!0))?o="":l=o),this.renderTime(e,t,r,s,i,o),r.setUTCMinutes(r.getUTCMinutes()+s.iMinutes)},getHelper:function(t,a){var s={};s.sLocale=t._getLocale(),s.oLocaleData=t._getLocaleData(),s.oNow=e._createUniversalUTCDate(i.getInstance(),void 0,!0),s.sCurrentTime=t._rb.getText("CALENDAR_CURRENT_TIME"),s.sId=t.getId(),s.oFormatLong=t._getFormatLong(),s.oFormatTime=t._getFormatTime(),s.oFormatTimeAmPm=t._oFormatTimeAmPm,s.iMinutes=t.getIntervalMinutes();var n=t.getLegend();if(!n)return s;if(0===n.length)return s;if(n){var r=sap.ui.getCore().byId(n);if(r){if(!(r instanceof sap.ui.unified.CalendarLegend))throw new Error(r+" is not an sap.ui.unified.CalendarLegend. "+t);s.oLegend=r}else l.warning("CalendarLegend "+n+" does not exist!",t)}return s},renderTime:function(e,t,a,i,r,l){var d=t._getAriaRole(),c={role:d,selected:"gridcell"!==d&&null,label:"",describedby:""},p=t._oFormatYyyyMMddHHmm.format(a.getJSDate(),!0),m=t._checkDateSelected(a),g=t._getDateType(a),u=t._checkTimeEnabled(a);e.openStart("div",i.sId+"-"+p),e.class("sapUiCalItem"),r&&e.style("width",r);var T=new s(a.getTime());T.setUTCMinutes(T.getUTCMinutes()+i.iMinutes),a.getTime()<=i.oNow.getTime()&&T.getTime()>i.oNow.getTime()&&(e.class("sapUiCalItemNow"),c.label=i.sCurrentTime+" "),m>0&&(e.class("sapUiCalItemSel"),"gridcell"===d&&(c.selected=!0)),2==m?(e.class("sapUiCalItemSelStart"),c.describedby=c.describedby+" "+i.sId+"-Start"):3==m?(e.class("sapUiCalItemSelEnd"),c.describedby=c.describedby+" "+i.sId+"-End"):4==m?e.class("sapUiCalItemSelBetween"):5==m&&(e.class("sapUiCalItemSelStart"),e.class("sapUiCalItemSelEnd"),c.describedby=c.describedby+" "+i.sId+"-Start",c.describedby=c.describedby+" "+i.sId+"-End"),g&&g.type!=o.None&&(e.class("sapUiCalItem"+g.type),g.tooltip&&e.attr("title",g.tooltip)),u||(e.class("sapUiCalItemDsbl"),c.disabled=!0),e.attr("tabindex","-1"),e.attr("data-sap-time",p),c.label=c.label+i.oFormatLong.format(a,!0),g&&g.type!=o.None&&n.addCalendarTypeAccInfo(c,g.type,i.oLegend),e.accessibilityState(null,c),e.openEnd(),g&&g.type!=o.None&&(e.openStart("div"),e.class("sapUiCalSpecialDate"),g.color&&e.style("background-color",g.color),e.openEnd(),e.close("div")),e.openStart("span"),e.class("sapUiCalItemText"),e.openEnd(),e.text(i.oFormatTime.format(a,!0)),l&&(e.openStart("span"),e.class("sapUiCalItemTextAmPm"),e.openEnd(),e.text(l),e.close("span")),e.close("span"),e.close("div")}};return d}),!0);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker", ["sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/date/UI5Date","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,a,r,i,s,o,n,l,h,d,p,g,y,jQuery,c){"use strict";var u=l.CalendarType;var m=e.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:g});m.prototype.init=function(){var e=p.getInstance();e.setFullYear(2e3);this.setProperty("date",e);this._oFormatYyyymmdd=n.getInstance({pattern:"yyyyMMdd",calendarType:u.Gregorian});this._oMinDate=r._minDate(this._getPrimaryCalendarType());this._oMaxDate=r._maxDate(this._getPrimaryCalendarType())};m.prototype.onBeforeRendering=function(){this._oYearFormat=n.getDateInstance({format:"y",calendarType:this._getPrimaryCalendarType()})};m.prototype.onAfterRendering=function(){f.call(this);this.focus()};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};m.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new i(e,0,1,this._getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};m.prototype.setDate=function(e){var t=r._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,s,o,n;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);a=i.fromLocalJSDate(e,this._getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;o=this.getYears();n=Math.floor(o/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+o-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};m.prototype._getDate=function(){if(!this._oDate){var e=this.getDate().getFullYear();this._oDate=new i(e,0,1,this._getPrimaryCalendarType())}return this._oDate};m.prototype._getPrimaryCalendarType=function(){return this.getProperty("primaryCalendarType")||c.getCalendarType()};m.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new s];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new i(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new i(this._oMinDate,e);this._oMaxDate=new i(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};m.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};m.prototype.onsapspace=function(e){e.preventDefault()};m.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};m.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,s,o;if(!a){return}if(a.getStartDate()){r=i.fromLocalJSDate(a.getStartDate(),this._getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){o=t.getAttribute("data-sap-year-start");s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,s)}}};m.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};m.prototype.onmouseup=function(e){var a=e.target,r=this._getSelectedDates()[0],s,o,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&r){o=a.getAttribute("data-sap-year-start");l=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());n=i.fromLocalJSDate(r.getStartDate(),this._getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!r.getEndDate()){s=h.index(a);this._selectYear.call(this,s);this._oItemNavigation.focusItem(s)}}this.fireSelect()}else if(t.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){s=this._oItemNavigation.getFocusedIndex();if(!h[s].classList.contains("sapUiCalItemDsbl")){this._selectYear(s);this.fireSelect()}}};m.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),s,o,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){o=a[n].getAttribute("data-sap-year-start");s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(o),this._getPrimaryCalendarType());if(this._bMousedownChange){if((s.isSame(e)||s.isSame(t))&&!r._isOutside(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSel")}else{jQuery(a[n]).removeClass("sapUiCalItemSel")}}if(r._isBetween(s,e,t)&&r._isBetween(s,this._oMinDate,this._oMaxDate)){jQuery(a[n]).addClass("sapUiCalItemSelBetween")}else{jQuery(a[n]).removeClass("sapUiCalItemSelBetween")}}};m.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=this._oFormatYyyymmdd.parse(jQuery(t[0]).attr("data-sap-year-start"))}return e};m.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype._getSecondaryCalendarType=function(){var e=this.getSecondaryCalendarType();if(e===this._getPrimaryCalendarType()){return undefined}return e};m.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new i(e,e.getCalendarType()),r=new i(e,e.getCalendarType());a.setMonth(0,1);a=new i(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new i(r,t);return{start:a,end:r}};m.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=d.getInstance(a)}return this._oLocaleData};m.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new i(this._oMaxDate,this._getPrimaryCalendarType());if(!a.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new i(a,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new i(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};m.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};m.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(r[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType());var o=this.getYears();if(e){var n=new i(this._oMaxDate,this._getPrimaryCalendarType());n.setYear(n.getYear()-o+1);if(s.isBefore(n)){s.setYear(s.getYear()+o);if(s.isAfter(n)){t=t+(s.getYear()-n.getYear());if(t>o-1){t=o-1}s=new i(this._oMaxDate,this._getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-o);if(s.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-s.getYear());if(t<0){t=0}s=new i(this._oMinDate,this._getPrimaryCalendarType())}}else{return}}s.setYear(s.getYear()+Math.floor(o/2));this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(a){this.firePageChange()}};m.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=jQuery(t[e]),r=a.attr("data-sap-year-start"),s=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType()),o=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",s.getYear(),h);this.setProperty("date",s.toLocalJSDate(),h);if(!o){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",o)}!this.getIntervalSelection()&&o.setStartDate(s.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!o.getStartDate()){o.setStartDate(s.toLocalJSDate(),h)}else if(!o.getEndDate()){l=i.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());if(s.isBefore(l)){o.setEndDate(l.toLocalJSDate(),h);o.setStartDate(s.toLocalJSDate(),h)}else{o.setEndDate(s.toLocalJSDate(),h)}}else{o.setStartDate(s.toLocalJSDate(),h);o.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=jQuery(t[d]);r=a.attr("data-sap-year-start");var p=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(r),this._getPrimaryCalendarType());var g=this._fnShouldApplySelection(p);var y=this._fnShouldApplySelectionBetween(p);if(g){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(y){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!g&&!y){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};m.prototype._isSelectionInProgress=function(){var e=this._getSelectedDates()[0];if(!e){return false}return this.getIntervalSelection()&&e.getStartDate()&&!e.getEndDate()};function f(){var e=this.getDate()?i.fromLocalJSDate(this.getDate(),this._getPrimaryCalendarType()):this._getDate(),t=this.getDomRef(),s=this.$().find(".sapUiCalItem"),o,n,l,h;for(h=0;h<s.length;++h){n=s[h].getAttribute("data-sap-year-start");l=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(n),this._getPrimaryCalendarType());if(l.isSame(e)){o=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,_,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,D,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(r._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(o)}this._oItemNavigation.setPageSize(s.length)}function _(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],s=this._getSelectedDates()[0],o,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=i.fromLocalJSDate(s.getStartDate(),this._getPrimaryCalendarType());o.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(l),this._getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(o,n)}}}function D(e){_.call(this,e)}m.prototype._handleMousedown=function(e,a){if(e.button||t.support.touch&&!t.system.combi){return}var r=this._selectYear(a);if(r){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function S(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),s=this.getColumns(),o=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(o&&o.getStartDate()){l=i.fromLocalJSDate(o.getStartDate(),this._getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(s===0){s=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===y.ARROW_DOWN&&s<r){d=n[a-r+s].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a-r+s,true);this._iSelectedIndex=a-r+s}else{d=n[0].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===y.ARROW_UP&&s<r){d=n[r-s+a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-s+a,true);this._iSelectedIndex=r-s+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=i.fromLocalJSDate(this._oFormatYyyymmdd.parse(d),this._getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}m.prototype._fnShouldApplySelection=function(e){var t=this._getSelectedDates()[0],a,r;if(!t){return false}a=t.getStartDate();r=t.getEndDate();if(a){a=i.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setMonth(0,1)}if(this.getIntervalSelection()&&a&&r){r=i.fromLocalJSDate(r,this._getPrimaryCalendarType());r.setMonth(0,1);if(e.isSame(a)||e.isSame(r)){return true}}else if(a&&e.isSame(a)){return true}return false};m.prototype._fnShouldApplySelectionBetween=function(e){var t=this._getSelectedDates()[0],a,s;if(!t){return false}a=t.getStartDate();s=t.getEndDate();if(this.getIntervalSelection()&&a&&s){a=i.fromLocalJSDate(a,this._getPrimaryCalendarType());a.setMonth(0,1);s=i.fromLocalJSDate(s,this._getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(e,a,s)){return true}}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer", ["sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i){"use strict";var l={apiVersion:2};l.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};l.getAccessibilityState=function(e){return{role:"grid",readonly:"true",multiselectable:e.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_PICKER"),describedby:e._bCalendar?i.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};l.renderCells=function(i,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new e(s,l.getPrimaryCalendarType()),d=t._minDate(l.getProperty("primaryCalendarType")).getYear(),o=t._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),y=l.getColumns(),u=l._getSecondaryCalendarType(),g="",f=false,C=l._getLocaleData(),S,m,_,D,T,b;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(y>0){g=100/y+"%"}else{g=100/c+"%"}for(b=0;b<c;b++){T=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};f=l._checkDateEnabled(n);if(y>0&&b%y==0){i.openStart("div");i.accessibilityState(null,{role:"row"});i.openEnd()}i.openStart("div",p+"-y"+T);i.class("sapUiCalItem");m=l._fnShouldApplySelection(n);_=l._fnShouldApplySelectionBetween(n);if(m){i.class("sapUiCalItemSel");D["selected"]=true}if(_){i.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!f){i.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(a.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(u){var Y=l._getDisplayedSecondaryDates(n),v=r.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(Y.start.getYear()===Y.end.getYear()){I=v.format(Y.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(Y.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(Y.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}i.attr("tabindex","-1");i.attr("data-sap-year-start",T);i.style("width",g);i.accessibilityState(null,D);i.openEnd();i.text(S);if(u){i.openStart("div",p+"-y"+T+"-secondary");i.class("sapUiCalItemSecText");i.openEnd();i.text(I);i.close("div")}i.close("div");n.setYear(n.getYear()+1);if(y>0&&(b+1)%y==0){i.close("div")}}};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePicker", ["./YearPicker","./YearRangePickerRenderer","./CalendarDate","./CalendarUtils","sap/ui/thirdparty/jquery"],function(e,t,a,r,jQuery){"use strict";var i=e.extend("sap.ui.unified.calendar.YearRangePicker",{metadata:{library:"sap.ui.unified",properties:{years:{type:"int",group:"Appearance",defaultValue:9},columns:{type:"int",group:"Appearance",defaultValue:3},rangeSize:{type:"int",group:"Appearance",defaultValue:20}}},renderer:t});i.prototype.setDate=function(e){var t,i,s,n,o;e&&r._checkJSDateObject(e);i=e.getFullYear();r._checkYearInValidRange(i);t=a.fromLocalJSDate(e,this._getPrimaryCalendarType());t.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",t.getYear());this._oDate=t;s=this.getYears();o=Math.floor(s/2);n=new a(this._oDate,this._getPrimaryCalendarType());n=this._checkFirstDate(n);this._iSelectedIndex=o;this.setProperty("_middleDate",n);return this};i.prototype._checkFirstDate=function(e){var t=this.getYears();var i=new a(this._oMaxDate,this._getPrimaryCalendarType());if(!i.isSame(r._maxDate(this._getPrimaryCalendarType()))){return e}i.setYear(i.getYear()-Math.floor(t/2)*this.getRangeSize()+1-Math.floor(this.getRangeSize()/2));if(e.isAfter(i)&&e.getYear()!=i.getYear()){e=new a(i,this._getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new a(this._oMinDate,this._getPrimaryCalendarType());e.setMonth(0,1)}return e};i.prototype._updatePage=function(e,t,r){var i=this._oItemNavigation.getItemDomRefs(),s=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(jQuery(i[0]).attr("data-sap-year-start")),this._getPrimaryCalendarType()),n=this.getYears(),o=this.getRangeSize();if(e){var h=new a(this._oMaxDate,this._getPrimaryCalendarType());h.setYear(h.getYear()-n*o+1);if(s.isBefore(h)){s.setYear(s.getYear()+n*o+Math.floor(o/2)+Math.floor(n/2)*o);s=this._checkFirstDate(s)}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-n*o);if(s.isBefore(this._oMinDate)){s=new a(this._oMinDate,this._getPrimaryCalendarType())}s.setYear(s.getYear()+Math.floor(n/2)*o+Math.floor(o/2));s=this._checkFirstDate(s)}else{return}}this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(r){this.firePageChange()}};i.prototype._checkDateEnabled=function(e,t){if(r._isBetween(this._oMinDate,e,t,true)||r._isBetween(this._oMaxDate,e,t,true)||this._oMinDate.isBefore(e)&&this._oMaxDate.isAfter(t)){return true}return false};i.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),r=jQuery(t[e]),i=r.attr("data-sap-year-start"),s=a.fromLocalJSDate(this._oFormatYyyymmdd.parse(i),this._getPrimaryCalendarType());if(r.hasClass("sapUiCalItemDsbl")){return false}this.setProperty("date",s.toLocalJSDate());this.setProperty("year",s.getYear());return true};i.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),r=new a(e,e.getCalendarType()),i=new a(e,e.getCalendarType());r.setMonth(0,1);r=new a(r,t);i.setYear(i.getYear()+this.getRangeSize());i.setMonth(0,1);i.setDate(i.getDate()-1);i=new a(i,t);return{start:r,end:i}};i.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8);this.setRangeSize(8)}return this};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearRangePickerRenderer", ["sap/ui/core/Renderer","./YearPickerRenderer","./CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a,r,i,l){"use strict";var n=e.extend(t);n.apiVersion=2;n.getAccessibilityState=function(){return{role:"grid",readonly:"true",multiselectable:false,roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_RANGE_PICKER")}};n.renderCells=function(e,t){var n=t.getProperty("_middleDate")?t.getProperty("_middleDate"):t._getDate(),o=new a(n,t.getPrimaryCalendarType()),s=new a(o,t.getPrimaryCalendarType()),d=l._minDate(t.getProperty("primaryCalendarType")).getYear(),g=l._maxDate(t.getProperty("primaryCalendarType")).getYear(),c,p="",y="",u="",f=t.getId(),m=t.getColumns(),C=t.getYears(),Y=t._getSecondaryCalendarType(),S=t._getLocaleData(),D=S.getIntervalPattern(),T="",_,b,v;s.setYear(s.getYear()-Math.floor(t.getRangeSize()/2));s.setYear(s.getYear()-Math.floor(C/2)*t.getRangeSize());if(s.getYear()<d){s.setYear(d)}else if(s.getYear()>g-C){s.setYear(g-Math.floor(C)*t.getRangeSize()+1)}c=new a(s,t.getPrimaryCalendarType());c.setYear(c.getYear()+t.getRangeSize()-1);if(m>0){T=100/m+"%"}else{T=100/C+"%"}for(v=0;v<C;v++){b=t._oFormatYyyymmdd.format(s.toUTCJSDate(),true);_={role:"gridcell"};if(m>0&&v%m==0){e.openStart("div");e.accessibilityState(null,{role:"row"});e.openEnd()}e.openStart("div",f+"-y"+b);e.class("sapUiCalItem");if(!t._checkDateEnabled(s,c)){e.class("sapUiCalItemDsbl");_["disabled"]=true}p=t._oYearFormat.format(i.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);y=t._oYearFormat.format(i.getInstance(c.toUTCJSDate(),c.getCalendarType()),true);u=D.replace(/\{0\}/,p).replace(/\{1\}/,y);_["label"]=u;if(Y){var R=t._getDisplayedSecondaryDates(s),U=r.getDateInstance({format:"y",calendarType:t.getSecondaryCalendarType()}),I;if(R.start.getYear()===R.end.getYear()){I=U.format(R.start.toUTCJSDate(),true)}else{I=D.replace(/\{0\}/,U.format(R.start.toUTCJSDate(),true)).replace(/\{1\}/,U.format(R.end.toUTCJSDate(),true))}_["label"]=_["label"]+" "+I}e.attr("tabindex","-1");e.attr("data-sap-year-start",b);e.style("width",T);e.accessibilityState(null,_);e.openEnd();if(l._isBetween(t._oDate,s,c,true)){t._iSelectedIndex=v}e.text(u);if(Y){e.openStart("div",f+"-y"+b+"-secondary");e.class("sapUiCalItemSecText");e.openEnd();e.text(I);e.close("div")}e.close("div");if(m>0&&(v+1)%m==0){e.close("div")}s.setYear(c.getYear()+1);c.setYear(c.getYear()+t.getRangeSize())}};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/library", ["sap/ui/core/Core","sap/ui/base/Object","./ColorPickerDisplayMode","./FileUploaderHttpRequestMethod","sap/ui/core/library"],function(e,i,n,a){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.unified",version:"1.120.21",dependencies:["sap.ui.core"],designtime:"sap/ui/unified/designtime/library.designtime",types:["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],interfaces:["sap.ui.unified.IProcessableBlobs"],controls:["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"],extensions:{"sap.ui.support":{publicRules:true}}});t.CalendarDayType={None:"None",NonWorking:"NonWorking",Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10",Type11:"Type11",Type12:"Type12",Type13:"Type13",Type14:"Type14",Type15:"Type15",Type16:"Type16",Type17:"Type17",Type18:"Type18",Type19:"Type19",Type20:"Type20"};t.StandardCalendarLegendItem={Today:"Today",WorkingDay:"WorkingDay",NonWorkingDay:"NonWorkingDay",Selected:"Selected"};t.CalendarIntervalType={Hour:"Hour",Day:"Day",Month:"Month",Week:"Week",OneMonth:"One Month"};t.CalendarAppointmentHeight={HalfSize:"HalfSize",Regular:"Regular",Large:"Large",Automatic:"Automatic"};t.CalendarAppointmentRoundWidth={HalfColumn:"HalfColumn",None:"None"};t.GroupAppointmentsMode={Collapsed:"Collapsed",Expanded:"Expanded"};t.FileUploaderHttpRequestMethod=a;t.CalendarAppointmentVisualization={Standard:"Standard",Filled:"Filled"};t.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};t.ColorPickerMode={HSV:"HSV",HSL:"HSL"};t.ColorPickerDisplayMode=n;t._ContentRenderer=i.extend("sap.ui.unified._ContentRenderer",{constructor:function(e,n,a,t){i.apply(this);this._id=n;this._cntnt=a;this._ctrl=e;this._rm=sap.ui.getCore().createRenderManager();this._cb=t||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){clearTimeout(this._rerenderTimer);delete this._rerenderTimer}i.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){clearTimeout(this._rerenderTimer)}this._rerenderTimer=setTimeout(function(){var e=document.getElementById(this._id);if(e){if(typeof this._cntnt==="string"){var i=this._ctrl.getAggregation(this._cntnt,[]);for(var n=0;n<i.length;n++){this._rm.renderControl(i[n])}}else{this._cntnt(this._rm)}this._rm.flush(e)}this._cb(!!e)}.bind(this),0)}});t._iNumberOfOpenedShellOverlays=0;t.calendar=t.calendar||{};return t});
sap.ui.require.preload({
	"sap/ui/unified/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.unified","type":"library","embeds":[],"applicationVersion":{"version":"1.120.21"},"title":"Unified controls intended for both, mobile and desktop scenarios","description":"Unified controls intended for both, mobile and desktop scenarios","ach":"CA-UI5-CTR","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.120","libs":{"sap.ui.core":{"minVersion":"1.120.21"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cnr","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","mk","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.unified.calendar.DatesRow","sap.ui.unified.calendar.Header","sap.ui.unified.calendar.Month","sap.ui.unified.calendar.MonthPicker","sap.ui.unified.calendar.MonthsRow","sap.ui.unified.calendar.TimesRow","sap.ui.unified.calendar.YearPicker","sap.ui.unified.calendar.YearRangePicker","sap.ui.unified.Calendar","sap.ui.unified.CalendarDateInterval","sap.ui.unified.CalendarWeekInterval","sap.ui.unified.CalendarMonthInterval","sap.ui.unified.CalendarTimeInterval","sap.ui.unified.CalendarLegend","sap.ui.unified.CalendarRow","sap.ui.unified.ContentSwitcher","sap.ui.unified.ColorPicker","sap.ui.unified.ColorPickerPopover","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellLayout","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],"elements":["sap.ui.unified.CalendarAppointment","sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.FileUploaderXHRSettings","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"],"types":["sap.ui.unified.CalendarAppointmentVisualization","sap.ui.unified.CalendarDayType","sap.ui.unified.CalendarIntervalType","sap.ui.unifief.CalendarAppointmentHeight","sap.ui.unifief.CalendarAppointmentRoundWidth","sap.ui.unified.ColorPickerDisplayMode","sap.ui.unified.ColorPickerMode","sap.ui.unified.ContentSwitcherAnimation","sap.ui.unified.GroupAppointmentsMode","sap.ui.unified.FileUploaderHttpRequestMethod","sap.ui.unified.StandardCalendarLegendItem"],"interfaces":["sap.ui.unified.IProcessableBlobs"]}}}}'
});
//# sourceMappingURL=library-preload.js.map
