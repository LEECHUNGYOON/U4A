/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/ui/core/format/DateFormat","sap/ui/core/date/UI5Date","sap/ui/thirdparty/d3"],function(e,t){"use strict";var a=function(){throw new Error};a._oDefaultDateTimeFormat=e.getDateTimeWithTimezoneInstance({showTimezone:false});a._enableDateTimezoneFormatter=false;a._setEnableDateTimezoneFormatter=function(t){a._enableDateTimezoneFormatter=t;if(t){a._oDefaultDateTimeFormat=e.getDateTimeInstance()}};a._getEnableDateTimezoneFormatter=function(){return a._enableDateTimezoneFormatter};a.abapTimestampToDate=function(e){if(typeof e==="string"){var t=new Date(e.substr(0,4),parseInt(e.substr(4,2),0)-1,e.substr(6,2),e.substr(8,2),e.substr(10,2),e.substr(12,2));if(isNaN(t.getTime())){t=new Date(e);if(!isNaN(t.getTime())&&t.toISOString()===e){return this.abapTimestampToDate(this.isoTimestampToAbapTimestamp(e))}}return t}else if(e instanceof Date){return e}return null};a.isoTimestampToAbapTimestamp=function(e){if(e){var t=new Date(e);return""+t.getUTCFullYear()+(t.getUTCMonth()<9?"0":"")+(t.getUTCMonth()+1)+(t.getUTCDate()<10?"0":"")+t.getUTCDate()+(t.getUTCHours()<10?"0":"")+t.getUTCHours()+(t.getUTCMinutes()<10?"0":"")+t.getUTCMinutes()+(t.getUTCSeconds()<10?"0":"")+t.getUTCSeconds()}return""};a.dateToAbapTimestamp=function(e){if(e){var r=e;if(!a._getEnableDateTimezoneFormatter()&&e instanceof t){r=new Date(e.getTime())}return""+r.getFullYear()+(r.getMonth()<9?"0":"")+(r.getMonth()+1)+(r.getDate()<10?"0":"")+r.getDate()+(r.getHours()<10?"0":"")+r.getHours()+(r.getMinutes()<10?"0":"")+r.getMinutes()+(r.getSeconds()<10?"0":"")+r.getSeconds()}return""};a.abapTimestampToTimeLabel=function(e,t){var r;if(a._getEnableDateTimezoneFormatter()){r=a._convertUTCToLocalTime(e,t)}else{r=a.abapTimestampToDate(e,t)}var n=a._oDefaultDateTimeFormat.format(r,t.getTimeZone());return n};a.relativeTimeToAbsolutTime=function(e,t,a,r){e=e!==undefined?e:0;t=t!==undefined?t:0;a=a!==undefined?a:0;r=r!==undefined?r:0;var n=this.abapTimestampToDate("20120101000000");var i=new Date;i.setTime(n.getTime()+r*1e3+a*60*1e3+t*3600*1e3+e*24*3600*1e3);return i};a.absolutTimeToRelativeTime=function(e){var t=this.abapTimestampToDate("20120101000000");var a=e.getTime()-t.getTime();var r=Math.floor(a/(24*3600*1e3));var n=a%(24*3600*1e3);var i=Math.floor(n/(3600*1e3));n=n%(3600*1e3);var o=Math.floor(n/(60*1e3));n=n%(60*1e3);var m=Math.floor(n/1e3);var s={intervalDays:r,intervalHours:i,intervalMinutes:o,intervalSecond:m};return s};a._convertUTCToLocalTime=function(e,t){var a=0;var r=sap.gantt.misc.Format.abapTimestampToDate(e);var n=d3.time.second.offset(r,a);return n};a.getTimeStampFormatter=function(){return d3.time.format("%Y%m%d%H%M%S")};return a},true);
//# sourceMappingURL=Format.js.map