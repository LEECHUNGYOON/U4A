/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(["sap/gantt/simple/BaseShape","sap/gantt/misc/Format","sap/ui/core/theming/Parameters","sap/ui/core/Core","sap/ui/core/RenderManager","sap/gantt/misc/Utility"],function(e,t,r,i,o,a){"use strict";var n=12;var s=e.extend("sap.gantt.simple.shapes.Shape",{metadata:{library:"sap.gantt",properties:{color:{type:"sap.gantt.PaletteColor",defaultValue:"sapUiLegend6"},height:{type:"sap.gantt.SVGLength",defaultValue:"auto"},width:{type:"sap.gantt.SVGLength",defaultValue:"auto"},startX:{type:"sap.gantt.SVGLength",defaultValue:"auto"},fill:{type:"sap.gantt.ValueSVGPaintServer"},fillOpacity:{type:"float",defaultValue:1},stroke:{type:"sap.gantt.ValueSVGPaintServer"},opacity:{type:"float",defaultValue:1},selectable:{type:"boolean",defaultValue:true},hoverable:{type:"boolean",defaultValue:true}}},renderer:{apiVersion:2}});s.prototype.init=function(){e.prototype.init.call(this);this._bHover=false;this._bIgnoreHover=false};s.prototype.getSelectable=function(){return true};s.prototype.getHoverable=function(){return true};s.prototype.getRowPadding=function(){var e=this.getHeight();if(e==="auto"||e==="inherit"){return n}else{return 0}};s.prototype.getPixelHeight=function(){var e=this.getHeight();if(e==="auto"||e==="inherit"){return this._iBaseRowHeight||0}return Number(e)};s.prototype.getTranslatedColor=function(){return r.get(this.getColor())};s.prototype.getHoverBackgroundColor=function(){if(i.getConfiguration().getTheme().indexOf("sap_horizon")>-1){return r.get("sapPrimary1")}else{return r.get("sapUiButtonHoverBackground")}};s.prototype.getHoverColor=function(){if(i.getConfiguration().getTheme().indexOf("sap_horizon")>-1){return r.get("sapPrimary6")}else{return r.get("sapUiButtonHoverBorderColor")}};s.prototype.getSelectedColor=function(){if(i.getConfiguration().getTheme().indexOf("sap_horizon")>-1){return r.get("sapPrimary2")}else{return r.get("sapUiButtonActiveBackground")}};s.prototype.getPixelWidth=function(){var e=this.getWidth();if(e!=="auto"){return Number(e)}var r=this.getAxisTime();if(!r){return 0}var i=r.timeToView(t.abapTimestampToDate(this.getTime())),o=r.timeToView(t.abapTimestampToDate(this.getEndTime()));if(a.isNumeric(i)&&a.isNumeric(o)){return Math.abs(o-i)}else{return 0}};s.prototype.getXStart=function(){var e=this.getProperty("startX");if(e!=="auto"){return Number(e)}var r=this.getAxisTime();if(!r){return 0}var o=i.getConfiguration().getRTL();return Number(r.timeToView(t.abapTimestampToDate(o?this.getEndTime()||this.getTime():this.getTime())))};s.prototype.getXEnd=function(){if(this.getProperty("startX")!=="auto"){return this.getXStart()+this.getPixelWidth()}var e=this.getAxisTime();if(!e){return 0}var r=i.getConfiguration().getRTL();return Number(e.timeToView(t.abapTimestampToDate(r?this.getTime()||this.getEndTime():this.getEndTime())))};s.prototype.renderElement=function(e){throw new Error("This function must be overridden in implementing classes.")};s.prototype.renderContent=function(e){throw new Error("This function must be overridden in implementing classes.")};s.prototype.generateArcRadius=function(e,t){return Math.min(3,Math.min(e,t))};s.prototype.getHoverState=function(){return this._bHover};s.prototype.hoverStateChange=function(e){if(this.getHoverState()!==e&&!this._bIgnoreHover){this._bHover=e;this.rerenderShape()}};s.prototype.setSelected=function(e){this.setProperty("selected",e,true);if(this.getHoverState()){this._bHover=false;this._bIgnoreHover=true}this.rerenderShape()};s.prototype.onmouseover=function(t){e.prototype.onmouseover.call(this,t);this.hoverStateChange(true)};s.prototype.onmouseout=function(t){e.prototype.onmouseout.call(this,t);this._bIgnoreHover=false;this.hoverStateChange(false)};s.prototype.rerenderShape=function(){var e=this.getDomRef();if(e){var t=i.createRenderManager();this.renderContent(t);t.flush(e);t.destroy()}else{this.invalidate()}};return s});
//# sourceMappingURL=Shape.js.map