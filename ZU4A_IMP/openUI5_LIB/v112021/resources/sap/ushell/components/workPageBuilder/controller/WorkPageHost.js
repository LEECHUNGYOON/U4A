//Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/integration/Host","sap/ui/model/json/JSONModel","sap/ushell/EventHub"],function(e,t,r){"use strict";return function(o,n){var a=new e(o,n);a.setResolveDestination(function(e){if(!e){return Promise.reject()}return Promise.resolve(location.origin+"/dynamic_dest/"+e)});a.attachCardInitialized(function(e){var t=e.getParameter("card");if(t&&t.isA&&t.isA("sap.ui.integration.widgets.Card")){r.emit("UITracer.trace",{source:"Card",reason:"Init",data:{cardId:t.getManifestEntry("/sap.app/id"),providerId:t.getReferenceId()}})}});a.fetch=function(t,o,n,a){if(a&&a.isA&&a.isA("sap.ui.integration.widgets.Card")){return e.prototype.fetch.apply(this,arguments).then(function(e){r.emit("UITracer.trace",{source:"Card",reason:"FetchData",data:{cardId:a.getManifestEntry("/sap.app/id"),providerId:a.getReferenceId(),targetUrl:t,status:e.status}});return e})}return e.prototype.fetch.apply(this,arguments)};a.getContextValue=function(e){try{if(!e){return Promise.reject()}if(e.charAt(0)==="/"){return a.getContextValue(e.substring(1))}return a.getContext().then(function(){return a._oHostContextModel.getProperty("/"+e)})}catch(e){return Promise.resolve()}};a.getContext=function(){if(!a._oHostContext){a._oHostContext=sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var r=a.getModel("i18n")&&a.getModel("i18n").getResourceBundle();if(!r){r={getText:function(e){return e}}}a._oHostContext={"sap.workzone":{label:r.getText("WorkPage.Host.Context.WorkZone.Label"),currentUser:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Label"),id:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Label"),type:"string",tags:["technical"],placeholder:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Placeholder"),description:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Id.Desc"),value:e.getId()},name:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Label"),type:"string",placeholder:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Placeholder"),description:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Name.Desc"),value:e.getFullName()},firstName:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Label"),type:"string",placeholder:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Placeholder"),description:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.FirstName.Desc"),value:e.getFirstName()},lastName:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Label"),type:"string",placeholder:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Placeholder"),description:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.LastName.Desc"),value:e.getLastName()},email:{label:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Label"),type:"string",placeholder:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Placeholder"),description:r.getText("WorkPage.Host.Context.WorkZone.CurrentUser.Email.Desc"),value:e.getEmail()}}}};a._oHostContextModel=new t(a._oHostContext);return a._oHostContext})}return Promise.resolve(a._oHostContext)};return a}});
//# sourceMappingURL=WorkPageHost.js.map