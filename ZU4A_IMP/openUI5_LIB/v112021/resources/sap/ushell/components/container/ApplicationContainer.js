// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/security/encodeXML","sap/base/util/deepEqual","sap/base/util/uid","sap/base/util/UriParameters","sap/m/MessagePopover","sap/m/Text","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/mvc/View","sap/ui/core/routing/History","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/thirdparty/URI","sap/ushell/ApplicationType","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/library","sap/ushell/resources","sap/ushell/System","sap/ushell/User","sap/ushell/utils","sap/ushell/utils/UrlParsing","sap/ui/core/Core","sap/ui/thirdparty/hasher","sap/ui/core/Configuration","sap/ushell/components/container/IframePOSTUtils"],function(e,t,n,a,o,r,i,s,p,l,u,d,f,c,jQuery,g,m,y,h,v,C,b,I,_,A,E,P,S,U){"use strict";var x="sap.ushell.components.container.";var w=x+"ApplicationContainer";var D="sap.ushell.Container.dirtyState.";var R,L,T,M;var V=false;var O=false;var N=[];var F=0;var H=0;let W=null;let j=_.getUi5Version().then(t=>{e.debug(`Using ui5-version: ${t}`,null,w);W=t});function B(e){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(t){t.isUrlSupported(e.url).done(function(){e.promise.resolve({allowed:true,id:e.id})}).fail(function(){e.promise.resolve({allowed:false,id:e.id})})})}function k(e){var t={asyncURLHandler:ge.prototype._adaptIsUrlSupportedResultForMessagePopover};if(r&&r.setDefaultHandlers){r.setDefaultHandlers(t)}h.emit("StepDone",e.stepName)}h.once("initMessagePopover").do(k);R=new _.Map;function z(e){return R.get(e.getId())}function K(){return L}function $(e){var t=o.fromURL(e).mParams,n=t["sap-xapp-state"],a=t["sap-xapp-state-data"],r;delete t["sap-xapp-state"];delete t["sap-xapp-state-data"];r={startupParameters:t};if(a){r["sap-xapp-state"]=a}if(n){r["sap-xapp-state"]=n}return r}function q(e,t){return C.i18n.getText(e,t)}function J(){return new u({size:"2rem",src:"sap-icon://error",tooltip:ge.prototype._getTranslatedText("an_error_has_occured")})}function G(t){var n=t.getAggregation("child"),a;if(n instanceof p){a=n.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");e.debug("unloading component "+a,null,w)}t.destroyAggregation("child")}function Q(t,n,a){return new Promise(function(o){var r,i,l,u,f,c={},g,m;function y(e){e.setWidth(t.getWidth());e.setHeight(t.getHeight());e.addStyleClass("sapUShellApplicationContainer");t.setAggregation("child",e,true)}r=n.indexOf("?");if(r>=0){u=ge.prototype._getParameterMap(n);c=u.startupParameters;n=n.slice(0,r)}if(n.slice(-1)!=="/"){n+="/"}if(/\.view\.(\w+)$/i.test(a)){l=/^SAPUI5=(?:([^/]+)\/)?([^/]+)\.view\.(\w+)$/i.exec(a);if(!l){e.error("Invalid SAPUI5 URL",a,w);o(ge.prototype._createErrorControl());return}f=l[1];g=l[2];m=l[3].toUpperCase();if(f){g=f+"."+g}else{i=g.lastIndexOf(".");if(i<1){e.error("Missing namespace",a,w);return ge.prototype._createErrorControl()}f=g.slice(0,i)}}else{f=a.replace(/^SAPUI5=/,"")}var h={};var v=f.replace(/\./g,"/");h[f]=n+v;sap.ui.loader.config({paths:h});ge.prototype._destroyChild(t);if(g){if(t.getApplicationConfiguration()){c.config=t.getApplicationConfiguration()}d.create({id:t.getId()+"-content",type:m,viewData:c||{},viewName:g}).then(function(e){t.fireEvent("applicationConfiguration");y(e);o(e)})}else{e.debug("loading component "+f,null,w);var C=u?{startupParameters:u.startupParameters}:{startupParameters:{}};if(u&&u["sap-xapp-state-data"]){C["sap-xapp-state"]=u["sap-xapp-state-data"]}if(u&&u["sap-xapp-state"]){C["sap-xapp-state"]=u["sap-xapp-state"]}if(t.getApplicationConfiguration()){C.config=t.getApplicationConfiguration()}s.create({id:t.getId()+"-component",componentData:C,name:f}).then(function(e){t.fireEvent("applicationConfiguration",{configuration:e.getManifestEntry("/sap.ui5/config")});var n=new p({id:t.getId()+"-content",component:e});y(n);o(n)})}})}function X(e,t){setTimeout(function(){E.getEventBus().publish("sap.ushell",e,t)},0)}function Y(t,n,a){var o=this,r,i={oControl:undefined,oPromise:undefined},l,u,d,f={startupParameters:{}},c,g=t.getComponentHandle(),m,y;function h(e){t.fireEvent("applicationConfiguration",{configuration:e.getManifestEntry("/sap.ui5/config")});u=new p({id:t.getId()+"-content",component:e});u.setHeight(t.getHeight());u.setWidth(t.getWidth());u.addStyleClass("sapUShellApplicationContainer");t._disableRouterEventHandler=ge.prototype._disableRouter.bind(o,e);E.getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler);t.setAggregation("child",u,true);sap.ushell.Container.getServiceAsync("PluginManager").then(function(t){m=t.getPluginLoadingPromise("RendererExtensions");y=m&&m.state();if(y==="pending"){m.done(function(){ge.prototype._publishExternalEvent("appComponentLoaded",{component:e})}).fail(function(){ge.prototype._publishExternalEvent("appComponentLoaded",{component:e})})}if(y==="resolved"||y==="rejected"){ge.prototype._publishExternalEvent("appComponentLoaded",{component:e})}});return u}l=n.indexOf("?");if(l>=0){d=ge.prototype._getParameterMap(n);f={startupParameters:d.startupParameters};if(d["sap-xapp-state-data"]){f["sap-xapp-state"]=d["sap-xapp-state-data"]}if(d["sap-xapp-state"]){f["sap-xapp-state"]=d["sap-xapp-state"]}n=n.slice(0,l)}if(t.getApplicationConfiguration()){f.config=t.getApplicationConfiguration()}if(n.slice(-1)!=="/"){n+="/"}ge.prototype._destroyChild(t);c={id:t.getId()+"-component",name:a,componentData:f};e.debug("Creating component instance for "+a,JSON.stringify(c),w);E.getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:a});if(g){var v=g.getInstance(c);i.oControl=h(v)}else{r=new jQuery.Deferred;var C={};var b=a.replace(/\./g,"/");C[b]=n;sap.ui.loader.config({paths:C});e.error("No component handle available for '"+a+"'; fallback to component.load()",null,w);s.create({id:t.getId()+"-component",name:a,manifest:false,componentData:f}).then(function(e){r.resolve(h(e))});i.oPromise=r.promise()}return i}function Z(t){var n;if(t instanceof s&&typeof t.getRouter==="function"){n=t.getRouter();if(n&&typeof n.stop==="function"){e.info("router stopped for instance "+t.getId());n.stop()}}}function ee(e){var t=document.createElement("a"),n=o.fromURL(e).get("sap-client"),a;t.href=e;a=t.protocol+"//"+t.host;return new b({alias:n?a+"?sap-client="+n:a,baseUrl:a,client:n||undefined,platform:"abap"})}function te(e,t){var n=false,a=e.getDomRef(),o,r;if(e.getIframeWithPost()===true&&a&&a.getAttribute&&a.getAttribute("sap-iframe-app")=="true"){a=jQuery("#"+a.getAttribute("id")+"-iframe")[0]}if(a){o=g(e._getIFrameUrl(a)||window.location&&window.location.href||"");r=o.protocol()+"://"+o.host();n=t.source===a.contentWindow||t.origin===r}return n}function ne(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){if(this.getIframeWithPost()===true&&e&&e.getAttribute&&e.getAttribute("sap-iframe-app")=="true"){return jQuery("#"+e.getAttribute("id")+"-iframe")[0]}return null}return e}function ae(e){var t;if(e===undefined){e=this._getIFrame()}if(this.getIframeWithPost()===true){t=jQuery("#"+e.getAttribute("id").replace("-iframe","-form"))[0].action;if(t===undefined&&(new g).query(true).hasOwnProperty("sap-isolation-enabled")){t=e.src}}else{t=e.src}return t}function oe(t,n){var a=t&&t.getUi5ComponentName&&t.getUi5ComponentName(),o=n.data,r=typeof o==="string"&&o.indexOf("sap.ushell.appRuntime.iframeIsValid")>0;if(t&&!t.getActive()&&r!==true){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(o)+"' on inactive container '"+t.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}if(typeof a==="string"){e.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(o)+"' on container of UI5 application '"+a+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return}var i={bPluginsStatusChecked:V,bKeepMessagesForPlugins:O,bApiRegistered:true};T(t,n,i);ge.prototype._handlePostMessagesForPluginsPostLoading(t,n,i)}function re(t,n,a){var o,r;if(a.bApiRegistered!==false){return}sap.ushell.Container.getServiceAsync("PluginManager").then(function(a){if(V===false){V=true;o=a.getPluginLoadingPromise("RendererExtensions");r=o&&o.state();if(r==="pending"){O=true;o.always(function(){var t;O=false;e.debug("Processing post messages queue after 'RendererExtensions' plugins loaded, queue size is: "+N.length,null,"sap.ushell.components.container.ApplicationContainer");for(var n=0;n<N.length;n++){t=N[n];try{ge.prototype._handleMessageEvent.call(t.that,t.oContainer,t.oMessage)}catch(t){e.error(t.message||t,null,"sap.ushell.components.container.ApplicationContainer")}}N=[]})}}if(O===true){N.push({index:F++,that:this,oContainer:t,oMessage:n})}})}function ie(){V=false;O=false;N=[];F=0}function se(e,t){var n=e._getIFrame(),a=e.getApplicationType();if(_.isApplicationTypeEmbeddedInIframe(e.getApplicationType(a))&&n){var o=new g(e._getIFrameUrl(n));var r=o.protocol()+"://"+o.host();n.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),r);t.preventDefault()}}function pe(e,t,n){e.openStart("div",t).accessibilityState(t).class("sapUShellApplicationContainer").style("height",t.getHeight()).style("width",t.getWidth()).openEnd();if(n){e.renderControl(n)}e.close("div")}function le(e,t,n,a){if(a===undefined){a=false}if(_.isApplicationTypeEmbeddedInIframe(t,true)||e&&_.isApplicationTypeEmbeddedInIframe(e.getFrameworkId())){var o=e&&e.getTargetNavigationMode();n=ge.prototype._adjustNwbcUrl(n,t,o,e&&e.getStatefulType()>0,a);if(e&&a===false){_.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL)}}return n}function ue(e,t,n,a,r){if(r===undefined){r=false}var i;function s(){var e=_.getParameterValueBoolean("sap-accessibility");if(e!==undefined){return e}return sap.ushell.Container.getUser().getAccessibilityMode()}function p(){var t=o.fromURL(e)||{mParams:{}};if(t.mParams["sap-theme"]===undefined){return sap.ushell.Container.getUser().getTheme(I.prototype.constants.themeFormat.NWBC)}return undefined}function l(){var t=false,n=o.fromURL(e)||{mParams:{}};t=S.getStatisticsEnabled()&&n.mParams["sap-statistics"]===undefined;return t}function u(){var e=P&&P.getHash(),t="",n;if(e&&e.length>0&&e.indexOf("sap-iapp-state=")>0){n=/(?:sap-iapp-state=)([^&/]+)/.exec(e);if(n&&n.length===2){t=n[1]}}return t}function d(){var e="";var t=!!jQuery("body.sapUiSizeCompact").length;var n=!!jQuery("body.sapUiSizeCozy").length;if(t===true){e="0"}else if(n){e="1"}return e}e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";i=p();if(i){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(i)}if(s()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X"}if(l()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true"}var f=d();if(f&&f.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-touch="+f}if(r===false){if(n){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(n)}if(t==="TR"||t==="GUI"){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=2"}else if(a){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1"}var c=u();if(c&&c.length>0){e+=e.indexOf("?")>=0?"&":"?";e+="sap-iapp-state="+c}var g=0;if(y.last("/core/shell/sessionTimeoutIntervalInMinutes")>0){g=y.last("/core/shell/sessionTimeoutIntervalInMinutes")}e+=e.indexOf("?")>=0?"&":"?";e+="sap-ushell-timeout="+g;return _.appendSapShellParamSync(e,t,W)}return e}function de(e,t,n,a){var o=t.getAggregation("child"),r,i;if(!o||t._bRecreateChild){i=ge.prototype._createUi5Component(t,n,a);if(i.oControl!==undefined){t._bRecreateChild=false;ge.prototype._renderControlInDiv(e,t,i.oControl)}else{t.oDeferredControlCreation=new jQuery.Deferred;ge.prototype._renderControlInDiv(e,t);i.oPromise.then(function(e){t._bRecreateChild=false;r=E.createRenderManager();r.renderControl(e);r.flush(jQuery("#"+t.getId())[0]);r.destroy();t.oDeferredControlCreation.resolve()})}}else{ge.prototype._renderControlInDiv(e,t,o)}}function fe(e,t,a){var o=e.getProperty(t);if(n(o,a)){return}e.setProperty(t,a);e._bRecreateChild=true}function ce(t,n,a,r,i){var s,p;var l=false;localStorage.removeItem(n.globalDirtyStorageKey);n.oDeferredControlCreation=undefined;if(i&&i.indexOf("SAPUI5.Component=")===0&&a===m.URL.type){de(t,n,r,i.replace(/^SAPUI5\.Component=/,""));return}if(i&&i.indexOf("SAPUI5=")===0&&a===m.URL.type){ge.prototype._renderControlInDiv(t,n,undefined,"open");n.oDeferredControlCreation=new jQuery.Deferred;ge.prototype._createUi5View(n,r,i).then(function(e){var a,o=jQuery("#"+n.getId());if(o&&o.length>0){a=E.createRenderManager();a.renderControl(e);a.flush(jQuery("#"+n.getId())[0]);a.destroy()}else{t.renderControl(e)}n.oDeferredControlCreation.resolve()});ge.prototype._renderControlInDiv(t,n,undefined,"close");return}e.debug('Not resolved as "SAPUI5.Component=" or "SAPUI5=" , '+"will attempt to load into iframe "+i);if(!n.getActive()){e.debug("Skipping rendering container iframe","Container '"+n.getId()+"' is inactive");return}try{r=n.getFrameSource(a,r)}catch(a){e.error(a.message||a,null,w);n.fireEvent("applicationConfiguration");t.renderControl(ge.prototype._createErrorControl());return}if(sap.ushell.Container){s=ge.prototype._getLogoutHandler(n);if(!s){if(_.isApplicationTypeEmbeddedInIframe(a)){s=ge.prototype._logout.bind(null,n);R.put(n.getId(),s);sap.ushell.Container.attachLogoutEvent(s);sap.ushell.Container.addRemoteSystem(ge.prototype._createSystemForUrl(r))}}else if(!_.isApplicationTypeEmbeddedInIframe(a)){sap.ushell.Container.detachLogoutEvent(s);R.remove(n.getId())}}r=n._checkNwbcUrlAdjustment(n,a,r);var u=o.fromURL(document.URL);if(u.has("sap-iframe-params")){var d=u.get("sap-iframe-params")||"",f=d.split(",");if(f.length>0){var c=new g(r);f.forEach(function(e){if(e&&e.length>0){if(u.has(e)){c.addQuery(e,u.get(e))}}});r=c.toString()}}if(M){M.then(function(e){e.addAcceptedOrigin(new g(r).origin())})}if(a==="TR"){n.setProperty("iframePostAllParams",true,true)}p=y.last("/core/shell/enableOpenIframeWithPost");if(p===undefined){p=true}if(u.get("sap-post")==="false"){p=false}else if(window.QUnit!==undefined){p=n.getIframeWithPost()}if(p===true&&n.getOpenWithPostByAppParam()===false){p=false}if(u.get("sap-post")==="true"){l=true}if(p===true&&(a==="NWBC"||a==="TR"||a==="WDA"||a==="WCF")||l===true){U.renderIframeWithPOST(t,n,r,++H);return}n.fireEvent("applicationConfiguration");t.openStart("iframe",n).accessibilityState(n).attr("src",r).attr("title",C.i18n.getText("AppilcationContainer.IframeTitle")).attr("sap-iframe-idx",++H).class("sapUShellApplicationContainer").style("height",n.getHeight()).style("width",n.getWidth());if(y.last("/core/shell/enableFeaturePolicyInIframes")===true){t.attr("allow",_.getIframeFeaturePolicies())}t.openEnd().close("iframe")}var ge=l.extend(w,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:x+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},currentAppUrl:{defaultValue:"",type:"string"},currentAppId:{defaultValue:"",type:"string"},currentAppTargetResolution:{type:"object"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},statefulType:{defaultValue:0,type:"int"},iframeHandlers:{defaultValue:"",type:"string"},openWithPostByAppParam:{defaultValue:true,type:"boolean"},iframeWithPost:{defaultValue:false,type:"boolean"},beforeAppCloseEvent:{type:"object"},extendedInfo:{type:"object"},systemAlias:{defaultValue:"",type:"string"},iframePostAllParams:{defaultValue:false,type:"boolean"},isKeepAlive:{defaultValue:false,type:"boolean"},frameworkId:{defaultValue:"",type:"string"},iframeReusedForApp:{defaultValue:false,type:"boolean"},isIframeValidTime:{defaultValue:{time:0},type:"object"},isInvalidIframe:{defaultValue:false,type:"boolean"},isFetchedFromCache:{defaultValue:false,type:"boolean"},blueBoxCapabilities:{defaultValue:{},type:"object"}},events:{applicationConfiguration:{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e;var t=this;if(sap.ushell.Container){e=ge.prototype._getLogoutHandler(t);if(e){sap.ushell.Container.detachLogoutEvent(e);R.remove(t.getId())}}localStorage.removeItem(t.globalDirtyStorageKey);if(t._unloadEventListener){removeEventListener("pagehide",t._unloadEventListener)}if(t._disableRouterEventHandler){E.getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",t._disableRouterEventHandler)}if(t._storageEventListener){removeEventListener("storage",t._storageEventListener)}if(t._messageEventListener){removeEventListener("message",t._messageEventListener)}ge.prototype._destroyChild(t);if(l.exit){l.exit.apply(t)}},setHandleMessageEvent:function(e){T=e},init:function(){var t=this;t.globalDirtyStorageKey=D+a();t._unloadEventListener=t.exit.bind(t);addEventListener("pagehide",t._unloadEventListener);t._storageEventListener=function(n){var a=t.getApplicationType();if(n.key===t.globalDirtyStorageKey&&n.newValue===sap.ushell.Container.DirtyState.PENDING&&_.isApplicationTypeEmbeddedInIframe(a)){var o=t._getIFrame();if(o){e.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");var r=new g(t._getIFrameUrl(o));var i=r.protocol()+"://"+r.host();o.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),i)}}};addEventListener("storage",t._storageEventListener);t._messageEventListener=ge.prototype._handleMessageEvent.bind(null,t);addEventListener("message",t._messageEventListener);if(!M&&sap.ushell.Container&&sap.ushell.Container.getServiceAsync){M=sap.ushell.Container.getServiceAsync("MessageBroker")}},onAfterRendering:function(){var e=this;this.rerender=function(){};if(c.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto")}if(this.oDeferredRenderer){this.oDeferredRenderer.done(function(){var t=document.getElementById(e.getId()+"-form");if(t){t.submit()}})}},renderer:{apiVersion:2,render:function(t,n){if(W===null){j.then(()=>{n.invalidate()});return}var a=n.getApplication();var o=n.launchpadData;var r;if(!n.getVisible()){ge.prototype._renderControlInDiv(t,n);return}if(n.bTestControl){ge.prototype._renderControlInDiv(t,n,n.oTestControl)}else if(n.error){delete n.error;ge.prototype._renderControlInDiv(t,n,ge.prototype._createErrorControl())}else if(!a){ge.prototype._render(t,n,n.getApplicationType(),n.getUrl(),n.getAdditionalInformation())}else if(!a.isResolvable()){ge.prototype._render(t,n,a.getType(),a.getUrl(),"")}else if(o){ge.prototype._render(t,n,o.applicationType,o.Absolute.url.replace(/\?$/,""),o.applicationData)}else{e.debug("Resolving "+a.getUrl(),null,w);a.resolve(function(t){e.debug("Resolved "+a.getUrl(),JSON.stringify(t),w);n.launchpadData=t;ge.prototype._destroyChild(n)},function(e){var t=a.getMenu().getDefaultErrorHandler();if(t){t(e)}ge.prototype._destroyChild(n);n.error=e});r=new i({text:ge.prototype._getTranslatedText("loading",[a.getText()])});ge.prototype._destroyChild(n);n.setAggregation("child",r);ge.prototype._renderControlInDiv(t,n,r)}}}});ge.prototype.getFrameSource=function(e,t){if(!Object.prototype.hasOwnProperty.call(m.enum,e)){throw new Error("Illegal application type: "+e)}return t};ge.prototype.setUrl=function(e){fe(this,"url",e)};ge.prototype.setAdditionalInformation=function(e){fe(this,"additionalInformation",e)};ge.prototype.setApplicationType=function(e){fe(this,"applicationType",e)};ge.prototype.sendBeforeAppCloseEvent=function(){var e=this,t=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent();if(t&&t.enabled&&t.enabled===true){return new Promise(function(n,a){sap.ui.require(["sap/ushell/components/applicationIntegration/application/PostMessageUtils"],function(o){o.postMessageToIframeApp(e,"sap.ushell.services.CrossApplicationNavigation","beforeAppCloseEvent",t.params,true).then(n,a)})})}return undefined};ge.prototype.getDeffedControlCreation=function(e){return this.oDeferredControlCreation?this.oDeferredControlCreation.promise():jQuery.Deferred().resolve().promise()};ge.prototype._getCommunicationHandlers=K;ge.prototype._adaptIsUrlSupportedResultForMessagePopover=B;ge.prototype._getLogoutHandler=z;ge.prototype._getParameterMap=$;ge.prototype._getTranslatedText=q;ge.prototype._createErrorControl=J;ge.prototype._destroyChild=G;ge.prototype._createUi5View=Q;ge.prototype._publishExternalEvent=X;ge.prototype._createUi5Component=Y;ge.prototype._disableRouter=Z;ge.prototype._createSystemForUrl=ee;ge.prototype._isTrustedPostMessageSource=te;ge.prototype._handleMessageEvent=oe;ge.prototype._logout=se;ge.prototype._renderControlInDiv=pe;ge.prototype._checkNwbcUrlAdjustment=le;ge.prototype._adjustNwbcUrl=ue;ge.prototype._render=ce;ge.prototype._getIFrame=ne;ge.prototype._getIFrameUrl=ae;ge.prototype._resetPluginsLoadIndications=ie;ge.prototype._handlePostMessagesForPluginsPostLoading=re;ge.prototype._setCachedUI5Version=function(e){W=e;j=j.then(()=>{W=e})};return ge},true);
//# sourceMappingURL=ApplicationContainer.js.map