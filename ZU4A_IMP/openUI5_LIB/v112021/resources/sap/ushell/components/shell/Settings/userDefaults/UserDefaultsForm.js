// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/base/util/deepExtend","sap/ui/comp/smartform/SmartForm"],function(e,t,r){"use strict";var a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];var o=e.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});o.prototype.init=function(){this.setAggregation("_smartForm",new r({editable:true}).addStyleClass("sapUshellShellDefaultValuesForm"))};o.prototype.fetchVariant=function(){var e,t;var r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce(function(a,o){e=o.getName();a[e]={value:r.getProperty("/"+e+"/valueObject/value/")};t=r.getProperty("/"+e+"/valueObject/extendedValue/");if(t){a[e].additionalValues=t}return a},{})};o.prototype.applyVariant=function(e){if(e){var r=this.getAggregation("_smartForm").getModel("MdlParameter"),a=this._getFieldControls(),o,i;for(var n=0;n<a.length;n++){o=a[n].getName();if(e[o]!==undefined){if(a[n].getDataType&&a[n].getDataType()==="Edm.DateTime"){a[n].setValue(new Date(e[o].value))}else{a[n].setValue(e[o].value)}i=r.getProperty("/"+o+"/valueObject/");i.extendedValue=undefined;if(e[o].additionalValues){i=t(i,{extendedValue:e[o].additionalValues})}r.setProperty("/"+o+"/valueObject",i)}}}};o.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(function(e){var t=e.getMetadata().getName();return a.indexOf(t)!==-1})};o.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};o.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};o.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};o.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return o});
//# sourceMappingURL=UserDefaultsForm.js.map