//@ui5-bundle sap/ushell/components/shell/Settings/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/components/shell/Settings/Component.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Core","sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/components/shell/Settings/ProfilingLoader","sap/ushell/components/shell/Settings/userAccount/UserAccountEntry","sap/ushell/components/shell/Settings/appearance/AppearanceEntry","sap/ushell/components/shell/Settings/homepage/HomepageEntry","sap/ushell/components/shell/Settings/spaces/SpacesEntry","sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry","sap/ushell/components/shell/Settings/userProfiling/UserProfilingEntry","sap/ushell/components/shell/Settings/notifications/NotificationsEntry","sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry","sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry","sap/ushell/ui/shell/ShellHeadItem","sap/ushell/utils"],function(e,t,s,n,i,o,r,l,a,u,h,c,g,p,d,f,m,S,y){"use strict";var E=[];return s.extend("sap.ushell.components.shell.Settings.Component",{metadata:{version:"1.120.20",library:"sap.ushell",dependencies:{libs:{"sap.m":{},"sap.ui.layout":{lazy:true}}}},init:function(){s.prototype.init.apply(this,arguments);var e=sap.ushell.Container.getRenderer("fiori2").getShellConfig();if(e.moveUserSettingsActionToShellHeader){this.oSettingsBtn=this._addUserSettingsButton()}this._addStandardEntityToConfig();l();if(i.last("/core/shell/model/enableNotifications")){this._addNotificationSettings()}E.push(o.on("openUserSettings").do(this._openUserSettings.bind(this)))},_addStandardEntityToConfig:function(){var e=i.last("/core/userPreferences/entries");e.push(a.getEntry());e.push(u.getEntry());if(c.isRelevant()){e.push(c.getEntry())}e.push(m.getEntry());if(i.last("/core/shell/enableRecentActivity")){e.push(g.getEntry())}e.push(p.getEntry());if(i.last("/core/shell/model/searchAvailable")){sap.ushell.Container.getFLPPlatform().then(function(t){if(t!=="MYHOME"){sap.ui.require(["sap/ushell/components/shell/Settings/search/SearchEntry"],function(t){t.getEntry().then(function(t){t.isActive().then(function(s){if(!s){return}y.setPerformanceMark("FLP -- search setting entry is set active");e=i.last("/core/userPreferences/entries");e.push(t);i.emit("/core/userPreferences/entries",e)})})})}})}if(i.last("/core/home/enableHomePageSettings")&&!i.last("/core/spaces/enabled")){e.push(h.getEntry())}if(i.last("/core/shell/model/userDefaultParameters")){e.push(f.getEntry())}e=sap.ushell.Container.getRenderer("fiori2").reorderUserPrefEntries(e);i.emit("/core/userPreferences/entries",e)},_addNotificationSettings:function(){sap.ushell.Container.getServiceAsync("NotificationsV2").then(function(e){e._userSettingInitialization();e._getNotificationSettingsAvailability().then(function(e){if(e.settingsAvailable){var t=i.last("/core/userPreferences/entries");t.push(d.getEntry());i.emit("/core/userPreferences/entries",t)}})}).catch(()=>{})},_openUserSettings:function(s){if(!this.oDialogPromise){this.oDialogPromise=t.create({id:"settingsView",viewName:"sap.ushell.components.shell.Settings.UserSettings"}).then(function(t){this.oSettingsView=t;t.setModel(new n({entries:[]}));t.setModel(r.i18nModel,"i18n");var i=s.controlId||"shell-header";e.byId(i).addDependent(t);return t.byId("userSettingsDialog")}.bind(this))}return this.oDialogPromise.then(function(e){e.open()})},_addUserSettingsButton:function(){var e=new S({id:"userSettingsBtn",icon:"sap-icon://action-settings",text:r.i18n.getText("userSettings"),ariaHaspopup:"dialog",press:this._openUserSettings.bind(this)});sap.ushell.Container.getRenderer("fiori2").oShellModel.addHeaderEndItem([e.getId()],false,["home","app","minimal","standalone","embedded","embedded-home","merged","merged-home"],true);return e},exit:function(){for(var e=0;e<E.length;e++){E[e].off()}if(this.oSettingsView){this.oSettingsView.destroy();this.oSettingsView=null;this.oDialogPromise=null}if(this.oSettingsBtn){this.oSettingsBtn.destroy();this.oSettingsBtn=null}}})});
},
	"sap/ushell/components/shell/Settings/ContentWrapper.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><Page showHeader="false"><content><ObjectHeader\n                title="{entryInfo>/title}"\n                titleLevel="{= coreLibrary.TitleLevel.H3}"\n                visible="{entryInfo>/showHeader}"\n                backgroundDesign="Solid"\n                class="sapUshellUserSettingDetailHeader"/><IconTabBar\n                expandable="false"\n                items="{entryInfo>/tabs}"\n                visible="{= ${entryInfo>/tabs}.length > 1}"\n                select=".onTabSelected"><items><IconTabFilter text="{entryInfo>groupingTabTitle}"><customData><core:CustomData key="help-id" value="{entryInfo>groupingTabHelpId}" writeToDom="{= !!${entryInfo>groupingTabHelpId}}" /></customData></IconTabFilter></items></IconTabBar></content></Page></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/ErrorContent.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><FlexBox\n        height="5rem"\n        alignItems="Center"\n        justifyContent="Center"><items><Text text="{/errorMessage}"/></items></FlexBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/ErrorMessageHelper.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Messaging"],function(e){"use strict";var s="sapUshellSettingsDialog/";return{addMessage:t,filterMessagesToDisplay:a,removeErrorMessages:g};function t(t){t.setTargets([s]);e.addMessages(t)}function a(){return e.getMessageModel().getData().filter(function(e){return e.getTargets()&&e.getTargets().indexOf(s)===0})}function g(){e.getMessageModel().getData().forEach(function(t){if(t.getTargets()&&t.getTargets().indexOf(s)===0){e.removeMessages(t)}})}});
},
	"sap/ushell/components/shell/Settings/ProfilingLoader.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/Config"],function(e){"use strict";function n(){return new Promise(function(n){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(i){if(i.systemEnabled()&&i.isSetUsageAnalyticsPermitted()){sap.ui.require(["sap/ushell/components/shell/Settings/userProfiling/UsageAnalyticsProfiling"],function(i){var s=e.last("/core/userPreferences/profiling");s.push(i.getProfiling());e.emit("/core/userPreferences/profiling",s);n()})}else{n()}})})}return function e(){return Promise.all([n()])}});
},
	"sap/ushell/components/shell/Settings/UserSettings.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/Core","sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/Device","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/utils/WindowUtils","sap/ushell/components/shell/Settings/ErrorMessageHelper","sap/ui/core/message/Message","sap/ui/base/Object","sap/ui/core/library","sap/base/util/deepClone"],function(e,t,n,s,r,i,a,o,l,u,d,c,g,f,h){"use strict";var p=f.MessageType;return n.extend("sap.ushell.components.shell.Settings.UserSettings",{onInit:function(){this._aPreviouslySelectedItems=[];this.getView().byId("userSettingEntryList").addEventDelegate({onAfterRendering:this._listAfterRendering.bind(this)});this._mLoadedEntryContent=new Map;this._mLoadedWrappers=new Map;this.getView().setModel(new r({entries:{}}),"results");i.orientation.attachHandler(this._fnOrientationChange,this);this._oSelectedItemOnMobile=null;this._oConfigDoable=a.on("/core/userPreferences/entries").do(this._processNewEntries.bind(this))},_fnOrientationChange:function(){var e=this.getView().byId("settingsApp");this._updateHeaderButtonVisibility(e.isMasterShown())},_formatDescription:function(e,t,n){if(t.length>1){return""}return n[e].valueResult||""},_processNewEntries:function(e){var t=this.getView();var n=t.getModel("results");e.forEach(function(e){var t=n.getProperty("/entries/"+e.id);if(!t){n.setProperty("/entries/"+e.id,{valueResult:null,contentResult:null})}this._setEntryValueResult(e.id)}.bind(this));var s=t.getModel();var r=t.byId("userSettingEntryList");var a=r.getSelectedItem();if(!i.system.phone&&!a){a=r.getItems()[0]}if(a){var o=a.getBindingContextPath();var l=s.getProperty(o);this._aPreviouslySelectedItems=l.tabs.map(function(e){return e.id})}s.setProperty("/entries",this._calculateEntryGroups(e));t.byId("userSettingEntryList").invalidate()},_calculateEntryGroups:function(e){var t=[];var n=new Map;var s=this.getView().getModel("results");e.forEach(function(e){if(e.visible===false){var r=s.getProperty("/entries/"+e.id+"/contentResult");if(r){this.getView().byId("settingsApp").removeDetailPage(r);s.setProperty("/entries/"+e.id+"/contentResult",null)}var i=o.last("UserSettingsOpened")||{};delete i[e.id];o.emit("UserSettingsOpened",i);return}if(e.groupingEnablement){s.setProperty("/entries/"+e.id+"/contentResult",null);var a=n.get(e.groupingId);if(a||a===0){t[a].tabs.push(e);return}n.set(e.groupingId,t.length)}e.tabs=[e];t.push(e)}.bind(this));return t},_afterClose:function(){if(window.document.activeElement&&window.document.activeElement.tagName==="BODY"){window.document.getElementById("userActionsMenuHeaderButton").focus()}},_listAfterRendering:function(){var e=this.getView();var t=e.getModel();var n=e.byId("userSettingEntryList");var s=n.getItems();s.forEach(function(e){var n=t.getProperty(e.getBindingContextPath()+"/id");this._setEntryValueResult(n)}.bind(this));if(!i.system.phone){if(this._aPreviouslySelectedItems){for(var r=0;r<this._aPreviouslySelectedItems.length;r++){for(var a=0;a<s.length;a++){var o=s[a];if(t.getProperty(o.getBindingContextPath()+"/id")===this._aPreviouslySelectedItems[r]){n.setSelectedItem(o);this._toDetail(o);o.focus();return}}}}var l=s[0];if(l){n.setSelectedItem(l);this._toDetail(l);l.focus()}}},_setEntryValueResult:function(t){var n;var s=this.getView().getModel("results");var r=a.last("/core/userPreferences/entries");var i=r.findIndex(function(e){return e.id===t});if(i===-1){return Promise.resolve()}return Promise.resolve().then(function(){var o=r[i].title;var u=r[i].valueArgument;if(typeof u!=="function"){var d=s.getProperty("/entries/"+t+"/valueResult");if(d!==null&&d!==undefined){return d}return u}n=h(s.getProperty("/entries"));n[t].valueResult=l.i18n.getText("genericLoading");s.setProperty("/entries",n);return Promise.resolve().then(u).then(function(e){if(typeof e!=="object"){return e}if(e&&e.value!==undefined){r=a.last("/core/userPreferences/entries");i=r.findIndex(function(e){return e.id===t});if(i>-1){r[i].visible=!!e.value;a.emit("/core/userPreferences/entries",r)}}return e.displayText}).catch(function(t){e.error("Can not load value for "+o+" entry",t);return l.i18n.getText("loadingErrorMessage")})}).then(function(e){n=h(s.getProperty("/entries"));n[t].valueResult=e||"";s.setProperty("/entries",n)})},_navBackButtonPressHandler:function(){var e=this.getView().byId("settingsApp");e.backDetail();this._updateHeaderButtonVisibility(true)},_navToggleButtonPressHandler:function(){var e=this.getView().byId("settingsApp");var t=e.isMasterShown();if(t){e.hideMaster()}else{e.showMaster()}this._updateHeaderButtonVisibility(!t)},_updateHeaderButtonVisibility:function(e){if(i.system.phone){var t=this.getView().byId("userSettingsNavBackButton");t.setVisible(!e)}else{var n=this.getView().byId("userSettingsMenuButton");if(i.orientation.portrait){n.setVisible(true);n.setPressed(e);n.setTooltip(l.i18n.getText(e?"ToggleButtonHide":"ToggleButtonShow"))}else{n.setVisible(false)}}},_afterMasterClose:function(){this._updateHeaderButtonVisibility(false)},_itemPress:function(e){this._toDetail(e.getSource().getSelectedItem())},_toDetail:function(e){var t=this.getView();var n=t.getModel();var s=t.getModel("results");var r=t.byId("settingsApp");var o=e.getBindingContextPath();var l=n.getProperty(o);var u=l.id;var d=s.getProperty("/entries/"+u+"/contentResult");if(l.tabs){this._aPreviouslySelectedItems=l.tabs.map(function(e){return e.id})}else{this._aPreviouslySelectedItems=[u]}if(i.system.phone){this._oSelectedItemOnMobile=e;e.setSelected(false)}if(d){this._navToDetail(d,t);var c=l.tabs.map(function(e){return e.id}).join("-");var g=this._mLoadedWrappers.get(c);if(g){g.then(function(e){var t=e.getContent()[1];var n=t.getSelectedKey();var s=t.getItems();var r=s.findIndex(function(e){return e.getId()===n});if(r===-1){r=0}this._emitEntryOpened(l.tabs[r].id)}.bind(this));return Promise.resolve()}}if(i.system.phone){r.setBusy(true)}else{this._navToBusyPage()}return Promise.all([this._createContentWrapper(l),this._createEntryContent(l)]).then(function(n){var i=n[0];var o=n[1];var d=a.last("/core/userPreferences/entries");var c=d.some(function(e){return e.id===u&&e.visible!==false});var g=t.byId("userSettingEntryList");var f=g.getSelectedItem()||this._oSelectedItemOnMobile;var h=e===f;if(!c){if(h){if(r.getMode()==="ShowHideMode"){r.showMaster();this._updateHeaderButtonVisibility(true)}else{this._toDetail(f||g.getItems()[0])}}return}r.addDetailPage(i);if(l.tabs.length>1){i.getContent()[1].getItems()[0].addContent(o)}else{i.addContent(o)}var p=i.getId();s.setProperty("/entries/"+u+"/contentResult",p);if(h){this._navToDetail(p,t);this._emitEntryOpened(u)}return i.getId()}.bind(this))},_createEntryContent:function(e){if(!this._mLoadedEntryContent.get(e.id)){if(typeof e.contentFunc==="function"){this._mLoadedEntryContent.set(e.id,new Promise(function(t){e.contentFunc().then(function(e){if(g.isA(e,"sap.ui.core.Control")){t(e)}else{this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}}.bind(this)).catch(function(){this._createErrorContent(l.i18n.getText("loadingErrorMessage")).then(t)}.bind(this))}.bind(this)))}else{this._mLoadedEntryContent.set(e.id,this._createErrorContent(l.i18n.getText("userSettings.noContent")))}}return this._mLoadedEntryContent.get(e.id)},_createContentWrapper:function(e){var n=e.tabs.map(function(e){return e.id});var i=n.join("-");if(!this._mLoadedWrappers.get(i)){this._mLoadedWrappers.set(i,s.load({name:"sap.ushell.components.shell.Settings.ContentWrapper",controller:{onTabSelected:function(n){var s=t.byId(n.getParameter("id"));var r=n.getParameter("item");var i=s.indexOfItem(r);var a=e.tabs[i];this._emitEntryOpened(a.id);this._createEntryContent(a).then(function(e){r.addContent(e)})}.bind(this)}}).then(function(t){t.setModel(new r({title:e.title,showHeader:!e.provideEmptyWrapper,tabs:e.tabs}),"entryInfo");return t}))}return this._mLoadedWrappers.get(i).then(function(t){var n=t.getContent()[1];var s=n.getSelectedKey();var r=n.getItems().findIndex(function(e){return e.getId()===s});if(r>-1){var i=e.tabs[r];this._emitEntryOpened(i.id)}return t}.bind(this))},_createErrorContent:function(e){return s.load({name:"sap.ushell.components.shell.Settings.ErrorContent"}).then(function(t){t.setModel(new r({errorMessage:e}));return t})},_navToBusyPage:function(){var e=this.getView();this._navToDetail(e.createId("userSettingBusyPage"),e)},_navToDetail:function(e,t){var n=t.byId("settingsApp");n.setBusy(false);n.toDetail(e);if(n.getMode()==="ShowHideMode"){n.hideMaster();this._updateHeaderButtonVisibility(false)}},_emitEntryOpened:function(e){var t=o.last("UserSettingsOpened")||{};t[e]=true;o.emit("UserSettingsOpened",t)},updateUserPreferences:function(){e.debug("[000] updateUserPreferences: ","UserSettings.controller");if(this._updateUserPreferencesPromise){return this._updateUserPreferencesPromise}var t,n;this._updateUserPreferencesPromise=new Promise(function(e,s){t=e;n=s});this._updateUserPreferencesPromise.sendRequest=function(){sap.ushell.Container.getServiceAsync("UserInfo").then(function(s){e.debug("[000] updateUserPreferences: sendRequest","UserSettings.controller");s.updateUserPreferences().done(t).fail(n).always(function(){e.debug("[000] updateUserPreferences: sendRequest: _updateUserPreferencesPromise","UserSettings.controller");this._updateUserPreferencesPromise=null}.bind(this))}.bind(this))}.bind(this);return this._updateUserPreferencesPromise},_maybeReload:function(t){var n=false;var s=false;var r=[];var i=[];t.forEach(function(e){if(e&&e.refresh){n=true}if(e&&e.noHash){s=true}if(e&&e.urlParams&&e.urlParams.length>0){r=r.concat(e.urlParams)}if(e&&e.obsoleteUrlParams&&e.obsoleteUrlParams.length>0){i=i.concat(e.obsoleteUrlParams)}});if(n){e.debug("[000]refresh browser with Parameters:",JSON.stringify(r),"UserSettings.controller");if(s){window.location=window.location.href.replace(window.location.hash,"")}else{u.refreshBrowser(r,i)}return true}},_handleSaveButtonPress:function(){d.removeErrorMessages();var t=this.getView().byId("userSettingsDialog");var n=a.last("/core/userPreferences/entries");var s=o.last("UserSettingsOpened")||{};if(Object.keys(s).length===0){this._handleSettingsDialogClose();this._showSuccessMessageToast();return Promise.resolve()}t.setBusy(true);var r=n.reduce(function(t,n){if(s[n.id]){e.debug("[000] _handleSaveButtonPress: oEntry.id: ",n.id,"UserSettings.controller");t.push(this._executeEntrySave(n))}return t}.bind(this),[]);e.debug("[000] _handleSaveButtonPress:_updateUserPreferencesPromise",this._updateUserPreferencesPromise,"UserSettings.controller");if(this._updateUserPreferencesPromise){this._updateUserPreferencesPromise.sendRequest()}return Promise.all(r).then(function(n){e.debug("[000] _handleSaveButtonPress: then save aResults",JSON.stringify(n),"UserSettings.controller");var s=d.filterMessagesToDisplay();var r={};var i="";var a="";t.setBusy(false);this._handleSettingsDialogClose();if(s.length>0){r=s[0];i=r.getDescription();o.emit("UserSettingsOpened",null);s.forEach(function(e){a+="Entry: "+e.getAdditionalText()+" - Error message: "+e.getDescription()+"\n"});e.error("Failed to save the following entries",a);if(this._maybeReload(n)){return}return sap.ushell.Container.getServiceAsync("Message").then(function(e){e.init();e.show(e.Type.ERROR,l.i18n.getText("userSettings.SavingError.SomeChanges"),{details:i})})}this._showSuccessMessageToast();o.emit("UserSettingsOpened",null);this._maybeReload(n)}.bind(this))},_executeEntrySave:function(t){var n,s;function r(e){return e||{}}function i(n){e.debug("[000] _onError: errorInformation",JSON.stringify(n),"UserSettings.controller");var s;var r=t.id;var i=t.title;if(!n){s=l.i18n.getText("userSettings.SavingError.Undefined")}else if(typeof n==="string"){s=n}else if(Array.isArray(n)){n.forEach(function(e){e.setAdditionalText(i);e.setTechnicalDetails({pluginId:r});d.addMessage(e)});return}else if(g.isA(n,"sap.ui.core.message.Message")){n.setAdditionalText(i);n.setTechnicalDetails({pluginId:r});d.addMessage(n);return}else{s=l.i18n.getText("userSettings.SavingError.WithMessage",[n.message])}d.addMessage(new c({type:p.Error,additionalText:i,technicalDetails:{pluginId:r},description:s,message:s}))}try{e.debug("[000] onSave: oEntry.id: "+t.id,"UserSettings.controller");this._isExecuteEntrySavedInUserSettingsController=true;n=t.onSave(this.updateUserPreferences.bind(this))}catch(e){return i(e)}if(n){if(n.promise){e.warning("jQuery.promise is used to save "+t.title+" settings entry.\n"+"The using of jQuery.promise for onSave is deprecated. Please use the native promise instead.");s=new Promise(function(e){n.done(function(t){e(r(t))}).fail(function(t){e(i(t))})})}else{s=n.then(r).catch(i)}}else{s=Promise.resolve();e.warning(t.title+" settings might not be saved correctly, it seems like the API contract is not correctly fullfilled.\n"+"Please contact the owner of the setting.")}return s},_showSuccessMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(e){var t=l.i18n.getText("savedChanges");e.show(t,{offset:"0 -50"})})},_handleCancel:function(){var t=a.last("/core/userPreferences/entries");var n=o.last("UserSettingsOpened")||{};if(n){t.forEach(function(t){if(n[t.id]&&t.onCancel){try{t.onCancel()}catch(t){e.error("Failed to cancel the following entries",t)}}})}o.emit("UserSettingsOpened",null);this._handleSettingsDialogClose()},_handleSettingsDialogClose:function(){sap.ushell.Container.getUser().resetChangedProperties();if(i.system.phone){this.getView().byId("settingsApp").toMaster("settingsView--userSettingMaster")}this.getView().byId("userSettingsMessagePopoverBtn").setVisible(false);this.getView().byId("userSettingsDialog").close()},onExit:function(){this._oConfigDoable.off();i.orientation.detachHandler(this._fnOrientationChange,this)}})});
},
	"sap/ushell/components/shell/Settings/UserSettings.view.xml":'<mvc:View\n    displayBlock="true"\n    controllerName="sap.ushell.components.shell.Settings.UserSettings"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><Dialog\n        id="userSettingsDialog"\n        class="sapUshellUserSetting sapContrastPlus"\n        showHeader="false"\n        contentHeight="42rem"\n        contentWidth="58rem"\n        afterClose="._afterClose"\n        escapeHandler="._handleCancel"\n        stretch="{device>/system/phone}"><customHeader><Bar id="settingsBar"><contentLeft><Button id="userSettingsNavBackButton"\n                        icon="sap-icon://nav-back"\n                        press="._navBackButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false"/><ToggleButton id="userSettingsMenuButton"\n                        icon="sap-icon://menu2"\n                        press="._navToggleButtonPressHandler"\n                        tooltip="{i18n>ToggleButtonShow}"\n                        visible="false"/></contentLeft><contentMiddle><Title\n                        text="{i18n>userSettings}"/></contentMiddle></Bar></customHeader><content><Page\n                class="sapUshellSettingsPage"\n                showHeader="false"><content><SplitApp id="settingsApp"\n                        defaultTransitionNameDetail="show"\n                        mode="{= ${device>/system/desktop} ? \'StretchCompressMode\' : \'ShowHideMode\'}"\n                        afterMasterClose="._afterMasterClose"><masterPages><Page id="userSettingMaster"\n                                class="sapUshellUserSettingMaster"\n                                showHeader="false"><content><List id="userSettingEntryList"\n                                        items="{/entries}"\n                                        mode="SingleSelectMaster"\n                                        itemPress="._itemPress"><StandardListItem\n                                            class="sapUshellUserSettingMasterListItem"\n                                            title= "{title}"\n                                            description="{\n                                                parts: [\'id\', \'tabs\', \'results>/entries\'],\n                                                formatter: \'._formatDescription\'\n                                            }"\n                                            icon="{= !!${icon} ? ${icon} : \'sap-icon://action-settings\' }"\n                                            iconDensityAware="false"\n                                            visible="{visible}"\n                                            type="Active"><customData><core:CustomData key="help-id" value="{entryHelpID}" writeToDom="{= !!${entryHelpID}}" /></customData></StandardListItem></List></content></Page></masterPages><detailPages><Page id="userSettingBusyPage"\n                                showHeader="false"\n                                busy="true" /></detailPages></SplitApp></content><footer><OverflowToolbar><Button\n                            id="userSettingsMessagePopoverBtn"\n                            visible="false"\n                            press="._handleMessagePopoverPress"\n                            icon="sap-icon://message-error"\n                            ariaHasPopup="Dialog"/><ToolbarSpacer/><Button\n                            id="userSettingSaveButton"\n                            text="{i18n>saveBtn}"\n                            type="Emphasized"\n                            press="._handleSaveButtonPress"/><Button\n                            id="userSettingCancelButton"\n                            text="{i18n>cancelBtn}"\n                            press="._handleCancel"/></OverflowToolbar></footer></Page></content></Dialog></mvc:View>\n',
	"sap/ushell/components/shell/Settings/appearance/Appearance.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/base/Object","sap/ui/core/Component","sap/ui/core/Core","sap/ui/core/library","sap/ui/core/message/Message","sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/ui/thirdparty/jquery","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/services/DarkModeSupport","sap/ushell/User","sap/ushell/utils"],function(e,t,o,r,n,s,i,a,l,jQuery,h,c,d,u,p,g){"use strict";var f=n.MessageType;function m(t){switch(t){case"sap_fiori_3":case"sap_fiori_3_dark":return"SAP Quartz";case"sap_horizon":case"sap_horizon_dark":return"SAP Horizon";case"sap_fiori_3_hcb":case"sap_fiori_3_hcw":return d.i18n.getText("AppearanceHighContrastTheme",["SAP Quartz"]);case"sap_horizon_hcb":case"sap_horizon_hcw":return d.i18n.getText("AppearanceHighContrastTheme",["SAP Horizon"]);default:e.error("Can not find common name for the theme",t);return t||""}}var v={base:"sapUshellBaseIconStyle",sap_bluecrystal:"sapUshellBlueCrystalIconStyle",sap_belize_hcb:"sapUshellHCBIconStyle sapUshellHCBIconStyleOnHCB",sap_belize_hcw:"sapUshellHCWIconStyle sapUshellHCWIconStyleOnHCW",sap_belize:"sapUshellBelizeIconStyle",sap_belize_plus:"sapUshellPlusIconStyle",sap_fiori_3_hcb:"sapUshellQuartzHCBIconStyle sapUshellHCBIconStyleOnHCB",sap_fiori_3_hcw:"sapUshellQuartzHCWIconStyle sapUshellHCWIconStyleOnHCW",sap_fiori_3:"sapUshellQuartzLightIconStyle",sap_fiori_3_dark:"sapUshellQuartzDarkIconStyle",sap_horizon_hcb:"sapUshellHorizonHCBIconStyle sapUshellHCBIconStyleOnHCB",sap_horizon_hcw:"sapUshellHorizonHCWIconStyle sapUshellHCWIconStyleOnHCW",sap_horizon:"sapUshellHorizonLightIconStyle",sap_horizon_dark:"sapUshellHorizonDarkIconStyle"};return i.extend("sap.ushell.components.shell.Settings.appearance.Appearance",{TILE_SIZE:{Small:0,Responsive:1,getName:function(e){return Object.keys(this)[e]}},onInit:function(){var e=this.getView();this.oUser=sap.ushell.Container.getUser();this.aThemeListFromServer=e.getViewData().themeList||[];this.oPersonalizers={};var t=d.getTranslationModel();e.setModel(t,"i18n");e.setModel(this.getConfigurationModel(),"config");r.attachThemeChanged(this._handleThemeApplied,this);this._oDarkModeModel=this.getDarkModeModel(this.aThemeListFromServer);e.setModel(this._oDarkModeModel,"darkMode");var o=this.oUser.getTheme();e.setModel(new l({options:this._getThemeListData(this.aThemeListFromServer,o),ariaTexts:{headerLabel:d.i18n.getText("Appearance")}}));return Promise.all([this._oConfigModelPromise,this._oDarkModeModelPromise])},onExit:function(){r.detachThemeChanged(this._handleThemeApplied,this)},_getSelectedTheme:function(){var e=this.getView().byId("themeList").getSelectedItem();var t=e?e.getBindingContext():null;return t?t.getProperty("id"):this.oUser.getTheme()},_getThemeListData:function(e,t){if(this.oUser.isSetThemePermitted()===false){var o=t;for(var r=0;r<e.length;r++){if(e[r].id===t){o=e[r].name||t;break}}return[{id:t,name:o}]}var n=this.getView().getModel("darkMode").getData();var s=this._isDarkModeActive();return e.reduce(function(e,o){var r={id:o.id,name:o.name||o.id||"",isVisible:true,isSelected:o.id===t,isSapTheme:!!v[o.id]};if(s&&n.supportedThemes[o.id]){var i=n.supportedThemes[o.id];if(i.complementaryTheme===t||o.id===t){r.isVisible=o.id===t}else{r.isVisible=i.mode===u.Mode.LIGHT}r.combineName=i.combineName}e.push(r);return e},[]).sort(function(e,t){var o=e.name.localeCompare(t.name);if(o===0){o=e.id.localeCompare(t.id)}return o})},getConfigurationModel:function(){const e=new l({themeConfigurable:h.last("/core/shell/model/setTheme"),sizeBehaviorConfigurable:h.last("/core/home/sizeBehaviorConfigurable"),tileSize:this.TILE_SIZE[h.last("/core/home/sizeBehavior")],contentDensityConfigurable:h.last("/core/shell/model/contentDensity")&&!a.system.phone,isCozyContentMode:document.body.classList.contains("sapUiSizeCozy"),sapUiContentIconColor:"",textAlign:a.system.phone?"Left":"Right",showContentProviderInfoOnVisualizationsConfigurable:h.last("/core/contentProviders/providerInfo/enabled")&&h.last("/core/contentProviders/providerInfo/userConfigurable"),showContentProviderInfoOnVisualizationsSelected:h.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations")});this._oConfigModelPromise=g.getThemingParameters(["sapUiContentIconColor"]).then(([t])=>{e.setProperty("/sapUiContentIconColor",t)});return e},getDarkModeModel:function(e){var t=new l({enabled:false,detectionSupported:false,detectionEnabled:false,supportedThemes:{}});if(h.last("/core/darkMode/enabled")){this._oDarkModeModelPromise=sap.ushell.Container.getServiceAsync("DarkModeSupport").then(function(o){t.setProperty("/enabled",true);t.setProperty("/detectionSupported",o.canAutomaticallyToggleDarkMode());t.setProperty("/detectionEnabled",o.canAutomaticallyToggleDarkMode()&&this.oUser.getDetectDarkMode());t.setProperty("/supportedThemes",this._getSupportedDarkModeThemes(e,h.last("/core/darkMode/supportedThemes")||[]))}.bind(this))}else{this._oDarkModeModelPromise=Promise.resolve()}return t},_getSupportedDarkModeThemes:function(e,t){var o=e.reduce(function(e,t){e[t.id]=t.name;return e},{});return t.reduce(function(e,t){var r=t.light;var n=t.dark;var s=o[r];var i=o[n];if(s&&i&&!e[r]&&!e[n]){var a=m(r);e[r]={mode:u.Mode.LIGHT,complementaryTheme:n,combineName:a};e[n]={mode:u.Mode.DARK,complementaryTheme:r,combineName:a}}return e},{})},onAfterRendering:function(){var e=this._isDarkModeActive();var t=this.getView().getModel("config").getProperty("/themeConfigurable");var o=this.getView().byId("themeList");var r=o.getItems();o.toggleStyleClass("sapUshellThemeListDisabled",!t);r.forEach(function(t){var o=t.getCustomData()[0].getValue();var r=t.getContent()[0].getItems()[0].getItems()[0];if(v[o]){r.addStyleClass(v[o])}r.toggleStyleClass("sapUshellDarkMode",e)})},_handleThemeApplied:async function(){var e=this.getView().getModel("config");if(e){const[r]=await g.getThemingParameters(["sapUiContentIconColor"]);e.setProperty("/sapUiContentIconColor",r);var t=this.oUser.getTheme();var o=this._getThemeListData(this.aThemeListFromServer,t);this.getView().getModel().setProperty("/options",o)}},onCancel:function(){var e=this.getView().getModel("config");if(e.getProperty("/themeConfigurable")){var t=this.oUser.getTheme();var o=this.getView().getModel().getProperty("/options");o.forEach(function(e){e.isSelected=t===e.id});this.getView().getModel().setProperty("/options",o)}if(e.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){e.setProperty("/showContentProviderInfoOnVisualizationsSelected",h.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations"))}if(e.getProperty("/contentDensityConfigurable")){e.setProperty("/isCozyContentMode",this.oUser.getContentDensity()==="cozy")}if(e.getProperty("/sizeBehaviorConfigurable")){e.setProperty("/tileSize",this.TILE_SIZE[h.last("/core/home/sizeBehavior")])}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){this._oDarkModeModel.setProperty("/detectionEnabled",this.oUser.getDetectDarkMode());this.oUser.resetChangedProperty("detectDarkMode")}},onSave:function(e){this._updateUserPreferences=e;var o=this.getView().getModel("config");var r=[];if(o.getProperty("/themeConfigurable")){r.push(this.onSaveThemes().then(function(){c.emit("themeChanged",Date.now())}))}if(o.getProperty("/showContentProviderInfoOnVisualizationsConfigurable")){r.push(this.onSaveShowContentProviderInfoOnVisualizations())}if(o.getProperty("/contentDensityConfigurable")){r.push(this.onSaveContentDensity())}if(o.getProperty("/sizeBehaviorConfigurable")){r.push(this.onSaveTileSize())}if(this._oDarkModeModel&&this._oDarkModeModel.getProperty("/enabled")){r.push(this.onSaveDarkModeEnabled())}return Promise.all(r).then(function(e){var o=[];e.forEach(function(e){if(e&&t.isA(e,"sap.ui.core.message.Message")){o.push(e)}});return o.length>0?Promise.reject(o):Promise.resolve()})},onSaveThemesSuccess:function(e){e.resetChangedProperty("theme");return this._applyDarkMode()},onSaveThemes:function(){var t=this.getView().getModel("config");var o=this._getSelectedTheme();var r=this.oUser;var n=r.getTheme(p.prototype.constants.themeFormat.ORIGINAL_THEME);if(o&&o!==n&&t.getProperty("/themeConfigurable")){r.setTheme(o);return this._updateUserPreferences(r).then(function(){return this.onSaveThemesSuccess(r)}.bind(this)).catch(function(t){if(!t.includes("THEME")){return this.onSaveThemesSuccess(r)}r.setTheme(n);r.resetChangedProperty("theme");e.error("Can not save selected theme",t);throw new s({type:f.Error,description:t})}.bind(this))}return Promise.resolve()},_onSaveContentDensitySuccess:function(e){var t=this.oUser;t.resetChangedProperty("contentDensity");r.getEventBus().publish("launchpad","toggleContentDensity",{contentDensity:e});c.emit("toggleContentDensity",{contentDensity:e});return new Promise(function(e){c.once("toggleContentDensity").do(function(){e()})})},onSaveContentDensity:function(){var t=this.getView().getModel("config");var o=this.oUser;var r=t.getProperty("/isCozyContentMode")?"cozy":"compact";var n=o.getContentDensity();e.debug("[000] onSaveContentDensity","Appearance.controller");if(r!==n&&t.getProperty("/contentDensityConfigurable")){o.setContentDensity(r);e.debug("[000] onSaveContentDensity: sNewContentDensity",r,"Appearance.controller");return this._updateUserPreferences(o).then(function(){return this._onSaveContentDensitySuccess(r)}.bind(this)).catch(function(t){if(!t.includes("CONTENT_DENSITY")){return this._onSaveContentDensitySuccess()}o.setContentDensity(n);o.resetChangedProperty("contentDensity");e.error("Can not save content density configuration",t);throw new s({type:f.Error,message:t})}.bind(this))}return Promise.resolve()},onSaveTileSize:function(){var t=this.getView().getModel("config");var o=this.TILE_SIZE.getName(t.getProperty("/tileSize"));var r=h.last("/core/home/sizeBehavior");if(o&&o!==r&&t.getProperty("/sizeBehaviorConfigurable")){return new Promise(function(t,r){this.writeToPersonalization("flp.settings.FlpSettings","sizeBehavior",o).done(function(){h.emit("/core/home/sizeBehavior",o);var e=document.getElementsByClassName(".sapUshellTile");for(var r=0;r<e.length;r++){e[r].classList.toggle("sapUshellSmall",o!=="Responsive")}t()}).fail(function(t,o){e.error("Cannot save tile size configuration",t);var n=new s({type:f.Error,description:t,message:o.message.value,date:o.innererror.timestamp,httpStatus:o.httpStatus});r(n)})}.bind(this))}return Promise.resolve()},onSaveDarkModeEnabledSuccess:function(e,t){return sap.ushell.Container.getServiceAsync("DarkModeSupport").then(function(o){e.resetChangedProperty("detectDarkMode");if(t){o.enableDarkModeBasedOnSystem()}else{o.disableDarkModeBasedOnSystem()}})},onSaveDarkModeEnabled:function(){var t=this._oDarkModeModel.getProperty("/detectionEnabled");var o=this.oUser.getDetectDarkMode();var r=this.oUser;if(t!==o){e.debug("[000] onSaveDarkModeEnabled: setDetectDarkModeEnabled",t,"Appearance.controller");r.setDetectDarkMode(t);return this._updateUserPreferences(this.oUser).then(function(){return this.onSaveDarkModeEnabledSuccess(r,t)}.bind(this)).catch(function(n){if(!n.includes("THEME_DARKMODE_AUTO_DETECTION")){return this.onSaveDarkModeEnabledSuccess(r,t)}r.setDetectDarkMode(o);r.resetChangedProperty("detectDarkMode");e.error("Can not save dark mode configuration",n);throw new s({message:n})}.bind(this))}return Promise.resolve()},onSaveShowContentProviderInfoOnVisualizations:function(){var t=h.last("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations");var o=this.getView().getModel("config").getProperty("/showContentProviderInfoOnVisualizationsSelected");if(o===t){return Promise.resolve()}return new Promise(function(t,r){this.writeToPersonalization("flp.settings.FlpSettings","showContentProviderInfoOnVisualizations",o).done(function(){h.emit("/core/contentProviders/providerInfo/showContentProviderInfoOnVisualizations",o);t()}).fail(function(t,o){e.error("Cannot save system info on tiles configuration",t);var n=new s({type:f.Error,description:t,message:o.message.value,date:o.innererror.timestamp,httpStatus:o.httpStatus});r(n)})}.bind(this))},writeToPersonalization:function(t,o,r){return jQuery.when(this.getPersonalizer(t,o).then(function(e){return e.setPersData(r)})).catch(function(t){e.error("Personalization service does not work:");e.error(t.name+": "+t.message)})},getPersonalizer:function(e,t){var r=e+"-"+t;if(this.oPersonalizers[r]){return Promise.resolve(this.oPersonalizers[r])}return sap.ushell.Container.getServiceAsync("Personalization").then(function(n){var s=o.getOwnerComponentFor(this.getView());var i={keyCategory:n.constants.keyCategory.FIXED_KEY,writeFrequency:n.constants.writeFrequency.LOW,clientStorageAllowed:true};if(!this.oPersonalizers[r]){this.oPersonalizers[r]=n.getPersonalizer({container:e,item:t},i,s)}return this.oPersonalizers[r]}.bind(this))},_applyDarkMode:function(){var e=this._oDarkModeModel;var t;if(e.getProperty("/enabled")&&e.getProperty("/detectionSupported")&&e.getProperty("/detectionEnabled")){t=sap.ushell.Container.getServiceAsync("DarkModeSupport").then(function(e){e._toggleDarkModeBasedOnSystemColorScheme()})}else{t=Promise.resolve()}return t},_isDarkModeActive:function(){var e=this._oDarkModeModel.getProperty("/");return e.enabled&&e.detectionSupported&&e.detectionEnabled},changeSystemModeDetection:function(){var e=this._getSelectedTheme();this.getView().getModel().setProperty("/options",this._getThemeListData(this.aThemeListFromServer,e));this.getView().invalidate()}})});
},
	"sap/ushell/components/shell/Settings/appearance/Appearance.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="sap.ushell.components.shell.Settings.appearance.Appearance"><IconTabBar ariaTexts="{/ariaTexts}" id="idIconTabBar" applyContentPadding="true" expandable="false"><items><IconTabFilter text="{i18n>AppearanceThemeMenu}" key="themeListTab"><List\n                    items="{/options}"\n                    includeItemInSelection="true"\n                    mode="{= ${config>/themeConfigurable} ? \'SingleSelectMaster\' : \'None\'}"\n                    selectionChange="onSelectHandler"\n                    id="themeList"><items><CustomListItem selected="{isSelected}" visible="{isVisible}" class="sapUshellAppearanceCustomListItem"><customData><core:CustomData key="themeid" value="{id}" writeToDom="true" /></customData><HBox><HBox class="sapUshellAppearanceItemViewLeft"><core:Icon\n                                        src="{= ${isSapTheme} ? undefined : \'sap-icon://palette\'}"\n                                        color="{config>/sapUiContentIconColor}"\n                                        size="1.75rem"\n                                        class="sapUshellAppearanceIcon" /><Text text="{= ${combineName} ? ${combineName} : ${name}}" class="sapUshellAppearanceItemText"><layoutData><FlexItemData styleClass="sapUshellAppearanceFlexItemText" /></layoutData></Text></HBox><HBox class="sapUshellAppearanceItemViewRight"><core:Icon\n                                        src="sap-icon://sys-enter-2"\n                                        visible="{= !!${isSelected}}"\n                                        color="{config>/sapUiContentIconColor}"\n                                        size="1.375rem" /></HBox></HBox></CustomListItem></items></List></IconTabFilter><IconTabFilter text="{i18n>AppearanceLayoutAndBehaviorMenu}" id="DisplaySettingsTab" key="displaySettingsTab"><HBox\n                    visible="{config>/showContentProviderInfoOnVisualizationsConfigurable}"\n                    alignItems="Start"\n                    justifyContent="End"\n                    class="sapUshellAppearanceBox"><Label\n                        id="showContentProviderInfoOnVisualizationsLabel"\n                        labelFor="showContentProviderInfoOnVisualizationsCheckbox"\n                        text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsLabel}"\n                        class="sapUshellAppearanceLabel"\n                        width="auto"\n                        textAlign="{config>/textAlign}" /><VBox alignItems="Baseline" class="sapUshellAppearanceContentDensityText"><CheckBox\n                            id="showContentProviderInfoOnVisualizationsCheckbox"\n                            selected="{config>/showContentProviderInfoOnVisualizationsSelected}" /><Text\n                            id="showContentProviderInfoOnVisualizationsDescription"\n                            text="{i18n>AppearanceShowContentProviderInfoOnVisualizationsText}"\n                            class="sapUshellFlpSettingsDescription" /></VBox></HBox><HBox\n                    visible="{config>/contentDensityConfigurable}"\n                    alignItems="Start"\n                    justifyContent="End"\n                    class="sapUshellAppearanceBox"><Label\n                        labelFor="contentDensityCheckBox"\n                        text="{i18n>AppearanceContentDensityLabel}"\n                        class="sapUshellAppearanceLabel"\n                        width="auto"\n                        textAlign="{config>/textAlign}" /><VBox alignItems="Baseline" class="sapUshellAppearanceContentDensityText"><CheckBox id="contentDensityCheckBox" selected="{config>/isCozyContentMode}" /><Text text="{i18n>appearanceCompactCozyDescriptionText}" class="sapUshellFlpSettingsDescription" /></VBox></HBox><HBox visible="{config>/sizeBehaviorConfigurable}" alignItems="Start" justifyContent="End" class="sapUshellAppearanceBox"><Label text="{i18n>AppearanceTileSizeLabel}"\n                        class="sapUshellAppearanceLabel"\n                        width="auto"\n                        textAlign="{config>/textAlign}"\n                        labelFor="tileSizeRadioButtonGroup"\n                        id="sapUshellAppearanceTileSizeLabel" /><VBox class="sapUshellAppearanceTileSizeText"><RadioButtonGroup selectedIndex="{config>/tileSize}" id="tileSizeRadioButtonGroup"><buttons><RadioButton\n                                    text="{i18n>AppearanceTileSizeSmall}"\n                                    class="sapUshellAppearanceTileSizeSmall"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /><RadioButton\n                                    text="{i18n>AppearanceTileSizeLarge}"\n                                    class="sapUshellAppearanceTileSizeLarge"\n                                    ariaLabelledBy="sapUshellAppearanceTileSizeLabel" /></buttons></RadioButtonGroup><Text text="{i18n>appearanceTileSizeDescriptionText}" class="sapUshellFlpSettingsDescription" /></VBox></HBox><HBox visible="{darkMode>/enabled}" alignItems="Start" justifyContent="End" class="sapUshellAppearanceBox"><Label\n                        visible="{darkMode>/detectionSupported}"\n                        labelFor="{= ${darkMode>/detectionSupported} ? \'darkModeDetectionSwitcher\' : \'darkModeSwitcher\'}"\n                        text="{i18n>AppearanceDarkModeLabel}"\n                        class="sapUshellAppearanceLabel"\n                        width="auto"\n                        textAlign="{config>/textAlign}" /><VBox visible="{darkMode>/detectionSupported}" alignItems="Baseline" class="sapUshellAppearanceContentDensityText"><CheckBox\n                            id="darkModeDetectionSwitcher"\n                            select="changeSystemModeDetection"\n                            selected="{darkMode>/detectionEnabled}" /><Text text="{i18n>AppearanceDarkModeDetectionText}" class="sapUshellFlpSettingsDescription" /></VBox></HBox></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/appearance/AppearanceEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],function(e,n,t){"use strict";var r;function i(){if(r){return Promise.resolve(r)}return sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){return new Promise(function(t){e.getThemeList().done(function(e){r=e.options||[];t(r)}).fail(function(){n.error("Failed to load theme list.");t([])})})})}function a(){var r;var a={id:"themes",entryHelpID:"themes",title:t.i18n.getText("Appearance"),valueResult:null,contentResult:null,icon:"sap-icon://palette",valueArgument:function(){return i().then(function(e){var n=sap.ushell.Container.getUser().getTheme(),t="";for(var r=0;r<e.length;r++){if(e[r].id===n){t=e[r].name||"";break}}return t})},contentFunc:function(){return i().then(function(n){return e.create({id:"userPrefThemeSelector",viewName:"sap.ushell.components.shell.Settings.appearance.Appearance",viewData:{themeList:n}})}).then(function(e){r=e;return e})},onSave:function(e){if(r){return r.getController().onSave(e)}n.warning("Save operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(r){r.getController().onCancel();return}n.warning("Cancel operation for appearance settings was not executed, because the userPrefThemeSelector view was not initialized")}};return a}return{getEntry:a}});
},
	"sap/ushell/components/shell/Settings/homepage/HomepageEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources"],function(e,t,n,o,a,r){"use strict";var s={scroll:0,tabs:1,getName:function(e){return Object.keys(this)[e]}};return{getEntry:function(){var i;return{id:"homepageEntry",entryHelpID:"homepageEntry",title:r.i18n.getText("FlpSettings_entry_title"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:null,contentFunc:function(){var l;return o.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(function(e){l=e;return t.create({id:"UserSettingsHomepageSettingsView",viewName:"sap.ushell.components.shell.Settings.homepage.HomepageSetting"})}).then(function(e){i=e;i.setModel(new n({displayMode:s[l]||s.scroll,personalisationEnabled:a.last("/core/shell/enablePersonalization")}));i.setModel(r.getTranslationModel(),"i18n");return i}).catch(function(t){e.error("Failed to get effective hompage setting.",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject()})},onSave:function(){if(i){var t=i.getModel().getProperty("/displayMode"),n=s.getName(t),r=sap.ushell.Container.getRenderer("fiori2");return o.getPersonalizer("homePageGroupDisplay",r).then(function(e){return e.setPersData(n)}).then(function(){a.emit("/core/home/homePageGroupDisplay",n)}).catch(function(t){e.error("Failed to save the anchor bar mode in personalization",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject(t)})}e.warning("Save operation for user account settings was not executed, because the homepage view was not initialized");return Promise.resolve()},onCancel:function(){if(i){return}e.warning("Cancel operation for user account settings was not executed, because the homepage view was not initialized")},provideEmptyWrapper:false}}}});
},
	"sap/ushell/components/shell/Settings/homepage/HomepageSetting.view.xml":'<mvc:View\n      width="100%"\n      xmlns="sap.m"\n      xmlns:lf="sap.ui.layout.form"\n      xmlns:mvc="sap.ui.core.mvc"><lf:SimpleForm><lf:content><Label id="anchorBarLabel"\n                class="sapUshellFlpSettingsLabel"\n                text="{i18n>AnchorBarLabel}"/><VBox><items><RadioButtonGroup id="anchorBarDisplayMode" selectedIndex="{/displayMode}"\n                        ariaLabelledBy="anchorBarLabel"\n                        ariaDescribedBy="anchorBarDescription"><buttons><RadioButton id="anchorBarScrollModeRBtn"\n                                text="{i18n>anchorBarScrollMode}"/><RadioButton id="anchorBarTabModeRBtn"\n                                text="{i18n>anchorBarTabMode}"/></buttons></RadioButtonGroup><VBox class ="sapUshellFlpSettingsDescriptionBorder"><items><Text id="anchorBarDescription"\n                                class="sapUshellFlpSettingsDescription"\n                                text="{i18n>homePageGroupDisplayDescriptionText}"/><Text\n                                class="sapUshellFlpSettingsDescription"\n                                text="{i18n>homePageGroupDisplayDescriptionText_secondParagraph}"\n                                visible="{/personalisationEnabled}"/></items></VBox></items></VBox></lf:content></lf:SimpleForm></mvc:View>\n',
	"sap/ushell/components/shell/Settings/notifications/NotificationsEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],function(n,t,e,i){"use strict";function o(){var e="notificationsSetting",o="sap.ushell.components.shell.Settings.notifications.NotificationsSetting",s;return{id:"notificationsEntry",entryHelpID:"notificationsEntry",title:i.i18n.getText("notificationSettingsEntry_title"),valueResult:null,contentResult:null,icon:"sap-icon://bell",valueArgument:null,contentFunc:function(){return n.create({id:e,viewName:o}).then(function(n){s=n;return n})},onSave:function(){if(s){return s.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the notifications view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the notifications view was not initialized")}}}return{getEntry:o}});
},
	"sap/ushell/components/shell/Settings/notifications/NotificationsSetting.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/Config","sap/base/Log","sap/ushell/resources","sap/base/util/deepClone","sap/ui/thirdparty/jquery"],function(e,t,i,o,r,n,jQuery){"use strict";return e.extend("sap.ushell.components.shell.Settings.notifications.NotificationsSetting",{onInit:function(){this._oModel=new t({rows:[],originalRows:[]});var e=this.getView(),i;e.setBusy(true);e.setModel(r.getTranslationModel(),"i18n");sap.ushell.Container.getServiceAsync("NotificationsV2").then(function(t){this._oNotificationService=t;this._initializeFlags();t.readSettings().then(function(e){i=JSON.parse(e);this._oModel.setProperty("/rows",i.value);this._oModel.setProperty("/originalRows",n(i.value))}.bind(this)).finally(function(){e.setBusy(false);e.setModel(this._oModel)}.bind(this))}.bind(this))},onAfterRendering:function(){var e=this._oModel.getProperty("/flags"),t=this._oModel.getProperty("/rows");if(t!==undefined){this._oModel.setProperty("/originalRows",n(t))}if(e!==undefined){this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}},onCancel:function(){var e=this._oModel.getProperty("/originalFlags"),t=this._oModel.getProperty("/originalRows");this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/rows",n(t));this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalRows",[])},onSave:function(){var e=this._oModel.getProperty("/rows"),t=this._oModel.getProperty("/originalRows"),i,r,n=[],s=[];for(var a=0;a<e.length;a++){i=e[a];r=t[a];if(this._notficationSettingsDiffer(i,r)){n.push(i)}}if(this._flagsHaveChanged()){this._handleFlagsSave()}n.forEach(function(e){s.push(this._oNotificationService.saveSettingsEntry(e))}.bind(this));return Promise.all(s).catch(e=>{o.error("Failed to save the notification settings in the notifivation service.",e,"sap.ushell.components.ushell.settings.notifications.NotificationsSetting");throw e})},_flagsHaveChanged:function(){return this._oModel.getProperty("/flags/highPriorityBannerEnabled")!==this._oModel.getProperty("/originalFlags/highPriorityBannerEnabled")},_handleFlagsSave:function(){var e=this._oModel.getProperty("/flags/highPriorityBannerEnabled");this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e);this._oNotificationService.setUserSettingsFlags({highPriorityBannerEnabled:e})},_notficationSettingsDiffer:function(e,t){return e.NotificationTypeId!==t.NotificationTypeId||e.PriorityDefault!==t.PriorityDefault||e.DoNotDeliver!==t.DoNotDeliver||e.DoNotDeliverMob!==t.DoNotDeliverMob||e.DoNotDeliverEmail!==t.DoNotDeliverEmail},onSelectMobile:function(e){var t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(t+"/DoNotDeliverMob",!e.getParameter("selected"))},onSelectEmail:function(e){var t=e.getSource().getBindingContext().getPath();this._oModel.setProperty(t+"/DoNotDeliverEmail",!e.getParameter("selected"))},onSelectHighPriority:function(e){var t=e.getSource().getBindingContext().getPath();if(e.getParameter("selected")){this._oModel.setProperty(t+"/PriorityDefault","HIGH")}else{this._oModel.setProperty(t+"/PriorityDefault","")}},onEnableSwitchChange:function(e){var t=e.getParameter("state"),i=e.getSource().getBindingContext().getPath();this._oModel.setProperty(i+"/DoNotDeliver",!t);this._oModel.setProperty(i+"/DoNotDeliverMob",true);this._oModel.setProperty(i+"/DoNotDeliverEmail",true);this._oModel.setProperty(i+"/PriorityDefault","")},_initializeFlags:function(){var e=this._oNotificationService.getUserSettingsFlags(),t=this._oNotificationService._getNotificationSettingsMobileSupport(),i=this._oNotificationService._getNotificationSettingsEmailSupport();e.then(function(e){this._oModel.setProperty("/flags",{});this._oModel.setProperty("/flags/highPriorityBannerEnabled",e.highPriorityBannerEnabled);this._oModel.setProperty("/flags/mobileNotificationsEnabled",t);this._oModel.setProperty("/flags/emailNotificationsEnabled",i);this._oModel.setProperty("/originalFlags",{});this._oModel.setProperty("/originalFlags/highPriorityBannerEnabled",e.highPriorityBannerEnabled)}.bind(this))}})});
},
	"sap/ushell/components/shell/Settings/notifications/NotificationsSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.notifications.NotificationsSetting"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox id="showHighPrioCheckbox" selected="{/flags/highPriorityBannerEnabled}" text="{i18n>Label.ShowAlertsForHighNotifications}"/><Table\n            class="sapUiForceWidthAuto"\n            id="table"\n            sticky="ColumnHeaders"\n            fixedLayout="false"\n            items="{\n                path: \'/rows\',\n                sorter: { path: \'NotificationTypeDesc\' }\n            }"><columns><Column id="columnNotificationType"><ObjectIdentifier text="{i18n>notificationType_column}" /></Column><Column id="columnMobileNotification" visible="{/flags/mobileNotificationsEnabled}" minScreenWidth="Tablet" demandPopin="true"><Text id="columnMobileText" text="{i18n>iOSNotification_column}" /></Column><Column id="columnEmail" visible="{/flags/emailNotificationsEnabled}" minScreenWidth="Tablet" demandPopin="true"><Text id="columnEmailText" text="{i18n>eMailFld}" /></Column><Column id="columnHighPriority" minScreenWidth="Tablet" demandPopin="true"><Text id="columnHighPriorityText" text="{i18n>highNotificationsBanner_column}"/></Column><Column id="columnEnable" minScreenWidth="Tablet"><Text id="columnEnableText" text="{i18n>Notifications_Settings_Show_Type_column}"/></Column></columns><items><ColumnListItem id="columnListItemNotifications" type="Inactive"><cells><ObjectIdentifier id="objectIdentifierTitle" title="{NotificationTypeDesc}"/></cells><cells><CheckBox\n                            id="cellCheckboxMobile"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverMob}}"\n                            select=".onSelectMobile"/></cells><cells><CheckBox\n                            id="cellCheckboxEmail"\n                            editable="{= ${IsEmailEnabled} &amp;&amp; !${DoNotDeliver}}"\n                            selected="{= !${DoNotDeliverEmail}}"\n                            select=".onSelectEmail"/></cells><cells><CheckBox\n                            id="cellCheckboxHighPrio"\n                            editable="{=!${DoNotDeliver}}"\n                            selected="{= ${PriorityDefault} === \'HIGH\'}"\n                            select=".onSelectHighPriority"/></cells><cells><Switch\n                                id="cellSwitchEnable"\n                                state="{= !${DoNotDeliver}}"\n                                change=".onEnableSwitchChange"\n                                customTextOn=" "\n                                customTextOff=" "/></cells></ColumnListItem></items></Table></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/search/Search.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/View","sap/ui/core/mvc/Controller"],function(e,n){"use strict";return n.extend("sap.ushell.components.shell.Settings.search.Search",{onInit:function(){this._loadContent()},_loadContent:function(){var n=this.getView().byId("searchContent");e.create({id:"searchPrefsDialogView",viewName:"module:sap/esh/search/ui/userpref/SearchPrefsDialog.view"}).then(function(e){n.addItem(e)})},onCancel:function(){this.oView.getModel().cancelPreferences()},onSave:function(){return this.oView.getModel().savePreferences()}})});
},
	"sap/ushell/components/shell/Settings/search/Search.view.xml":'<mvc:View width="100%" controllerName="sap.ushell.components.shell.Settings.search.Search"\r\n  xmlns="sap.m"\r\n  xmlns:mvc="sap.ui.core.mvc"><VBox id="searchContent" class="sapUshellUserSettingDetailContent" /></mvc:View>',
	"sap/ushell/components/shell/Settings/search/SearchEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(e,n,r){"use strict";var t=null;function i(){if(t){return t}t=sap.ui.getCore().loadLibrary("sap.esh.search.ui",{async:true}).then(function(){return new Promise(function(e,n){sap.ui.require(["sap/esh/search/ui/userpref/SearchPrefsModel","sap/esh/search/ui/SearchShellHelperAndModuleLoader"],function(n,r){e(new n)})})});return t}function s(){return i().then(function(t){var i;var s={id:"search",entryHelpID:"search",title:r.i18n.getText("searchSetting"),valueResult:null,contentResult:null,icon:"sap-icon://search",isActive:t.isSearchPrefsActive.bind(t),valueArgument:function(){return t.isMultiProvider().then(function(e){if(e){return{value:1,displayText:""}}return t.isPersonalizedSearchActive().then(function(e){return{value:1,displayText:e?r.i18n.getText("sp.persSearchOn"):r.i18n.getText("sp.persSearchOff")}})})},contentFunc:function(){return t.asyncInit().then(function(){return n.create({id:"searchView",viewName:"sap.ushell.components.shell.Settings.search.Search"})}).then(function(e){e.setModel(t);i=e;return e})},onSave:function(){if(i){return i.getController().onSave()}e.warning("Save operation for search settings was not executed, because the search view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}e.warning("Cancel operation for search settings was not executed, because the search view was not initialized")},provideEmptyWrapper:false};return s})}return{getEntry:s}});
},
	"sap/ushell/components/shell/Settings/spaces/SpacesEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/View","sap/ushell/resources","sap/ushell/Config","sap/ushell/utils"],function(e,n,t,s,r){"use strict";function a(){return sap.ushell.Container.getServiceAsync("UserInfo").then(function(e){var n=e.getUser().getShowMyHome();return t.i18n.getText(n?"settingsMyHomeShown":"settingsMyHomeHidden")})}function i(){var e=s.last("/core/spaces/enabled")&&s.last("/core/spaces/myHome/enabled")&&!s.last("/core/homeApp/enabled");return e?a:null}return{isRelevant:function(){if(s.last("/core/spaces/configurable")){return true}if(s.last("/core/spaces/enabled")){if(s.last("/core/spaces/hideEmptySpaces/enabled")){return true}var e=s.last("/core/spaces/myHome/enabled");var n=s.last("/core/homeApp/enabled");if(e&&!n){return true}}return false},getEntry:function(){var s;return{id:"spacesEntry",entryHelpID:"spaces",title:t.i18n.getText("spaces"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:i(),contentFunc:function(){return Promise.all([sap.ushell.Container.getServiceAsync("UserInfo"),r.getHideEmptySpacesEnabled()]).then(function(e){var t=e[0];return n.create({id:"UserSettingsSpacesSettingsView",viewName:"sap.ushell.components.shell.Settings.spaces.SpacesSetting",type:"XML",viewData:{UserInfo:t}})}).then(function(e){s=e;return s})},onSave:function(n){if(s){return s.getController().onSave(n)}e.warning("Save operation for user account settings was not executed, because the spaces view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}e.warning("Cancel operation for user account settings was not executed, because the spaces view was not initialized")},provideEmptyWrapper:false,_setViewInstance:function(e){s=e},_getViewInstance:function(){return s}}}}});
},
	"sap/ushell/components/shell/Settings/spaces/SpacesSetting.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/resources","sap/ushell/utils","sap/base/Log"],function(e,s,t,r,o,a,n){"use strict";return e.extend("sap.ushell.components.shell.Settings.spaces.SpacesSetting",{onInit:function(){var e=this.getView().getViewData();this.oUserInfoService=e.UserInfo;var a=this.oUserInfoService.getUser();var n=r.last("/core/spaces/enabled");var i=r.last("/core/homeApp/enabled");var p=r.last("/core/spaces/myHome/enabled");var l=n&&p&&!i;var c=a.getShowMyHome();var d=a.getImportBookmarksFlag();var m=d!=="done"&&d!=="not_required";var h=new s({spaces:{visible:r.last("/core/spaces/configurable"),selected:n},hideEmptySpaces:{visible:n&&r.last("/core/spaces/hideEmptySpaces/enabled"),selected:r.last("/core/spaces/hideEmptySpaces/userEnabled")},showMyHome:{visible:l,selected:c},showMyHomeImport:{visible:l&&c&&m,selected:d==="pending"}});this.getView().setModel(h);this.getView().setModel(o.getTranslationModel(),"i18n");this.oImportBookmarksFlagListener=t.on("importBookmarksFlag").do(this._setMyHomeImportSelected.bind(this))},_setMyHomeImportSelected:function(e){var s=this.getView().getModel();s.setProperty("/showMyHomeImport/selected",e)},onExit:function(){this.oImportBookmarksFlagListener.off()},onSave:function(e){var s=false;var o=false;var i=[];var p=this.getView().getModel();var l=this.oUserInfoService;var c=l.getUser();var d=r.last("/core/spaces/enabled");var m=p.getProperty("/spaces/selected");var h=r.last("/core/spaces/hideEmptySpaces/userEnabled");var g=p.getProperty("/hideEmptySpaces/selected");var y=c.getShowMyHome();var u=p.getProperty("/showMyHome/selected");var v=c.getImportBookmarksFlag()==="pending";var f=p.getProperty("/showMyHomeImport/selected");if(d!==m){c.setChangedProperties({propertyName:"spacesEnabled",name:"SPACES_ENABLEMENT"},d,m);o=true;s=true}if(y!==u){c.setShowMyHome(u);o=true;s=true}if(v!==f){var E=f?"pending":"dismissed";c.setImportBookmarksFlag(E);o=true;if(!s){t.emit("importBookmarksFlag",f)}}if(h!==g){var M=a.setHideEmptySpacesEnabled(g).catch(function(e){p.setProperty("/hideEmptySpaces/selected",h);return Promise.reject(e)});i.push(M)}if(!o&&!i.length){return Promise.resolve()}n.debug("[000] SpacesSetting.controller.save");if(o){var S=new Promise(function(s,t){e().then(function(){c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");s()}).catch(function(e){if(!e.includes("SPACES_ENABLEMENT")&&!e.includes("MYHOME_ENABLEMENT")&&!e.includes("MYHOME_IMPORT_FROM_CLASSIC")){c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");s()}else{p.setProperty("/spaces/selected",d);p.setProperty("/showMyHome/selected",y);c.resetChangedProperty("spacesEnabled");c.resetChangedProperty("showMyHome");c.resetChangedProperty("importBookmarks");t(e)}})});i.push(S)}return Promise.all(i).then(function(){return{refresh:s,noHash:true}})},onCancel:function(){var e=this.getView().getModel();e.setProperty("/spaces/selected",r.last("/core/spaces/enabled"));e.setProperty("/showMyHome/selected",this.oUserInfoService.getUser().getShowMyHome());e.setProperty("/hideEmptySpaces/selected",r.last("/core/spaces/hideEmptySpaces/userEnabled"))}})});
},
	"sap/ushell/components/shell/Settings/spaces/SpacesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.spaces.SpacesSetting"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMargin"><CheckBox\n            text="{i18n>spacesModeLabel}"\n            visible="{/spaces/visible}"\n            selected="{/spaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-spacesMode" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/spaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>spacesModeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>hideEmptySpacesLabel}"\n            visible="{/hideEmptySpaces/visible}"\n            selected="{/hideEmptySpaces/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-hideEmptySpaces" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/hideEmptySpaces/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>hideEmptySpacesDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeLabel}"\n            visible="{/showMyHome/visible}"\n            selected="{/showMyHome/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHome" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHome/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeDescriptionText}"/></VBox><CheckBox\n            text="{i18n>showMyHomeImportLabel}"\n            visible="{/showMyHomeImport/visible}"\n            selected="{/showMyHomeImport/selected}"><customData><core:CustomData key="help-id" value="SpacesEntry-showMyHomeImport" writeToDom="true" /></customData></CheckBox><VBox class="sapUshellFlpSettingsDescriptionBorder" visible="{/showMyHomeImport/visible}"><Text class="sapUshellFlpSettingsDescription sapUshellFlpSettingsWide" text="{i18n>showMyHomeImportDescription}"/></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/Config","sap/ushell/resources"],function(e,n,t,r){"use strict";function o(){var o=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),u=o.enableUserImgConsent;var s=u?"userAccountSelector":"userAccountSetting";var c=u?"sap.ushell.components.shell.Settings.userAccount.UserAccountSelector":"sap.ushell.components.shell.Settings.userAccount.UserAccountSetting";var a=t.last("/core/shell/model/userImage/account")||"sap-icon://account";var i;var l={id:"userAccountEntry",entryHelpID:"userAccountEntry",title:r.i18n.getText("UserAccountFld"),valueResult:null,contentResult:null,icon:a,valueArgument:sap.ushell.Container.getUser().getFullName(),provideEmptyWrapper:true,contentFunc:function(){return e.create({id:s,viewName:c}).then(function(e){i=e;return e})},onSave:function(e){if(i){return i.getController().onSave(e)}n.warning("Save operation for user account settings was not executed, because the userAccount view was not initialized");return Promise.resolve()},onCancel:function(){if(i){i.getController().onCancel();return}n.warning("Cancel operation for user account settings was not executed, because the userAccount view was not initialized")}};return l}return{getEntry:o}});
},
	"sap/ushell/components/shell/Settings/userAccount/UserAccountImgConsentSelector.fragment.xml":'<core:FragmentDefinition height="100%" width="100%" xmlns="sap.m" xmlns:core="sap.ui.core"><VBox><CheckBox id="imageConsentForUserCheckBox" selected="{config>/isImageConsentForUser}" text="{i18n>imgConsentMsg}"/><Panel expandable="true" headerText="{i18n>userImageConsentDialogShowTermsOfUse}" width="auto"><content><Text text="{i18n>userImageConsentDialogTermsOfUse}"/></content></Panel></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/base/Log","sap/ushell/Config","sap/ushell/resources","sap/m/MessageBox","sap/m/MessageToast","sap/ushell/utils","sap/ushell/utils/WindowUtils"],function(e,n,s,t,o,i,r,a,l){"use strict";return e.extend("sap.ushell.components.shell.Settings.userAccount.UserAccountSelector",{onInit:function(){var e=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),n=e.enableUserImgConsent;this.imgConsentEnabled=n||false;this.oUser=sap.ushell.Container.getUser();var i=o.getTranslationModel();var r=this.getConfigurationModel();this.getView().setModel(i,"i18n");this.getView().setModel(r,"config");this.oUser.attachOnSetImage(function(){r.setProperty("/icon",t.last("/core/shell/model/userImage/personPlaceHolder"))});sap.ushell.Container.getServiceAsync("PersonalizationV2").then(function(e){return e.isResetEntirePersonalizationSupported().then(function(e){if(!e){r.setProperty("/isResetPersonalizationVisible",false)}})}).catch(function(e){s.error("The personalization service could not be loaded because of: ."+e.toString())})},getConfigurationModel:function(){var e=new n({}),s=sap.ushell.Container.getUser(),o=t.last("/core/shell/model/userImage/personPlaceHolder")||"sap-icon://person-placeholder";e.setData({icon:o,name:s.getFullName(),id:s.getId(),mail:s.getEmail(),server:window.location.host,imgConsentEnabled:this.imgConsentEnabled,isImageConsentForUser:s.getImageConsent(),isResetPersonalizationVisible:this.isResetPersonalizationVisible||true,displayUserId:t.last("/core/userSettings/displayUserId")});return e},onCancel:function(){if(this.imgConsentEnabled){this.getView().getModel("config").setProperty("/isImageConsentForUser",this.oUser.getImageConsent())}},onSave:function(e){if(this.imgConsentEnabled){return this.onSaveUserImgConsent(e)}return Promise.resolve()},onSaveUserImgConsent:function(e){var n=this.oUser,t=n.getImageConsent(),o=this.getView().getModel("config"),i=o.getProperty("/isImageConsentForUser"),r;s.debug("[000] onSaveUserImgConsent:current",i,"UserAccountSelector.controller");s.debug("[000] onSaveUserImgConsent:original",t,"UserAccountSelector.controller");if(t!==i){n.setImageConsent(i);return new Promise(function(i,a){r=e();r.then(function(){n.resetChangedProperty("isImageConsent");i()});r.catch(function(e){if(!e.includes("ISIMAGECONSENT")){n.resetChangedProperty("isImageConsent");i()}else{n.setImageConsent(t);n.resetChangedProperty("isImageConsent");o.setProperty("/isImageConsentForUser",t);s.error(e);a(e)}})})}return Promise.resolve()},termsOfUserPress:function(){var e=this.getView().byId("termsOfUseTextFlexBox"),n=this.getView().byId("termsOfUseLink"),s=e.getVisible();e.setVisible(!s);n.setText(o.i18n.getText(s?"userImageConsentDialogShowTermsOfUse":"userImageConsentDialogHideTermsOfUse"))},showMessageBoxWarningDeletePersonalization:function(){i.warning(o.i18n.getText("userAccountResetPersonalizationWarningDialogDescription"),{onClose:this.resetEntirePersonalization.bind(this),actions:[i.Action.OK,i.Action.CANCEL],contentWidth:"600px"})},resetEntirePersonalization:function(e){if(e===i.Action.OK){this.getView().setBusy(true);sap.ushell.Container.getServiceAsync("PersonalizationV2").then(function(e){return e.resetEntirePersonalization().then(function(){r.show(o.i18n.getText("userAccountResetPersonalizationWarningDialogSuccessToast"),{onClose:l.refreshBrowser})}).catch(this.showErrorMessageBox.bind(this))}.bind(this)).catch(this.showErrorMessageBox.bind(this)).finally(function(){this.getView().setBusy(false)}.bind(this))}},showErrorMessageBox:function(){i.error(o.i18n.getText("userAccountResetPersonalizationWarningDialogErrorDialog"),{actions:i.Action.CLOSE,contentWidth:"600px"})}})});
},
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSelector.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"\n    core:require="{\n        coreLibrary: \'sap/ui/core/library\'\n    }"><ObjectHeader icon="{config>/icon}"\n                  title="{config>/name}"\n                  backgroundDesign="Solid"\n                  class="sapUshellUserSettingDetailHeader"\n                  titleLevel="{= coreLibrary.TitleLevel.H3}"/><IconTabBar applyContentPadding="true"\n                backgroundDesign="Transparent"><items><IconTabFilter text="{i18n>UserAccountFld}" key="userAccountSetting"><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                               type="XML"></core:Fragment></IconTabFilter><IconTabFilter visible="{config>/imgConsentEnabled}" text="{i18n>ProfileImgId}"\n                           key="userAccountImgConsentSelector"><core:Fragment\n                    fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountImgConsentSelector"\n                    type="XML"></core:Fragment></IconTabFilter></items></IconTabBar></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition\n    height="100%"\n    width="100%"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin"><form:SimpleForm editable="false" layout="ResponsiveGridLayout" labelSpanS="5" columnsM="7"><Label text="{i18n>UserAccountNameFld}" labelFor="userAccountuserName"/><Text text="{config>/name}" id="userAccountuserName"/><Label text="{i18n>UserAccountIdFld}" labelFor="userAccountuserId" visible="{config>/displayUserId}"/><Text text="{config>/id}" id="userAccountuserId" visible="{config>/displayUserId}"/><Label text="{i18n>UserAccountEmailFld}" labelFor="userAccountuserMail"/><Text text="{config>/mail}" id="userAccountuserMail"/><Label text="{i18n>UserAccountServerFld}" labelFor="userAccountuserServer"/><Text text="{config>/server}" id="userAccountuserServer"/></form:SimpleForm></VBox><VBox id="userAccountPersonalizationSection" class="sapUiSmallMargin"\n        visible="{config>/isResetPersonalizationVisible}"><Label text="{i18n>userAccountPersonalizationLabel}"/><Button id="resetPersonalizationButton" text="{i18n>userAccountResetPersonalizationButton}"\n            press="showMessageBoxWarningDeletePersonalization"/><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userAccountResetPersonalizationDescriptionText}"/></VBox></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userAccount/UserAccountSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userAccount.UserAccountSelector"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    core:require="{\n            coreLibrary: \'sap/ui/core/library\'\n        }"><ObjectHeader\n        icon="{config>/icon}"\n        iconDensityAware="false"\n        title="{config>/name}"\n        backgroundDesign="Solid"\n        class="sapUshellUserSettingDetailHeader"\n        titleLevel="{= coreLibrary.TitleLevel.H3}"/><core:Fragment fragmentName="sap.ushell.components.shell.Settings.userAccount.UserAccountSetting"\n                   type="XML"></core:Fragment></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/base/Log","sap/ushell/resources"],function(e,t,i){"use strict";function n(){var n="userActivitiesSetting",r="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",s;return{id:"userActivitiesEntry",entryHelpID:"userActivitiesEntry",title:i.i18n.getText("userActivities"),valueResult:null,contentResult:null,icon:"sap-icon://laptop",valueArgument:null,groupingEnablement:true,groupingId:"userActivities",groupingTabHelpId:"userActivitiesEntryTab",groupingTabTitle:i.i18n.getText("userActivitiesTabName"),contentFunc:function(){return e.create({id:n,viewName:r}).then(function(e){s=e;return e})},onSave:function(){if(s){return s.getController().onSave()}t.warning("Save operation for user account settings was not executed, because the userActivities view was not initialized");return Promise.resolve()},onCancel:function(){if(s){s.getController().onCancel();return}t.warning("Cancel operation for user account settings was not executed, because the userActivities view was not initialized")}}}return{getEntry:n}});
},
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/base/Log","sap/ushell/resources"],function(e,t,i,s,n,o){"use strict";return e.extend("sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting",{onInit:function(){var e=s.last("/core/shell/model/enableTrackingActivity")!==undefined?s.last("/core/shell/model/enableTrackingActivity"):true;this.oModel=new t({checkboxIsChecked:e});this.getView().setModel(this.oModel);this.getView().setModel(o.getTranslationModel(),"i18n")},onCancel:function(){var e=s.last("/core/shell/model/enableTrackingActivity")!==undefined?s.last("/core/shell/model/enableTrackingActivity"):true;this.oModel.setProperty("/checkboxIsChecked",e)},onSave:function(){if(s.last("/core/shell/model/enableTrackingActivity")!==this.oModel.getProperty("/checkboxIsChecked")){return this._setTrackingToEnabled(this.oModel.getProperty("/checkboxIsChecked"))}return Promise.resolve()},_setTrackingToEnabled:function(e){return i.getPersonalizer("userActivitesTracking",sap.ushell.Container.getRenderer("fiori2")).then(function(t){return t.setPersData(e)}).then(function(){s.emit("/core/shell/model/enableTrackingActivity",e)}).catch(function(e){n.error("Failed to save the user activities tracking in personalization",e,"sap.ushell.components.ushell.settings.userActivities.UserActivitiesSetting");return Promise.reject(e)})},onClearHistory:function(){sap.ushell.Container.getServiceAsync("UserRecents").then(function(e){e.clearRecentActivities();this._showClearHistoryMessageToast()}.bind(this))},_showClearHistoryMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(e){var t=o.i18n.getText("historyCleared");e.show(t,{width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"})})}})});
},
	"sap/ushell/components/shell/Settings/userActivities/UserActivitiesSetting.view.xml":'<mvc:View\n    controllerName="sap.ushell.components.shell.Settings.userActivities.UserActivitiesSetting"\n    xmlns="sap.m"\n    xmlns:lf="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"><lf:SimpleForm id="userActivitiesForm" layout="ResponsiveGridLayout" class="sapUiSmallMarginBegin"><lf:content><VBox><CheckBox id="enableTrackingCheckbox" selected="{/checkboxIsChecked}" text="{i18n>trackingLabel}" wrapping="true"/><Button text="{i18n>cleanActivityLabel}" press=".onClearHistory" visible="{/checkboxIsChecked}"/></VBox></lf:content></lf:SimpleForm></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userDefaults/Component.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/XMLView","sap/ui/core/UIComponent"],function(t,n){"use strict";return n.extend("sap.ushell.components.shell.Settings.userDefaults.Component",{metadata:{manifest:"json"},init:function(){n.prototype.init.apply(this,arguments)},onSave:function(){return this.getRootControl().getController().onSave()},onCancel:function(){this.getRootControl().getController().onCancel()},exit:function(){}})});
},
	"sap/ushell/components/shell/Settings/userDefaults/UserDefaultsEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/ComponentContainer","sap/ushell/resources","sap/base/util/includes"],function(e,n,t,a){"use strict";return{getEntry:function(){var r;return{id:"userDefaultEntry",entryHelpID:"defaultParameters",title:t.i18n.getText("defaultsValuesEntry"),valueArgument:function(){var e=sap.ushell.Container.getServiceAsync("UserDefaultParameters");var n=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution");var t=sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getContentProviderIds()}).catch(function(){return[""]});return Promise.all([e,n,t]).then(function(e){var n=e[0];var t=e[1];var a=e[2].length>0?e[2]:[""];return Promise.all(a.map(function(e){return t.getSystemContext(e).then(function(e){return n.hasRelevantMaintainableParameters(e)})}))}).then(function(e){return{value:a(e,true)}})},contentFunc:function(){return new Promise(function(e,t){r=new n("defaultParametersSelector",{name:"sap.ushell.components.shell.Settings.userDefaults",manifest:true,async:true});e(r)})},onSave:function(){if(r&&r.getComponentInstance()){return r.getComponentInstance().onSave()}e.warning("Save operation for user defaults settings was not executed, because the user default component was not initialized");return Promise.resolve()},onCancel:function(){if(r&&r.getComponentInstance()){r.getComponentInstance().onCancel();return}e.warning("Cancel operation for user defaults settings was not executed, because the user default component was not initialized")},defaultVisibility:false}}}});
},
	"sap/ushell/components/shell/Settings/userDefaults/UserDefaultsForm.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Control","sap/base/util/deepExtend","sap/ui/comp/smartform/SmartForm"],function(e,t,r){"use strict";var a=["sap.ui.comp.smartfield.SmartField","sap.m.Input"];var o=e.extend("sap.ushell.components.shell.Settings.userDefaults.UserDefaultsForm",{metadata:{properties:{persistencyKey:{type:"string"}},aggregations:{_smartForm:{type:"sap.ui.comp.smartform.SmartForm",multiple:false,visibility:"hidden"}},events:{}},renderer:{apiVersion:2,render:function(e,t){e.openStart("div",t);e.openEnd();e.renderControl(t.getAggregation("_smartForm"));e.close("div")}}});o.prototype.init=function(){this.setAggregation("_smartForm",new r({editable:true}).addStyleClass("sapUshellShellDefaultValuesForm"))};o.prototype.fetchVariant=function(){var e,t;var r=this.getAggregation("_smartForm").getModel("MdlParameter");return this._getFieldControls().reduce(function(a,o){e=o.getName();a[e]={value:r.getProperty("/"+e+"/valueObject/value/")};t=r.getProperty("/"+e+"/valueObject/extendedValue/");if(t){a[e].additionalValues=t}return a},{})};o.prototype.applyVariant=function(e){if(e){var r=this.getAggregation("_smartForm").getModel("MdlParameter"),a=this._getFieldControls(),o,i;for(var n=0;n<a.length;n++){o=a[n].getName();if(e[o]!==undefined){if(a[n].getDataType&&a[n].getDataType()==="Edm.DateTime"){a[n].setValue(new Date(e[o].value))}else{a[n].setValue(e[o].value)}i=r.getProperty("/"+o+"/valueObject/");i.extendedValue=undefined;if(e[o].additionalValues){i=t(i,{extendedValue:e[o].additionalValues})}r.setProperty("/"+o+"/valueObject",i)}}}};o.prototype._getFieldControls=function(){return this.getControlsByFieldGroupId("UserDefaults").filter(function(e){var t=e.getMetadata().getName();return a.indexOf(t)!==-1})};o.prototype.addGroup=function(e){this.getAggregation("_smartForm").addGroup(e)};o.prototype.getGroups=function(){return this.getAggregation("_smartForm").getGroups()};o.prototype.removeGroup=function(e){this.getAggregation("_smartForm").removeGroup(e)};o.prototype.removeAllGroups=function(){this.getAggregation("_smartForm").removeAllGroups()};return o});
},
	"sap/ushell/components/shell/Settings/userDefaults/controller/ExtendedValueDialog.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/Token","sap/ui/comp/library","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],function(e,t,a,o){"use strict";var n=t.valuehelpdialog.ValueHelpRangeOperation;var r=function(){};r.prototype.openDialog=function(e,t){o.load({id:"ExtendedValueDialogFragment",name:"sap.ushell.components.shell.Settings.userDefaults.view.ExtendedValueDialog",controller:this}).then(function(o){var n="/"+e.parameterName+"/valueObject/extendedValue/Ranges",r=e.modelBind.extendedModel,i=r.getProperty(n)||[],l,p;if(e.modelBind.isOdata){p=this._getMetadataNameSpace(e.editorMetadata.editorInfo.odataURL);var d=e.modelBind.model.getMetaModel().getODataEntityType(p+"."+e.editorMetadata.editorInfo.entityName);if(d){l=e.modelBind.model.getMetaModel().getODataProperty(d,e.editorMetadata.editorInfo.propertyName)["sap:label"]}}var s={label:e.editorMetadata.displayText||l||e.parameterName,key:e.modelBind.sPropertyName,parameterName:e.parameterName};o.setModel(new a(s));o.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());o.setTokens(this.getTokensToValueHelpDialog(i,e.parameterName));o.setRangeKeyFields([{label:s.label,key:e.parameterName}]);o.attachOk(function(e){t(e);e.getSource().close()});o.open()}.bind(this))};r.prototype.closeValueHelp=function(e){e.getSource().close(e)};r.prototype.afterCloseValueHelp=function(e){e.getSource().destroy()};r.prototype._getMetadataNameSpace=function(e){var t=e.split("/"),a;a=t[t.length-1];return a};r.prototype.getListOfSupportedRangeOperations=function(){var e=Object.keys(n);return e.filter(function(e){return e!=="StartsWith"&&e!=="EndsWith"&&e!=="Initial"})};r.prototype.getTokensToValueHelpDialog=function(t,a){var o=[],n;t.forEach(function(t){if(t){n={};n.exclude=t.Sign==="E";n.keyField=a;n.operation=t.Option!=="CP"?t.Option:"Contains";n.value1=t.Low;n.value2=t.High;o.push(new e({}).data("range",n))}});return o};return new r});
},
	"sap/ushell/components/shell/Settings/userDefaults/controller/UserDefaultsSetting.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/base/util/deepExtend","sap/base/util/deepEqual","sap/m/Button","sap/m/FlexBox","sap/m/FlexItemData","sap/m/Input","sap/m/library","sap/ui/core/mvc/Controller","sap/ui/core/Configuration","sap/ui/comp/smartfield/SmartField","sap/ui/comp/smartfield/SmartLabel","sap/ui/comp/smartform/Group","sap/ui/comp/smartform/GroupElement","sap/ui/comp/smartvariants/PersonalizableInfo","sap/ui/core/Title","sap/ui/Device","sap/ui/layout/GridData","sap/ui/model/json/JSONModel","sap/ui/model/odata/v2/ODataModel","sap/ushell/resources","sap/m/MessageBox","./ExtendedValueDialog.controller"],function(e,t,a,r,n,i,s,o,d,l,u,m,h,f,c,p,v,g,y,P,M,b,S){"use strict";var D=o.ButtonType;function C(e,t){if(!(t.editorMetadata&&t.editorMetadata.groupId)){return-1}if(!(e.editorMetadata&&e.editorMetadata.groupId)){return 1}if(e.editorMetadata.groupId<t.editorMetadata.groupId){return-1}if(e.editorMetadata.groupId>t.editorMetadata.groupId){return 1}return 0}function x(e,t){if(!(t.editorMetadata&&t.editorMetadata.parameterIndex)){return-1}if(!(e.editorMetadata&&e.editorMetadata.parameterIndex)){return 1}return e.editorMetadata.parameterIndex-t.editorMetadata.parameterIndex}function V(e,t){var a=C(e,t);if(a===0){return x(e,t)}return a}return d.extend("sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting",{onInit:function(){this.oModelRecords={};this.aChangedParamsNames=[];this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.oDirtyStateModel=new y({isDirty:false,selectedVariant:null});this.getView().setModel(this.oDirtyStateModel,"DirtyState");this.oOriginalParameters={};var t=this.getView();t.setBusy(true);t.setModel(M.getTranslationModel(),"i18n");this.getSystemContextsModel().then(function(e){t.setModel(e,"systemContexts");return this._fillGroups()}.bind(this)).then(this._saveIsSupportedPlatform.bind(this)).then(this._initializeSmartVariantManagement.bind(this)).then(function(){t.setBusy(false)}).catch(function(a){e.error("Error during UserDefaultsSetting controller initialization",a,"sap.ushell.components.shell.Settings.userDefaults.UserDefaultsSetting");t.setBusy(false)})},getSystemContextsModel:function(){var e=new y({systemContexts:[],selectedKey:""});var t=this._getContentProviderIds();var a=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution");var r=sap.ushell.Container.getServiceAsync("UserDefaultParameters");return Promise.all([t,a,r]).then(function(t){var a=t[0];var r=t[1];var n=t[2];if(a.length===0){a.push("")}return Promise.all(a.map(function(t){return r.getSystemContext(t).then(function(t){var a=e.getProperty("/systemContexts");return n.hasRelevantMaintainableParameters(t).then(function(e){if(e){a.push(t)}})})})).then(function(){var t=e.getProperty("/systemContexts");if(t.length>0){e.setProperty("/selectedKey",t[0].id)}return e})})},_getContentProviderIds:function(){return sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(e){return e.getContentProviderIds()}).catch(function(){return[""]})},handleSystemContextChanged:function(){if(this.oDirtyStateModel.getProperty("/isDirty")){var e=M.i18n.getText("userDefaultsSave");var t=M.i18n.getText("userDefaultsDiscard");b.show(M.i18n.getText("userDefaultsUnsavedChangesMessage"),{title:M.i18n.getText("userDefaultsUnsavedChangesTitle"),actions:[e,t,b.Action.CANCEL],emphasizedAction:e,icon:b.Icon.QUESTION,onClose:function(a){if(a===t){this._fillGroups();this._setDirtyState(false)}else if(a===e){this.onSave();this._fillGroups();this._setDirtyState(false)}else{this.getView().getModel("systemContexts").setProperty("/selectedKey",this.sLastSelectedKey)}}.bind(this)})}else{this._fillGroups()}},_fillGroups:function(){var e=this.getView().byId("userDefaultsForm");e.removeAllGroups();var a=this.getView().getModel("systemContexts").getProperty("/selectedKey");var r=this.getView().getModel("systemContexts").getProperty("/systemContexts").find(function(e){return e.id===a});return new Promise(function(a){sap.ushell.Container.getServiceAsync("UserDefaultParameters").then(function(n){n.editorGetParameters(r).done(function(r){this.oOriginalParameters=t({},r);this.oModel=new y(r);this.oModel.setDefaultBindingMode("TwoWay");this.getView().setModel(this.oModel,"MdlParameter");return this._getFormattedParameters(this.oModel).then(function(t){var a=this._createContent(t);a.forEach(function(t){e.addGroup(t)})}.bind(this)).then(a)}.bind(this))}.bind(this))}.bind(this))},_getFormattedParameters:function(a){var r=a.getData("/");var n=Object.keys(r).map(function(n){var i=t({},r[n]);i.parameterName=n;i.editorMetadata=i.editorMetadata||{};if(i.editorMetadata.editorInfo&&i.editorMetadata.editorInfo.propertyName){return this._createOdataModelBinding(i,a).then(function(e){i.modelBind=e;var a=e.model?e.model.getMetaModel():undefined;if(a){return a.loaded().then(function(){var e=a.getObject("/dataServices/schema/0/namespace");var t=a.getODataEntityType(e+"."+i.editorMetadata.editorInfo.entityName);var r=t.property.find(function(e){if(e.name===i.editorMetadata.editorInfo.propertyName){return true}});switch(r.type){case"Edm.DateTime":i.valueObject.value=i.valueObject.value?new Date(i.valueObject.value):null;break;default:i.valueObject.value=i.valueObject.value?i.valueObject.value:"";break}return i})}i.valueObject=t({value:""},i.valueObject);return i}).catch(function(){e.error("Metadata loading for parameter "+i.parameterName+" failed"+JSON.stringify(i.editorMetadata));i.valueObject=t({value:""},i.valueObject);i.modelBind=this._createPlainModelBinding(i,a);this.oBlockedParameters[i.parameterName]=false;return Promise.resolve(i)}.bind(this))}i.valueObject=t({value:""},i.valueObject);i.modelBind=this._createPlainModelBinding(i,a);return Promise.resolve(i)}.bind(this));return Promise.all(n).then(function(e){e.sort(V);this.aDisplayedUserDefaults=e;e.forEach(function(e){e.modelBind.model.setProperty(e.modelBind.sFullPropertyPath,e.valueObject.value);e.modelBind.model.bindTree(e.modelBind.sFullPropertyPath).attachChange(this.storeChangedData.bind(this))}.bind(this));return e}.bind(this))},_createPlainModelBinding:function(e,t){var a="/"+e.parameterName+"/valueObject/value";if(!t.getProperty("/"+e.parameterName+"/valueObject")){t.setProperty("/"+e.parameterName+"/valueObject",{})}var r={isOdata:false,model:t,extendedModel:t,sFullPropertyPath:a,sPropertyName:"{"+a+"}"};return r},_createOdataModelBinding:function(e,t){var a=e.editorMetadata.editorInfo;var r=this._getODataServiceData(a.odataURL,e);return r.metadataLoaded.then(function(){var e={isOdata:true,model:r.model,extendedModel:t,sPropertyName:"{"+a.propertyName+"}",sFullPropertyPath:a.bindingPath+"/"+a.propertyName};return e})},_getODataServiceData:function(e,t){if(!this.oModelRecords[e]){var a=new P(e,{metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none","sap-language":l.getLanguageTag()},json:true});a.setDefaultCountMode("None");a.setDefaultBindingMode("TwoWay");this.oModelRecords[e]={attachedListeners:[],model:a,metadataLoaded:new Promise(function(e,t){a.attachMetadataLoaded(e);a.attachMetadataFailed(t)})}}if(this.oModelRecords[e].attachedListeners.indexOf(t.parameterName)===-1){this.oModelRecords[e].attachedListeners.push(t.parameterName);this.oModelRecords[e].model.attachRequestCompleted(this._overrideOdataModelValue.bind(this,t));this.oBlockedParameters[t.parameterName]=true}return this.oModelRecords[e]},_overrideOdataModelValue:function(e,t){var a=t.getSource();var r="/"+t.getParameter("url").replace(/\?.*/,"");if(e.editorMetadata.editorInfo.bindingPath===r){var n=e.editorMetadata.editorInfo.bindingPath+"/"+e.editorMetadata.editorInfo.propertyName;if(a.getProperty(n)!==e.valueObject.value){a.setProperty(n,e.valueObject.value)}this.oBlockedParameters[e.parameterName]=false}},_createContent:function(e){var t="nevermore";var a;var r={};var n=[];for(var i=0;i<e.length;++i){var s=e[i];var o=s.modelBind;if(t!==s.editorMetadata.groupId){a=new h({layoutData:new g({linebreak:false}),title:new p({text:s.editorMetadata.groupTitle||undefined})});t=s.editorMetadata.groupId;n.push(a)}var d=new f({});d.setModel(o.model);if(o.isOdata){var l=s.editorMetadata.editorInfo.odataURL;if(!r[l]){var u=s.editorMetadata.editorInfo.bindingPath;d.bindElement(u);r[l]=s.modelBind.model.getContext(u)}else{d.setBindingContext(r[l])}}d.addElement(this._createControl(s));a.addGroupElement(d)}return n},_createControl:function(e){var t;var a;if(e.editorMetadata.extendedUsage){a=new r({text:M.i18n.getText("userDefaultsExtendedParametersTitle"),tooltip:M.i18n.getText("userDefaultsExtendedParametersTooltip"),type:{parts:["MdlParameter>/"+e.parameterName+"/valueObject/extendedValue/Ranges"],formatter:function(e){return e&&e.length?D.Emphasized:D.Transparent}},press:function(t){S.openDialog(e,this.saveExtendedValue.bind(this))}.bind(this)}).addStyleClass("sapUshellExtendedDefaultParamsButton")}var o=new m({width:v.system.phone?"auto":"12rem",textAlign:v.system.phone?"Left":"Right"}).addStyleClass("sapUiTinyMarginEnd");if(e.modelBind.isOdata&&e.editorMetadata.editorInfo){t=new u({value:e.modelBind.sPropertyName,name:e.parameterName,fieldGroupIds:["UserDefaults"]});o.setLabelFor(t)}else{t=new s({name:e.parameterName,value:e.modelBind.sPropertyName,fieldGroupIds:["UserDefaults"],type:"Text"});t.addAriaLabelledBy(o);o.setText((e.editorMetadata.displayText||e.parameterName)+":");o.setTooltip(e.editorMetadata.description||e.parameterName)}t.attachChange(this.storeChangedData.bind(this));t.attachChange(this._setDirtyState.bind(this,true),this);t.addStyleClass("sapUshellDefaultValuesSmartField");t.setLayoutData(new i({shrinkFactor:0}));var d=new n({width:v.system.phone?"100%":"auto",alignItems:v.system.phone?"Start":"Center",direction:v.system.phone&&!a?"Column":"Row",items:[o,t,a],wrap:"Wrap"});return d},saveExtendedValue:function(e){var t=e.getSource().getModel().getProperty("/parameterName");var a=this.oModel;var r=e.getParameters().tokens||[];var n="/"+t+"/valueObject/extendedValue/Ranges";var i=r.map(function(e){var t=e.data("range");return{Sign:t.exclude?"E":"I",Option:t.operation!=="Contains"?t.operation:"CP",Low:t.value1,High:t.value2||null}});if(!a.getProperty("/"+t+"/valueObject/extendedValue")){a.setProperty("/"+t+"/valueObject/extendedValue",{})}a.setProperty(n,i);this.aChangedParamsNames.push(t);if(e.getParameter("_tokensHaveChanged")){this._setDirtyState(true)}},_setDirtyState:function(e){this.oDirtyStateModel.setProperty("/isDirty",e);this._setSmartVariantModified(e);if(e){this.sLastSelectedKey=this.getView().getModel("systemContexts").getProperty("/selectedKey")}},_setSelectedVariant:function(e){this.oDirtyStateModel.setProperty("/selectedVariant",e);this.storeChangedData()},storeChangedData:function(){var e=this.aDisplayedUserDefaults||[];for(var r=0;r<e.length;++r){var n=e[r].parameterName;var i=this.oModel.getProperty("/"+n+"/valueObject/");var s=e[r].modelBind;if(!this.oBlockedParameters[n]){var o={value:i&&i.value,extendedValue:i&&i.extendedValue};if(s&&s.model){var d=s.model;var l=s.extendedModel;var u=s.sFullPropertyPath;var m={value:d.getProperty(u)!==""?d.getProperty(u):undefined,extendedValue:l.getProperty("/"+n+"/valueObject/extendedValue")||undefined};if(!a(m,o)){i.value=m.value;if(m.extendedValue){i.extendedValue={};t(i.extendedValue,m.extendedValue)}this.oModel.setProperty("/"+n+"/valueObject",i);this.aChangedParamsNames.push(n)}}}}},onCancel:function(){this._setDirtyState(false);var e=this.aDisplayedUserDefaults;if(this.aChangedParamsNames.length>0){for(var t=0;t<e.length&&this.aChangedParamsNames.length>0;t++){var a=e[t].parameterName;if(this.aChangedParamsNames.indexOf(a)>-1){var r=this.oOriginalParameters[a];var n=e[t];var i=n.modelBind;var s=i.model?i.model.getMetaModel():undefined;if(s){var o=s.getObject("/dataServices/schema/0/namespace");var d=s.getODataEntityType(o+"."+n.editorMetadata.editorInfo.entityName);var l=d.property.find(function(e){if(e.name===n.editorMetadata.editorInfo.propertyName){return true}});switch(l.type){case"Edm.DateTime":i.model.setProperty(i.sFullPropertyPath,new Date(r.valueObject.value)||null);break;default:i.model.setProperty(i.sFullPropertyPath,r.valueObject.value||"");break}}else{i.model.setProperty(i.sFullPropertyPath,r.valueObject.value||"")}if(r.editorMetadata&&r.editorMetadata.extendedUsage){i.extendedModel.setProperty("/"+a+"/valueObject/extendedValue",r.valueObject.extendedValue||{})}}}this.aChangedParamsNames=[]}this._setDefaultVariant()},onSave:function(){this.storeChangedData();this._setDirtyState(false);var e;if(this.aChangedParamsNames.length===0){e=Promise.resolve()}else{e=sap.ushell.Container.getServiceAsync("ClientSideTargetResolution").then(function(e){return e.getSystemContext(this.sLastSelectedKey)}.bind(this)).then(function(e){var t=this.aChangedParamsNames.sort();this.aChangedParamsNames=[];return this._saveParameterValues(t,e)}.bind(this))}return e.then(this._resetSmartVariantManagement.bind(this)).then(this._setDefaultVariant.bind(this))},_saveParameterValues:function(e,t){var r=[];for(var n=0;n<e.length;n++){var i=e[n];var s=this.oModel.getProperty("/"+i+"/valueObject/");var o=this.oOriginalParameters[i].valueObject;if(!a(o,s)){if(s&&s.value===null||s&&s.value===""){s.value=undefined}if(s&&s.extendedValue&&Array.isArray(s.extendedValue.Ranges)&&s.extendedValue.Ranges.length===0){s.extendedValue=undefined}var d=this._saveParameterValue(i,s,o,t);r.push(d)}}return Promise.all(r)},_saveParameterValue:function(e,t,a,r){return sap.ushell.Container.getServiceAsync("UserDefaultParameters").then(function(n){return new Promise(function(i,s){n.editorSetValue(e,t,r).done(function(){a.value=t.value;i()}).fail(s)})})},_setSmartVariantModified:function(e){if(!this._bIsSupportedPlatform){return}this.getView().byId("defaultSettingsVariantManagement").currentVariantSetModified(e)},_setDefaultVariant:function(){if(!this._bIsSupportedPlatform){return}var e=this.getView().byId("defaultSettingsVariantManagement");e.setCurrentVariantId(e.getDefaultVariantKey());this._setSelectedVariant(e.getDefaultVariantKey())},_resetSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}this.getView().byId("defaultSettingsVariantManagement").removeAllPersonalizableControls();return this._initializeSmartVariantManagement()},_initializeSmartVariantManagement:function(){if(!this._bIsSupportedPlatform){return Promise.resolve()}var e=this.getView().byId("defaultSettingsVariantManagement");var t=function(){this._setSelectedVariant(e.getSelectionKey())}.bind(this);return new Promise(function(a){var r=this.getView().byId("userDefaultsForm");var n=new c({type:"wrapper",keyName:"persistencyKey",dataSource:"none",control:r});e.detachSelect(t).detachAfterSave(t).addPersonalizableControl(n).attachSelect(t).attachAfterSave(t).initialise(function(){e.setVisible(true);a()},r)}.bind(this)).then(t)},_saveIsSupportedPlatform:function(){var e=sap.ushell.Container.getLogonSystem().getPlatform();this._bIsSupportedPlatform=e!=="cdm";return Promise.resolve(this._bIsSupportedPlatform)},displayDiffText:function(){if(!this._bIsSupportedPlatform){return false}var e=this.getView().byId("defaultSettingsVariantManagement");var t=this.getView().byId("userDefaultsForm");var r=e.getStandardVariantKey();var n=e.getSelectionKey();if(n===r){return false}var i=e.getVariantContent(t,r);var s=e.getVariantContent(t,n);delete s.executeOnSelection;return!a(i,s)}})});
},
	"sap/ushell/components/shell/Settings/userDefaults/manifest.json":'{"_version":"1.12.0","sap.app":{"id":"sap.ushell.components.shell.Settings.userDefaults","applicationVersion":{"version":"1.0.0"},"i18n":{"bundleUrl":"../../renderer/resources/resources.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en_US","en_US_sappsd","en_US_saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh_CN","zh_TW"],"fallbackLocale":"en"},"ach":"CA-FLP-FE-COR","type":"application"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"rootView":{"viewName":"sap.ushell.components.shell.Settings.userDefaults.view.UserDefaultsSetting","type":"XML","async":true,"id":"defaultParametersSelectorView"},"dependencies":{"minUI5Version":"1.82","libs":{"sap.m":{},"sap.ui.comp":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/ushell/components/shell/Settings/userDefaults/view/ExtendedValueDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:valueHelp="sap.ui.comp.valuehelpdialog"\n    xmlns:core="sap.ui.core"><valueHelp:ValueHelpDialog\n        id="extendedValueDialog"\n        basicSearchText="{/label}"\n        title="{/label}"\n        supportRanges="true"\n        supportRangesOnly="true"\n        key="{/key}"\n        displayFormat="UpperCase"\n        descriptionKey="{/label}"\n        filterMode="true"\n        stretch="{device>/system/phone}"\n        cancel=".closeValueHelp"\n        afterClose=".afterCloseValueHelp"></valueHelp:ValueHelpDialog></core:FragmentDefinition>\n',
	"sap/ushell/components/shell/Settings/userDefaults/view/UserDefaultsSetting.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:smartvariants="sap.ui.comp.smartvariants"\n    xmlns:userDefaults="sap.ushell.components.shell.Settings.userDefaults"\n    controllerName="sap.ushell.components.shell.Settings.userDefaults.controller.UserDefaultsSetting"><VBox visible="{= ${systemContexts>/systemContexts}.length > 1}" class="sapUshellSystemContextsSelection"><HBox alignItems="Center"><Label labelFor="systemContextSelect" text="{i18n>userDefaultsSystemTitle}" /><Select\n                id="systemContextSelect"\n                selectedKey="{systemContexts>/selectedKey}"\n                items="{systemContexts>/systemContexts}"\n                change=".handleSystemContextChanged"><core:ListItem text="{systemContexts>label}" key="{systemContexts>id}" /></Select></HBox><Text class="sapUshellFlpSettingsWideDescription" text="{i18n>userDefaultsSystemContextInfo}" /></VBox><VBox><smartvariants:SmartVariantManagement\n            id="defaultSettingsVariantManagement"\n            class="sapUshellSmartVariantManagement"\n            showSetAsDefault="false"\n            visible="false"\n            standardItemText="{i18n>userDefaultsStandardView}" /></VBox><Text\n        text="{i18n>userDefaultsDiffState}"\n        visible="{ path: \'DirtyState>/selectedVariant\', formatter: \'.displayDiffText\' }"\n        class="sapUshellDefaultValuesDirtyState sapUiTinyMarginTop" /><userDefaults:UserDefaultsForm id="userDefaultsForm" persistencyKey="UserDefaultsFormPersKey" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/Configuration","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/DateFormat","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config"],function(e,t,r,a,n,i,s,g,o){"use strict";return i.extend("sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector",{onInit:function(){this.oUserInfoServicePromise=sap.ushell.Container.getServiceAsync("UserInfo");this.oUserInfoServicePromise.then(function(e){this.oUser=sap.ushell.Container.getUser();var r=t.getFormatSettings().getFormatLocale();var i=a.getInstance(r);var g,l,u,m,c;var d=sap.ushell.Container.getRenderer("fiori2").getShellConfig().enableSetLanguage||false;var L=this.oUser.isLanguagePersonalized();var h=e.getUserSettingListEditSupported();var f=[];if(h){var p=t.getFormatSettings();g=p.getLegacyDateFormat();u=p.getLegacyTimeFormat();m=this._getLegacyNumberFormat(p);c=this.oUser.getCalendarWeekNumbering?.()||"Default";f.push(this._loadUserSettingList())}else{g=i.getDatePattern("medium");l=i.getTimePattern("medium");u=l.indexOf("H")===-1?"12h":"24h";c="Default"}var P=new s({languageList:null,DateFormatList:null,TimeFormatList:null,NumberFormatList:null,TimeZoneList:null,CalendarWeekNumberingList:null,selectedLanguage:this.oUser.getLanguage(),selectedLanguageText:this.oUser.getLanguageText(),selectedDatePattern:g,selectedTimeFormat:u,selectedNumberFormat:m,selectedTimeZone:this.oUser.getTimeZone(),selectedCalendarWeekNumbering:c,isSettingsLoaded:true,isLanguagePersonalized:L,isEnableSetLanguage:d,isEnableUserProfileSetting:h,isTimeZoneFromServerInUI5:o.last("/core/ui5/timeZoneFromServerInUI5")});P.setSizeLimit(1e3);if(d){f.push(this._loadLanguagesList())}if(f.length>0){this.getView().setBusy(true);return Promise.all(f).then(function(t){var r=h?t[0]:null;var a=null;if(d){a=t.length===1?t[0]:t[1]}if(a?.length>1){P.setProperty("/languageList",a);var i=a.some(function(e){return e.key==="default"});if(!L&&i){P.setProperty("/selectedLanguage","default")}}if(r?.TIME_FORMAT?.length>0){P.setProperty("/TimeFormatList",r.TIME_FORMAT)}if(r?.DATE_FORMAT?.length>0){P.setProperty("/DateFormatList",r.DATE_FORMAT)}if(r?.TIME_ZONE?.length>0){var s=n.getDateTimeWithTimezoneInstance({showDate:false,showTime:false});var g=r.TIME_ZONE.map(function(e){var t=s.format(null,e.description)||e.description;return{description:t,value:e.value}});P.setProperty("/TimeZoneList",g)}if(r?.NUMBER_FORMAT?.length>0){P.setProperty("/NumberFormatList",r.NUMBER_FORMAT)}if(r?.CALENDAR_WEEK_NUMBERING){var o=e.getCalendarWeekNumberingList().map(e=>{e.selected=e.value===P.getProperty("/selectedCalendarWeekNumbering");return e});P.setProperty("/CalendarWeekNumberingList",o)}this.oView.setModel(P);this.getView().setBusy(false)}.bind(this))}this.oView.setModel(P)}.bind(this))},_loadLanguagesList:function(){g.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");return this.oUserInfoServicePromise.then(function(t){return new Promise(function(r){g.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");t.getLanguageList().done(function(e){g.end("FLP:LanguageRegionSelector._getLanguagesList");r(e)}).fail(function(t){g.end("FLP:LanguageRegionSelector._getLanguagesList");e.error("Failed to load language list.",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");r(null)})})})},_loadUserSettingList:function(){g.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");return this.oUserInfoServicePromise.then(function(e){return new Promise(function(t){g.start("FLP:LanguageRegionSelector._loadUserSettingList","_loadUserSettingList","FLP");e.getUserSettingList().then(function(e){g.end("FLP:LanguageRegionSelector._loadUserSettingList");t(e)})})})},_resetLanguage:function(){var e=this.oUser.getLanguage(),t=this.getView().getModel(),r=t.getData();var a=r.isLanguagePersonalized?e:"default";t.setProperty("/selectedLanguage",a);this._updateTextFields(e)},onCancel:function(){var e=this.getView().getModel(),t=e.getData(),r=t.languageList,a=t.isEnableSetLanguage;if(a&&r){this._resetLanguage()}if(t.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}},onSaveSuccess:function(t,r,a){var n={refresh:true};t.resetChangedProperty("dateFormat");t.resetChangedProperty("timeFormat");t.resetChangedProperty("numberFormat");t.resetChangedProperty("timeZone");t.resetChangedProperty("calendarWeekNumbering");if(r){e.debug("[000] onSaveSuccess: oUser.resetChangedPropertyLanguage:","LanguageRegionSelector.controller");t.resetChangedProperty("language");n.obsoleteUrlParams=["sap-language"]}return n},onSave:function(r){var a=this.oUser,n=this.getView().getModel().getData(),i=n.selectedLanguage,s=a.getLanguage(),g=i&&i!==(n.isLanguagePersonalized?s:"default"),o=n.isEnableUserProfileSetting,l=n.isEnableSetLanguage&&n.languageList&&g,u=false,m=["DATE_FORMAT","TIME_FORMAT","NUMBER_FORMAT","TIME_ZONE","LANGUAGE","CALENDAR_WEEK_NUMBERING"];e.debug("[000] LanguageRegionSelector:onSave:bUpdateLanguage, bIsEnableSetUserProfileSetting:",l,"LanguageRegionSelector.controller");if(l){e.debug("[000] LanguageRegionSelector:onSave:UserInfo: oUser.setLanguage:",i,"LanguageRegionSelector.controller");a.setLanguage(i)}else{this._resetLanguage()}if(o){var c=t.getFormatSettings();if(c.getLegacyDateFormat()!==n.selectedDatePattern){u=true;a.setChangedProperties({propertyName:"dateFormat",name:"DATE_FORMAT"},c.getLegacyDateFormat(),n.selectedDatePattern)}if(c.getLegacyTimeFormat()!==n.selectedTimeFormat){u=true;a.setChangedProperties({propertyName:"timeFormat",name:"TIME_FORMAT"},c.getLegacyTimeFormat(),n.selectedTimeFormat)}if(this._getLegacyNumberFormat(c)!==n.selectedNumberFormat){u=true;a.setChangedProperties({propertyName:"numberFormat",name:"NUMBER_FORMAT"},this._getLegacyNumberFormat(c),n.selectedNumberFormat)}if(!n.selectedTimeZone){this.getView().getModel().setProperty("/selectedTimeZone",this.oUser.getTimeZone())}else if(this.oUser.getTimeZone()!==n.selectedTimeZone){u=true;a.setChangedProperties({propertyName:"timeZone",name:"TIME_ZONE"},this.oUser.getTimeZone(),n.selectedTimeZone)}if(t.getCalendarWeekNumbering()!==n.selectedCalendarWeekNumbering){u=true;a.setChangedProperties({propertyName:"calendarWeekNumbering",name:"CALENDAR_WEEK_NUMBERING"},t.getCalendarWeekNumbering(),n.selectedCalendarWeekNumbering.trim());t.setCalendarWeekNumbering(n.selectedCalendarWeekNumbering)}}if(l||u){return r().then(function(){e.debug("[000] onSave:fnUpdateUserPreferences","LanguageRegionSelector.controller");return this.onSaveSuccess(a,l,i)}.bind(this)).catch(function(t){e.debug("[000] onSave:catch:errorMessage",t,"LanguageRegionSelector.controller");var r=m.some(function(e){return t.includes(e)});if(!r){return this.onSaveSuccess(a,l,i)}if(l){a.setLanguage(s);a.resetChangedProperty("language");this._updateTextFields(s)}a.resetChangedProperty("dateFormat");a.resetChangedProperty("timeFormat");a.resetChangedProperty("numberFormat");a.resetChangedProperty("timeZone");a.resetChangedProperty("calendarWeekNumbering");if(n.isEnableUserProfileSetting){this._restoreUserSettingPreferenceValues()}e.error("Failed to save Language and Region Settings",t,"sap.ushell.components.ushell.settings.userLanguageRegion.LanguageRegionSelector.controller");throw t}.bind(this))}return Promise.resolve()},_restoreUserSettingPreferenceValues:function(){var e=this.getView().getModel();var r=t.getFormatSettings();e.setProperty("/selectedDatePattern",r.getLegacyDateFormat());e.setProperty("/selectedTimeFormat",r.getLegacyTimeFormat());e.setProperty("/selectedNumberFormat",this._getLegacyNumberFormat(r));e.setProperty("/selectedTimeZone",this.oUser.getTimeZone());e.setProperty("/selectedCalendarWeekNumbering",t.getCalendarWeekNumbering());var a=e.getProperty("/CalendarWeekNumberingList").map(e=>{e.selected=e.value===t.getCalendarWeekNumbering();return e});e.setProperty("/CalendarWeekNumberingList",a)},_handleLanguageSelectChange:function(e){var t=e.getSource().getSelectedKey();if(t){this._updateTextFields(t)}},_updateTextFields:function(e){var n;if(e===this.oUser.getLanguage()){n=t.getFormatSettings().getFormatLocale()}else{n=new r(e)}var i=this.getView().getModel(),s=a.getInstance(n),g=s.getDatePattern("medium"),o=s.getTimePattern("medium"),l=o.indexOf("H")===-1?"12h":"24h";if(!i.getData().isEnableUserProfileSetting){i.setProperty("/selectedDatePattern",g);i.setProperty("/selectedTimeFormat",l)}},_getLegacyNumberFormat:function(e){var t=e.getLegacyNumberFormat();if(t){return t.trim()}},_handleCalendarWeekNumberingChange:function(e){var t=e.getSource().getSelectedItem().getCustomData()[0].getValue();this.getView().getModel().setProperty("/selectedCalendarWeekNumbering",t)}})});
},
	"sap/ushell/components/shell/Settings/userLanguageRegion/LanguageRegionSelector.view.xml":'<mvc:View controllerName="sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns:core="sap.ui.core"><VBox class="sapUiSmallMargin" visible="{= !!${/isSettingsLoaded}}"><form:SimpleForm id="languageForm" editable="true" layout="ResponsiveGridLayout" labelSpanS="5" columnsM="7"><Label text="{i18n>languageAndRegionTit}" visible="{= !${/languageList}}" labelFor="languageSelectionInput"/><Text id="languageSelectionInput" text="{/selectedLanguageText}" visible="{= !${/languageList} }"/><Label text="{i18n>languageAndRegionTit}" visible="{= !!${/languageList}}" labelFor="languageSelectionSelect"/><ComboBox id="languageSelectionSelect"\n                    visible="{= !!${/languageList} }"\n                    items="{/languageList}"\n                    selectedKey="{/selectedLanguage}"\n                    valueState="{= ${/selectedLanguage} ? \'None\' : \'Error\'}"\n                    width="100%"\n                    change="._handleLanguageSelectChange"><core:Item key="{key}" text="{text}" /></ComboBox><Label text="{i18n>dateFormatFld}" visible="{= !${/DateFormatList}}" labelFor="dateFormatCombo"/><Text id="dateFormatCombo" visible="{= !${/DateFormatList}}" text="{/selectedDatePattern}" /><Label text="{i18n>dateFormatFld}" visible="{= !!${/DateFormatList}}" labelFor="DateFormatSelectionSelect"/><Select id="DateFormatSelectionSelect" visible="{= !!${/DateFormatList}}" items="{/DateFormatList}" width="100%" selectedKey="{/selectedDatePattern}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>timeFormatFld}" visible="{= !${/TimeFormatList}}" labelFor="hoursSegmentedButton"/><SegmentedButton id="hoursSegmentedButton" visible="{= !${/TimeFormatList}}" enabled="false" selectedKey="{/selectedTimeFormat}"><items><SegmentedButtonItem key="12h" text="{i18n>btn12h}" /><SegmentedButtonItem key="24h" text="{i18n>btn24h}" /></items></SegmentedButton><Label text="{i18n>timeFormatFld}" visible="{= !!${/TimeFormatList}}" labelFor="TimeFormatSelectionSelect"/><Select id="TimeFormatSelectionSelect" visible="{= !!${/TimeFormatList}}" items="{/TimeFormatList}" width="100%" selectedKey="{/selectedTimeFormat}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>timeZoneFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="TimeZoneSelectionSelect" /><ComboBox\n                    id="TimeZoneSelectionSelect"\n                    visible="{= !!${/TimeZoneList}}"\n                    items="{\n                        path: \'/TimeZoneList\',\n                        sorter: { path: \'description\' }\n                    }"\n                    width="100%"\n                    selectedKey="{/selectedTimeZone}"\n                    valueState="{= ${/selectedTimeZone} ? \'None\' : \'Error\'}"\n                ><core:Item key="{value}" text="{description}" /></ComboBox><Label visible="{= !${/isTimeZoneFromServerInUI5}}"/><Text text="{i18n>TimeZoneHelpingText}" class="sapUshellFlpSettingsHint" visible="{= !${/isTimeZoneFromServerInUI5}}" width="100%"/><Label text="{i18n>numberFormatFld}" visible="{= ${/isEnableUserProfileSetting}}" labelFor="NumberFormatSelectionSelect" /><Select id="NumberFormatSelectionSelect" visible="{= !!${/NumberFormatList}}" items="{/NumberFormatList}" width="100%" selectedKey="{/selectedNumberFormat}"><core:Item key="{value}" text="{description}" /></Select><Label text="{i18n>weekNumberingFld}" visible="{= !!${/CalendarWeekNumberingList}}" labelFor="WeekNumberingRadioButtonList" /><List\n                    id="WeekNumberingRadioButtonList"\n                    visible="{= !!${/CalendarWeekNumberingList}}"\n                    mode="SingleSelectLeft"\n                    items="{/CalendarWeekNumberingList}"\n                    showSeparators="None"\n                    selectionChange="._handleCalendarWeekNumberingChange"\n                    includeItemInSelection="true"\n                ><StandardListItem class="sapUshellCalendarWeek" title="{title}" description="{description}" selected="{selected}" wrapping="true"><customData><core:CustomData value="{value}"/></customData></StandardListItem></List></form:SimpleForm><Text text="{i18n>LanguageAndRegionHelpingText}" class="sapUshellFlpSettingsWideDescription" visible="{= !!${/languageList}}" width="100%"/></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userLanguageRegion/UserLanguageRegionEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(e,n,t){"use strict";function a(){var a;var o={id:"language",entryHelpID:"language",title:t.i18n.getText("languageAndRegionTit"),valueResult:null,contentResult:null,icon:"sap-icon://globe",valueArgument:function(){var e=sap.ushell.Container.getUser().getLanguageText();if(e.indexOf("-")>-1){e=e.replace("-"," (").concat(")")}return Promise.resolve(e)},contentFunc:function(){return n.create({id:"languageRegionSelector",viewName:"sap.ushell.components.shell.Settings.userLanguageRegion.LanguageRegionSelector"}).then(function(e){var n=e.getController();a=e;return n.oUserInfoServicePromise.then(function(){return a})})},onSave:function(n){if(a){return a.getController().onSave(n)}e.warning("Save operation for language settings was not executed, because the languageRegionSelector view was not initialized");return Promise.resolve()},onCancel:function(){if(a){a.getController().onCancel();return}e.warning("Cancel operation for language settings was not executed, because the languageRegionSelector view was not initialized")}};return o}return{getEntry:a}});
},
	"sap/ushell/components/shell/Settings/userProfiling/UsageAnalyticsProfiling.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/resources"],function(e,n,i){"use strict";return{getProfiling:function(){var t;return{id:"usageAnalytics",entryHelpID:"usageAnalytics",title:i.i18n.getText("usageAnalytics"),contentFunc:function(){return n.create({id:"userPrefUsageAnalyticsSelector",viewName:"sap.ushell.components.shell.Settings.userProfiling.UsageAnalyticsSelector"}).then(function(e){t=e;return e})},onSave:function(){if(t){return t.getController().onSave()}e.warning("Save operation for user profiling was not executed, because the userProfiling view was not initialized");return Promise.resolve()},onCancel:function(){if(t){t.getController().onCancel();return}e.warning("Cancel operation for user profiling was not executed, because the userProfiling view was not initialized")}}}}});
},
	"sap/ushell/components/shell/Settings/userProfiling/UsageAnalyticsSelector.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ushell/resources"],function(e,s,t){"use strict";return e.extend("sap.ushell.components.shell.Settings.userProfiling.UsageAnalyticsSelector",{onInit:function(){this.oUser=sap.ushell.Container.getUser();this.getView().setModel(t.getTranslationModel(),"i18n");sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(e){this.oUsageAnalyticsService=e;this.getView().setModel(new s({isTrackingUsageAnalytics:this.oUser.getTrackUsageAnalytics(),legalText:this.oUsageAnalyticsService.getLegalText()}))}.bind(this))},onSave:function(){var e=this.getView().getModel().getProperty("/isTrackingUsageAnalytics");return this.oUsageAnalyticsService.setTrackUsageAnalytics(e)},onCancel:function(){this.getView().getModel().setProperty("/isTrackingUsageAnalytics",this.oUser.getTrackUsageAnalytics())}})});
},
	"sap/ushell/components/shell/Settings/userProfiling/UsageAnalyticsSelector.view.xml":'<mvc:View\n      width="100%"\n      controllerName="sap.ushell.components.shell.Settings.userProfiling.UsageAnalyticsSelector"\n      xmlns="sap.m"\n      xmlns:mvc="sap.ui.core.mvc"><VBox class="sapUiSmallMarginTop"><CheckBox text="{i18n>allowTracking}" selected="{/isTrackingUsageAnalytics}"/><VBox class="sapUshellFlpSettingsDescriptionBorder"><Text class="sapUshellFlpSettingsDescription" text="{/legalText}"/></VBox></VBox></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userProfiling/UserProfiling.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/base/Log","sap/m/Title","sap/ushell/Config"],function(e,n,r,t){"use strict";return e.extend("sap.ushell.components.shell.Settings.userProfiling.UserProfiling",{onInit:function(){this._loadContent()},_loadContent:function(){var e=this.getView().byId("profilingContent"),o=t.last("/core/userPreferences/profiling");o.forEach(function(t){var o=t.contentFunc();o.then(function(n){var o=new r({text:t.title||""}).addStyleClass("sapUiSmallMarginTop");e.addItem(o);e.addItem(n)},function(e){n.warning("Failed to load "+t.title+" profiling",e,"sap.ushell.components.shell.Settings.userProfiling.UserProfiling")})})},onCancel:function(){var e=t.last("/core/userPreferences/profiling");e.forEach(function(e){if(e.onCancel){e.onCancel()}})},onSave:function(){var e=t.last("/core/userPreferences/profiling")||[],n=e.map(this._saveProfileEntry);return Promise.all(n).then(function(e){var n=e.some(function(e){return e&&e.error});return n?Promise.reject("Can not save user profiling settings"):Promise.resolve()})},_saveProfileEntry:function(e){return new Promise(function(r){e.onSave().then(r,function(t){n.error("Failed to save "+e.title+" profiling",t,"sap.ushell.components.shell.Settings.userProfiling.UserProfiling");r({error:true})})})}})});
},
	"sap/ushell/components/shell/Settings/userProfiling/UserProfiling.view.xml":'<mvc:View\n      width="100%"\n      controllerName="sap.ushell.components.shell.Settings.userProfiling.UserProfiling"\n      xmlns="sap.m"\n      xmlns:mvc="sap.ui.core.mvc"><VBox id="profilingContent" class="sapUshellUserSettingDetailContent" /></mvc:View>\n',
	"sap/ushell/components/shell/Settings/userProfiling/UserProfilingEntry.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ushell/Config","sap/ushell/resources"],function(e,n,r,i){"use strict";return{getEntry:function(){var t;return{id:"userProfiling",entryHelpID:"userProfiling",title:i.i18n.getText("userProfiling"),valueResult:null,contentResult:null,icon:"sap-icon://user-settings",valueArgument:function(){var e=r.last("/core/userPreferences/profiling"),n={value:e&&e.length>0?1:0,displayText:""};return Promise.resolve(n)},contentFunc:function(){return n.create({id:"userProfilingView",viewName:"sap.ushell.components.shell.Settings.userProfiling.UserProfiling"}).then(function(e){t=e;return e})},onSave:function(){if(t){return t.getController().onSave()}e.warning("Save operation for user profiling was not executed, because the userProfiling view was not initialized");return Promise.resolve()},onCancel:function(){if(t){t.getController().onCancel();return}e.warning("Cancel operation for user profiling was not executed, because the userProfiling view was not initialized")},provideEmptyWrapper:false,visible:false}}}});
}
});
//# sourceMappingURL=Component-preload.js.map
