// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/core/mvc/XMLView","sap/ui/model/json/JSONModel","sap/ushell/components/SharedComponentUtils","sap/ushell/Config","sap/ushell/resources"],function(e,t,n,o,a,r){"use strict";var s={scroll:0,tabs:1,getName:function(e){return Object.keys(this)[e]}};return{getEntry:function(){var i;return{id:"homepageEntry",entryHelpID:"homepageEntry",title:r.i18n.getText("FlpSettings_entry_title"),valueResult:null,contentResult:null,icon:"sap-icon://home",valueArgument:null,contentFunc:function(){var l;return o.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(function(e){l=e;return t.create({id:"UserSettingsHomepageSettingsView",viewName:"sap.ushell.components.shell.Settings.homepage.HomepageSetting"})}).then(function(e){i=e;i.setModel(new n({displayMode:s[l]||s.scroll,personalisationEnabled:a.last("/core/shell/enablePersonalization")}));i.setModel(r.getTranslationModel(),"i18n");return i}).catch(function(t){e.error("Failed to get effective hompage setting.",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject()})},onSave:function(){if(i){var t=i.getModel().getProperty("/displayMode"),n=s.getName(t),r=sap.ushell.Container.getRenderer("fiori2");return o.getPersonalizer("homePageGroupDisplay",r).then(function(e){return e.setPersData(n)}).then(function(){a.emit("/core/home/homePageGroupDisplay",n)}).catch(function(t){e.error("Failed to save the anchor bar mode in personalization",t,"sap.ushell.components.ushell.settings.homepage.HomepageEntry");return Promise.reject(t)})}e.warning("Save operation for user account settings was not executed, because the homepage view was not initialized");return Promise.resolve()},onCancel:function(){if(i){return}e.warning("Cancel operation for user account settings was not executed, because the homepage view was not initialized")},provideEmptyWrapper:false}}}});
//# sourceMappingURL=HomepageEntry.js.map