//@ui5-bundle sap/ushell/components/shell/UserActionsMenu/Component-preload.js
sap.ui.require.preload({
	"sap/ushell/components/shell/UserActionsMenu/Component.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/Core","sap/ui/core/UIComponent","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/Config","sap/ushell/components/shell/UserActionsMenu/UserActionsMenu.controller"],function(e,n,o,t,s){"use strict";var i;function r(){if(!i){i=sap.ushell.Container.getRenderer("fiori2")}return i}return n.extend("sap.ushell.components.shell.UserActionsMenu.Component",{metadata:{version:"1.120.20",library:"sap.ushell",dependencies:{libs:["sap.m"]}},createContent:function(){this._bIsUserActionsMenuCreated=false;this.oUserActionsMenuController=new s;this.oUserActionsMenuController.onInit();var n=this;o.getElementsModel().createTriggers([{fnRegister:function(){if(!n.oActionsDoable){n.oActionsDoable=t.on("/core/shell/model/currentState/actions").do(function(e){if(e&&e.length>0){r().showHeaderEndItem(["userActionsMenuHeaderButton"],true)}else{r().hideHeaderEndItem(["userActionsMenuHeaderButton"],true)}})}},fnUnRegister:function(){if(!n.oActionsDoable){n.oActionsDoable.off();n.oActionsDoable=null}}}],false,["blank-home","blank"]);e.getEventBus().publish("shell","userActionsMenuCompLoaded",{delay:0})},exit:function(){if(this.oActionsDoable){this.oActionsDoable.off()}this.oEventListener.off();this.oUserActionsMenuController.onExit()}})});
},
	"sap/ushell/components/shell/UserActionsMenu/UserActionsMenu.controller.js":function(){
// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/m/library","sap/m/StandardListItem","sap/ui/core/Core","sap/ui/core/ElementMetadata","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/performance/Measurement","sap/ushell/Config","sap/ushell/EventHub","sap/ushell/resources","sap/ushell/ui/footerbar/AboutButton","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/ui/launchpad/ActionItem","sap/ushell/ui/QuickAccess"],function(e,t,n,o,i,s,r,a,l,c,u,d,g,p,h,f){"use strict";var v=t.ListType;var A=t.ButtonType;function _(t){if(!o.byId(t)){e.debug("Could not render ActionItem because it was not created: "+t);return false}return true}return r.extend("sap.ushell.components.shell.UserActionsMenu.UserActionsMenu",{_aDanglingControl:[],_aDoables:[],onInit:function(){var e=this.getShellConfig();this._createActionButtons(e);var t=sap.ushell.Container.getUser();var n=c.last("/core/shell/model/currentState/actions").filter(_);this.oModel=new a({actions:n,userName:t.getFullName()||t.getId()});this._aDoables.push(c.on("/core/shell/model/currentState/actions").do(function(e){var t=e.filter(_);this.getModel().setProperty("/actions",t)}.bind(this)));this._aDoables.push(u.on("showUserActionsMenu").do(function(e){var t=o.byId("sapUshellUserActionsMenuPopover");if(t&&t.isOpen()||!e){this._toggleUserActionsMenuPopover(false)}else{this._toggleUserActionsMenuPopover(true)}}.bind(this)))},onExit:function(){this._destroyDanglingControls();this._aDoables.forEach(function(e){e.off()});this._aDanglingControl=[];this._aDoables=[];var e=o.byId("sapUshellUserActionsMenuPopover");if(e){e.destroy()}},getModel:function(){return this.oModel},_createActionButtons:function(e){var t=c.last("/core/extension/enableHelp");var n=c.last("/core/shell/enableAbout");if(n){this._createAboutButton(t)}if(!e.moveAppFinderActionToShellHeader&&c.last("/core/catalog/enabled")){this._createAppFinderButton(e,t)}if(!e.moveUserSettingsActionToShellHeader){this._createSettingsButton(t)}if(!e.moveContactSupportActionToShellHeader){this._createSupportTicketButton(t)}if(e.enableRecentActivity&&c.last("/core/shell/model/currentState/showRecentActivity")){this._createRecentActivitiesButton();this._createFrequentActivitiesButton()}if(!e.disableSignOut){this._createLogoutButton()}},_createAppFinderButton:function(e,t){if(o.byId("openCatalogBtn")){return}var n=new h("openCatalogBtn",{text:d.i18n.getText("open_appFinderBtn"),icon:"sap-icon://sys-find",visible:!e.disableAppFinder,actionType:"action",press:function(){l.start("FLP:AppFinderLoadingStartToEnd","AppFinderLoadingStartToEnd","FLP");sap.ushell.Container.getServiceAsync("Navigation").then(function(e){e.navigate({target:{semanticObject:"Shell",action:"appfinder"}})})}});if(t){n.addStyleClass("help-id-openCatalogActionItem")}this._addDanglingControl(n)},_createAboutButton:function(e){var t="aboutBtn";if(!o.byId(t)){var n=new g(t);if(e){n.addStyleClass("help-id-"+t)}this._addDanglingControl(n);this.getRenderer().showActionButton(t,false)}},_createSettingsButton:function(e){var t="userSettingsBtn";if(!o.byId(t)){var n=new h(t,{tooltip:d.i18n.getText("ControlKey")+" + "+d.i18n.getText("CommaKey"),text:d.i18n.getText("userSettings"),icon:"sap-icon://action-settings",press:function(){u.emit("openUserSettings",Date.now())}});if(e){n.addStyleClass("help-id-loginDetails")}this._addDanglingControl(n)}},_createSupportTicketButton:function(e){c.on("/core/extension/SupportTicket").do(function(t){var n="ContactSupportBtn";var i=o.byId(n);if(t&&!i){i=new p(n);this._addDanglingControl(i);if(e){i.addStyleClass("help-id-contactSupportBtn")}}if(t){this.getRenderer().showActionButton(n)}else{this.getRenderer().hideActionButton(n)}}.bind(this))},_createRecentActivitiesButton:function(){var e="recentActivitiesBtn";c.on("/core/shell/model/enableTrackingActivity").do(function(t){if(t){var n=o.byId(e);if(!n){n=new h(e,{text:d.i18n.getText("recentActivities"),icon:"sap-icon://customer-history",press:function(){f.openQuickAccessDialog("recentActivityFilter","userActionsMenuHeaderButton")}});this._addDanglingControl(n)}this.getRenderer().showActionButton(e,false)}else{this.getRenderer().hideActionButton(e,false)}}.bind(this))},_createFrequentActivitiesButton:function(){var e="frequentActivitiesBtn";c.on("/core/shell/model/enableTrackingActivity").do(function(t){if(t){var n=o.byId(e);if(!n){n=new h(e,{text:d.i18n.getText("frequentActivities"),icon:"sap-icon://activity-individual",tooltip:d.i18n.getText("frequentActivitiesTooltip"),press:function(){f.openQuickAccessDialog("frequentlyUsedFilter","userActionsMenuHeaderButton")}});this._addDanglingControl(n)}this.getRenderer().showActionButton(e,false)}else{this.getRenderer().hideActionButton(e,false)}}.bind(this))},_createLogoutButton:function(){var e="logoutBtn";if(o.byId(e)){return}var t=new h(e,{visible:true,type:A.Transparent,icon:"sap-icon://log",text:d.i18n.getText("signoutBtn_title"),press:this.logout});this._addDanglingControl(t);this.getRenderer().showActionButton(e,false)},logout:function(){sap.ui.require(["sap/m/MessageBox","sap/ushell/ui/launchpad/LoadingDialog"],function(e,t){var n=new t({text:""});var o=true;var s=false;var r={};sap.ushell.Container.getGlobalDirty().done(function(a){o=false;if(s===true){n.exit();n=new t({text:""})}var l=function(){var t=d.i18n;if(a===sap.ushell.Container.DirtyState.DIRTY){r.message=t.getText("unsaved_data_warning_popup_message");r.icon=e.Icon.WARNING;r.messageTitle=t.getText("unsaved_data_warning_popup_title")}else{r.message=t.getText("signoutConfirmationMsg");r.icon=e.Icon.QUESTION;r.messageTitle=t.getText("signoutMsgTitle")}return r};r=l(a);e.show(r.message,r.icon,r.messageTitle,[e.Action.OK,e.Action.CANCEL],function(t){if(t===e.Action.OK){n.openLoadingScreen();n.showAppInfo(d.i18n.getText("beforeLogoutMsg"),null);sap.ushell.Container.logout()}},i.uid("confirm"))});if(o===true){n.openLoadingScreen();s=true}})},_addDanglingControl:function(e){this._aDanglingControl.push(e)},_destroyDanglingControls:function(){if(this._aDanglingControl){this._aDanglingControl.forEach(function(e){if(e.destroyContent){e.destroyContent()}e.destroy()})}},_toggleUserActionsMenuPopover:function(e){if(!this.oPopover){s.load({name:"sap.ushell.components.shell.UserActionsMenu.UserActionsMenuPopover",type:"XML",controller:this}).then(function(t){this.oPopover=t;this.oPopover.setModel(this.getModel());this._toggleUserActionsMenuPopover(e)}.bind(this))}else if(e){this.oPopover.getModel().refresh(true);this.oPopover.openBy(o.byId("userActionsMenuHeaderButton"))}else{this.oPopover.close();if(window.document.activeElement&&window.document.activeElement.id!=="userActionsMenuHeaderButton"){window.document.getElementById("userActionsMenuHeaderButton").focus()}}},userActionsMenuPopoverItemFactory:function(e,t){var i=o.byId(t.getObject());return new n({id:e+"-"+i.getId(),icon:i.getIcon(),tooltip:i.getTooltip(),iconInset:true,title:i.getText(),visible:i.getVisible(),type:v.Active,customData:[{key:"actionItemId",value:i.getId()}],press:function(){if(i){i.firePress();u.emit("showUserActionsMenu",false)}}}).addStyleClass("sapUshellUserActionsMenuActionItem")},getRenderer:function(){if(!this._oRenderer){this._oRenderer=sap.ushell.Container.getRenderer("fiori2")}return this._oRenderer},getShellConfig:function(){return this.getRenderer().getShellConfig()}})});
},
	"sap/ushell/components/shell/UserActionsMenu/UserActionsMenuPopover.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Popover\n        id="sapUshellUserActionsMenuPopover"\n        placement="Bottom"\n        showArrow="true"\n        showHeader="false"\n        class="sapUshellPopupContainer sapContrastPlus"><content><List\n                class="sapUshellPopoverList"\n                showSeparators="None"\n                includeItemInSelection="true"\n                items="{\n                    path: \'/actions\',\n                    factory: \'.userActionsMenuPopoverItemFactory\'\n                }"><headerToolbar><Toolbar style="Clear"><Title level="H1" text="{/userName}" /></Toolbar></headerToolbar></List></content></Popover></core:FragmentDefinition>\n'
});
//# sourceMappingURL=Component-preload.js.map
