// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils","sap/base/util/ObjectPath","sap/ushell/services/_UserRecents/RecentsList","sap/ushell/services/_UserRecents/RecentActivity","sap/ushell/services/_UserRecents/RecentAppsUsage"],function(e,t,c,n,o){"use strict";function a(){this.oRecentSearches=new c("RecentSearches",10,a._compareSearchItems);this.oRecentDataSources=new c("RecentDataSources",6,a._compareDataSources);this.oRecentApps=new c("RecentApps",6,a._compareApps);this.oRecentActivity=new n(500);this.oAppsUsage=new o}a._compareSearchItems=function(e,t){var c=false;if(e.oDataSource&&t.oDataSource){if(e.oDataSource.objectName&&t.oDataSource.objectName){c=e.sTerm===t.sTerm&&e.oDataSource.objectName.value===t.oDataSource.objectName.value}if(!e.oDataSource.objectName&&!t.oDataSource.objectName){c=e.sTerm===t.sTerm}}if(!e.oDataSource&&!t.oDataSource){c=e.sTerm===t.sTerm}return c};a._compareDataSources=function(e,t){if(e.objectName&&t.objectName){return e.objectName.value===t.objectName.value}return false};a._compareApps=function(e,t){return e.semanticObject===t.semanticObject&&e.action===t.action};a.prototype.addActivity=function(e){return new Promise((t,c)=>{this.oRecentActivity.newItem(e).then(()=>{this.oRecentActivity.getRecentItems().then(t).catch(c)}).catch(c)})};a.prototype.clearRecentActivities=function(){return this.oRecentActivity.clearAllActivities()};a.prototype.getRecentActivity=function(){return this.oRecentActivity.getRecentItems()};a.prototype.getFrequentActivity=function(){return this.oRecentActivity.getFrequentItems()};a.prototype.noticeDataSource=function(e){var c=t.get("objectName.value",e)||"";var n=t.get("objectName",e)||"";var o=c.toLowerCase()==="$$all$$";var a=n.toLowerCase()==="$$all$$";if(!o&&!a){this.oRecentDataSources.newItem(e).then(()=>new Promise((e,t)=>{this.oRecentDataSources.getRecentItems().then(e).catch(t)}))}return this.oRecentDataSources.getRecentItems()};a.prototype.addDataSourceActivity=function(e){const c=t.get("objectName.value",e)||"";const n=t.get("objectName",e)||"";const o=c.toLowerCase()==="$$all$$";const a=n.toLowerCase()==="$$all$$";if(!o&&!a){return new Promise((t,c)=>{this.oRecentDataSources.newItem(e).then(()=>{this.oRecentDataSources.getRecentItems().then(t).catch(c)}).catch(c)})}return this.oRecentDataSources.getRecentItems()};a.prototype.getRecentDataSources=function(){return this.oRecentDataSources.getRecentItems()};a.prototype.noticeSearch=function(e){return new Promise((t,c)=>{this.oRecentSearches.newItem(e).then(()=>{this.oRecentSearches.getRecentItems().then(t).catch(c)}).catch(c)})};a.prototype.addSearchActivity=function(e){return new Promise((t,c)=>{this.oRecentSearches.newItem(e).then(()=>{this.oRecentSearches.getRecentItems().then(t).catch(c)}).catch(c)})};a.prototype.getRecentSearches=function(){return this.oRecentSearches.getRecentItems()};a.prototype.noticeApp=function(e){return new Promise((t,c)=>{this.oRecentApps.newItem(e).then(()=>{this.oRecentApps.getRecentItems().then(t).catch(c)}).catch(c)})};a.prototype.addAppActivity=function(e){return new Promise((t,c)=>{this.oRecentApps.newItem(e).then(()=>{this.oRecentApps.getRecentItems().then(t).catch(c)}).catch(c)})};a.prototype.getRecentApps=function(){return this.oRecentApps.getRecentItems()};a.prototype.addAppUsage=function(t){var c=e.getBasicHash(t);return this.oAppsUsage.addAppUsage(c)};a.prototype.getAppsUsage=function(){return this.oAppsUsage.getAppsUsage()};a.hasNoAdapter=true;return a});
//# sourceMappingURL=UserRecents.js.map