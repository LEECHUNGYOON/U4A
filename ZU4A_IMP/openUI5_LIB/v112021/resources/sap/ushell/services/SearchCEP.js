// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ushell/utils/WindowUtils","sap/ushell/EventHub","sap/base/util/deepExtend","sap/ushell/utils/UrlParsing"],function(r,e,t,i,o){"use strict";var a={count:0,data:[]};function s(r,e,t,i){this.oAdapter=r;this._mSearchProviders={default:{},external:{}}}s.prototype.suggest=function(r){return this.search(r)};s.prototype.search=function(r){if(typeof this.oAdapter.search==="function"){return this.oAdapter.search(r)}return Promise.resolve(a)};s.prototype.navigate=function(r,i){var a=r.url;var s;if(!a){return Promise.resolve()}t.emit("UITracer.trace",{reason:"LaunchApp",source:"Search",data:{targetUrl:a}});if(a.startsWith("#")){if(i){s=o.parseShellHash(a);if(s){s.params.searchTerm=i;a=o.constructShellHash(s)}}return sap.ushell.Container.getServiceAsync("Navigation").then(function(r){return r.navigate({target:{shellHash:a}})})}e.openURL(a);return Promise.resolve()};s.prototype._registerDefaultSearchProvider=function(r){var e=i(r);e.name=e.id.replace(/\./g,"_");this._mSearchProviders.default[e.id]=e;return Promise.resolve()};s.prototype.registerExternalSearchProvider=function(e){var o=i(e);var a=Function.prototype;var s={id:"SearchProvider needs an id",title:"SearchProvider needs a title",execSearch:"SearchProvider needs an execSearch callback"};var n={minQueryLength:1,maxQueryLength:100,defaultItemCount:3,maxItemCount:10,priority:10,closePopover:true,itemPress:a,popoverClosed:a};for(var u in s){if(!o[u]){r.error(s[u]);return Promise.reject()}}for(var c in n){if(!o.hasOwnProperty(c)){o[c]=n[c]}}o.name=o.id.replace(/\./g,"_");this._mSearchProviders.external[o.id]=o;t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};s.prototype.unregisterExternalSearchProvider=function(r){if(this._mSearchProviders.external[r]){delete this._mSearchProviders.external[r]}t.emit("updateExtProviderLists",Date.now());return Promise.resolve()};s.prototype.getSearchProviders=function(){return Promise.resolve(i(this._mSearchProviders))};s.prototype.getSearchProvidersPriorityArray=function(){var r=[];for(var e in this._mSearchProviders){r.push.apply(r,Object.values(this._mSearchProviders[e]))}r.sort(function(r,e){return r.priority-e.priority});return Promise.resolve(r)};s.prototype.getExternalSearchProvidersPriorityArray=function(){var r=[];for(var e in this._mSearchProviders.external){r.push(this._mSearchProviders.external[e])}r.sort(function(r,e){return r.priority-e.priority});return Promise.resolve(r)};s.prototype.getDefaultSearchProviders=function(){var r=Object.values(this._mSearchProviders.default);return Promise.resolve(r)};s.prototype.getExternalSearchProviders=function(){var r=Object.values(this._mSearchProviders.external);return Promise.resolve(r)};s.hasNoAdapter=false;return s},true);
//# sourceMappingURL=SearchCEP.js.map