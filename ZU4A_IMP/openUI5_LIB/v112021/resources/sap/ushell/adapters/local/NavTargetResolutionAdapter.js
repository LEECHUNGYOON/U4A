// Copyright (c) 2009-2023 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery","sap/base/Log","sap/ushell/utils"],function(e,n,jQuery,i,t){"use strict";var r=function(r,a,s){var o=n.create("config.applications",s);var l=e.getInbounds();f(l,o);function f(e,n){e.forEach(function(e){var i=e.semanticObject+"-"+e.action;n[i]=e.resolutionResult})}this.resolveHashFragment=function(e){var n=new jQuery.Deferred;var r;if(e&&e.charAt(0)!=="#"){throw new t.Error("Hash fragment expected","sap.ushell.renderers.minimal.Shell")}e=e.substring(1);if(!e&&!o[e]){n.resolve(undefined)}else{i.info("Hash Fragment: "+e);var a=e.indexOf("&/");if(a>=0){e=e.slice(0,a)}a=e.indexOf("?");if(a>=0){r=e.slice(a+1);e=e.slice(0,a)}var s=o[e];if(s){var l={additionalInformation:s.additionalInformation,applicationType:s.applicationType,url:s.url,text:s.text,fullWidth:s.fullWidth,navigationMode:"embedded"};if(r){l.url+=l.url.indexOf("?")<0?"?":"&";l.url+=r}if(s.navigationMode!==undefined){l.navigationMode=s.navigationMode}n.resolve(l)}else{n.reject("Could not resolve link '"+e+"'")}}return n.promise()};this.getSemanticObjectLinks=function(e,n){var t=[];var r=0;var a=new jQuery.Deferred;if(!e){setTimeout(function(){a.resolve([])},0)}else{sap.ushell.Container.getServiceAsync("URLParsing").then(function(s){var l=s.paramsToString(n);i.info("getSemanticObjectLinks: "+e);for(var f in o){if(o.hasOwnProperty(f)&&f.substring(0,f.indexOf("-"))===e){t[r]=o[f];t[r].id=f;t[r].text=t[r].text||t[r].description||"no text";t[r].intent="#"+f;if(l!==""){if(t[r].intent.indexOf("?")!==-1){t[r].intent+="&"+l}else{t[r].intent+="?"+l}}r+=1}}if(t){a.resolve(t)}else{a.reject("Could not get links for '"+e+"'")}})}return a.promise()};this.isIntentSupported=function(e){var n=new jQuery.Deferred;var i={};var t=[];var r=this;function a(e,n){i[e]={supported:n}}e.forEach(function(e,n){var i=new jQuery.Deferred;t.push(i.promise());r.resolveHashFragment(e).fail(function(n){a(e,false);i.resolve()}).done(function(n){a(e,true);i.resolve()})});if(e.length>0){jQuery.when.apply(jQuery,t).always(function(){n.resolve(i)})}else{n.resolve(i)}return n.promise()}};return r},false);
//# sourceMappingURL=NavTargetResolutionAdapter.js.map