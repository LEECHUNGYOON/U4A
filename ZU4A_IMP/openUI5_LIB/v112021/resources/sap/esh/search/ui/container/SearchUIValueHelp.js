/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function a(e,a,r){if(a)t(e.prototype,a);if(r)t(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}window.onload=function(){sap.ui.loader.config({baseUrl:"../../../../../../resources/",paths:{"sap/esh/search/ui":"/resources/sap/esh/search/ui"}});sap.ui.require(["sap/esh/search/ui/SearchCompositeControl","sap/ui/core/dnd/DragDropInfo","sap/ui/core/dnd/DropInfo","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Label","sap/m/ListMode","sap/m/Button","sap/m/OverflowToolbar","sap/m/MessageBox"],function(t,r,n,o,i,u,s,c,p,l,d){var f=[];var h=function e(t){var a=t.sinaNext;return new Promise(function(e){for(var t in a.dataSourceMap){var r=a.dataSourceMap[t];if(r.id==="$$APPS$$"){continue}f.push(a.createDataSource({id:r.id+"1",label:r.labelPlural,icon:r.icon,type:a.DataSourceType.BusinessObject,subType:a.DataSourceSubType.Filtered,dataSource:r}))}var n=a.dataSourceMap["Urban_Legends"].id+"_desc_the";var o=a.createDataSource({id:n,label:"Urban Legends -> Summary(DESC) '...the...'",icon:"sap-icon://thumb-up",type:a.DataSourceType.BusinessObject,subType:a.DataSourceSubType.Filtered,dataSource:a.dataSourceMap["Urban_Legends"],filterCondition:a.createSimpleCondition({operator:a.ComparisonOperator.Co,attribute:"DESC",value:"the"})});f.push(o);e()})};var g=function e(t){};var m=function e(t){var a=t.getParameter("draggedControl");if(a){var r=a.getBindingContext();if(!r){return}var n=r.getObject();var o=t.getParameter("droppedControl");var i;if(o instanceof u){i=o.getParent()}else{i=o}var c=[];c.push(new s({text:n.title.replace("<b>","").replace("</b>","")}));for(var p=0;p<3;p++){if(n.itemattributes[p]){c.push(new s({text:n.itemattributes[p].valueWithoutWhyfound}))}}i.addItem(new u({cells:c}))}};var v=function e(t){t.addDragDropConfig(new r({sourceAggregation:"items",dragStart:g.bind(this)}))};var w=function e(t){t.addDragDropConfig(new n({targetAggregation:"items",drop:m.bind(this)}))};var b=function(){function t(){e(this,t)}a(t,[{key:"formatAsync",value:function e(t){for(var a=0;a<t.items.length;++a){var r=t.items[a];var n=this.createTargetFunctionShowInfo(r);if(n){if(typeof r.navigationTargets==="undefined"){r.navigationTargets=[]}r.addNavigationTarget(t.sina._createNavigationTarget({text:"Info",targetFunction:n}))}var o=this.createTargetFunctionLookupAtWikipedia(r);if(o){if(typeof r.navigationTargets==="undefined"){r.navigationTargets=[]}r.addNavigationTarget(t.sina._createNavigationTarget({text:"Lookup at Wikipedia",targetFunction:o}))}}return Promise.resolve(t)}},{key:"createTargetFunctionShowInfo",value:function e(t){var a=this;var r=function e(r){if(typeof r!=="undefined"&&typeof r.getSource=="function"){a.showInfo(t)}else{a.showError("'event.getSource' n.a.")}};return r}},{key:"showInfo",value:function e(t){d.information("'Show Info' not yet implemented for item '".concat(t.titleAttributes[0].valueFormatted,"'"))}},{key:"showError",value:function e(t){d.error(t)}},{key:"lookupAtWikipedia",value:function e(t){window.open("https://wikipedia.org/wiki/".concat(t.titleAttributes[0].valueFormatted))}},{key:"createTargetFunctionLookupAtWikipedia",value:function e(t){var a=this;var r=function e(r){a.lookupAtWikipedia(t)};return r}}]);return t}();var y={optimizeForValueHelp:true,pageSize:15,updateUrl:false,sinaConfiguration:{provider:"sample",searchResultSetFormatters:[new b]},quickSelectDataSources:f,initAsync:h};var S=new t("ValueHelpEshComp",y);window.addEventListener("hashchange",function(){S.getModel().parseURL()},false);S.attachSearchFinished(function(){S.setResultViewTypes(["searchResultList"]);S.setResultViewType("searchResultList")});S.placeAt("panelLeft");var T=[];T.push(new i({header:new s({text:"Title",width:"8rem"})}));T.push(new i({header:new s({text:"Attribute 1",width:"8rem"})}));T.push(new i({header:new s({text:"Attribute 2",width:"8rem"})}));T.push(new i({header:new s({text:"Attribute 3",width:"8rem"})}));var k={headerToolbar:new l({content:[new s({text:"Drag&Drop from Result List to 'Shopping Cart' ..."}),new p({text:"Delete",press:function e(){return alert("'Delete' not implemented")}}),new p({text:"Proceed to Checkout",icon:"sap-icon://cart",press:function e(){return alert("'Proceed to Checkout' not implemented")}})]}),mode:c.MultiSelect,columns:T,delete:function e(){return alert("'Delete' not implemented")}};var D=new o("ValueHelpDropTarget",k);v(S);w(D);D.placeAt("panelRight")});document.documentElement.style.overflowY="auto";document.documentElement.style.height="100%"}})();
//# sourceMappingURL=SearchUIValueHelp.js.map