/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["./i18n","./SearchResultBaseFormatter","./SearchResultTableColumnType","./SearchResultTablePersonalizer"],function(e,t,n,i){function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function u(e,t,n){if(t)l(e.prototype,t);if(n)l(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return f(e,t)}function s(e){var t=p();return function n(){var i=h(e),r;if(t){var o=h(this).constructor;r=Reflect.construct(i,arguments,o)}else{r=i.apply(this,arguments)}return c(this,r)}}function c(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}var v=r(e);var T=r(t);var m=n["TableColumnType"];var b=i["TablePersoColumnIdPrefix"];var g=function(e){a(n,e);var t=s(n);function n(e){var i;o(this,n);i=t.call(this,e);i.model=e;i.config=i.model.config;i.columns=undefined;return i}u(n,[{key:"formatColumns",value:function e(t){var n;var i;var r=[];var o=t[0];for(var l=0;l<o.itemattributes.length;l++){r.push({attributeId:o.itemattributes[l].key,persoColumnId:b.DETAIL+l,name:o.itemattributes[l].name,type:m.DETAIL})}if(o.titleDescription!==undefined){i={attributeId:"TABLE_COLUMN_TITLE_DESCRIPTION",persoColumnId:b.TITLE_DESCRIPTION,name:o.titleDescriptionLabel+" ("+v.getText("titleDescription")+")",type:m.TITLE_DESCRIPTION};r.unshift(i)}if(o.title!==undefined){var u;if(typeof this.config.titleColumnName!=="undefined"&&((u=this.config)===null||u===void 0?void 0:u.titleColumnName)!==""){i={attributeId:"TABLE_COLUMN_TITLE",persoColumnId:b.TITLE,name:v.getText(this.config.titleColumnName),type:m.TITLE}}else{i={attributeId:"TABLE_COLUMN_TITLE",persoColumnId:b.TITLE,name:this.model.getDataSource().label,type:m.TITLE}}if(this.config.titleColumnWidth&&this.config.titleColumnWidth!==""){i.width=this.config.titleColumnWidth}r.unshift(i)}if(o.navigationObjects!==undefined&&o.navigationObjects.length>0){r.push({attributeId:"TABLE_COLUMN_RELATED_APPS",persoColumnId:b.RELATED_APPS,name:v.getText("intents"),type:m.RELATED_APPS})}var a=this.model.config;if(a!==null&&a!==void 0&&(n=a.extendTableColumn)!==null&&n!==void 0&&n.column){i={attributeId:a.extendTableColumn.column.attributeId,persoColumnId:b.EXTEND,name:a.extendTableColumn.column.name,width:a.extendTableColumn.column.width,type:m.EXTEND};r.push(i)}for(var f=0;f<r.length;f++){r[f].index=f}this.columns=r;return r}},{key:"formatRows",value:function e(t){if(this.columns===undefined){this.formatColumns(t)}var n=[];for(var i=0;i<t.length;i++){n[i]={cells:[]};var r=t[i].itemattributes;for(var o=0;o<this.columns.length;o++){if(this.columns[o].type!==m.DETAIL){continue}var l=this.getAttribute(r,this.columns[o].attributeId);if(l===undefined){n[i].cells.push({value:this.getText(undefined)})}else{if(l.iconUrl&&l.defaultNavigationTarget){n[i].cells.push({value:this.getText(l.value),icon:l.iconUrl,defaultNavigationTarget:l.defaultNavigationTarget,tooltip:l.tooltip||""})}else if(l.iconUrl){n[i].cells.push({value:this.getText(l.value),icon:l.iconUrl})}else if(l.defaultNavigationTarget){n[i].cells.push({value:this.getText(l.value),defaultNavigationTarget:l.defaultNavigationTarget,tooltip:l.tooltip||""})}else{n[i].cells.push({value:this.getText(l.value)})}}}if(t[i].titleDescription!==undefined){n[i].cells.unshift({value:this.getText(t[i].titleDescription)})}if(t[i].title!==undefined){n[i].cells.unshift({value:this.getText(t[i].title),titleNavigation:t[i].titleNavigation,isTitle:true,titleIconUrl:t[i].titleIconUrl,titleInfoIconUrl:t[i].titleInfoIconUrl})}if(t[i].navigationObjects!==undefined&&t[i].navigationObjects.length>0){n[i].cells.push({value:v.getText("intents"),tooltip:v.getText("intents"),navigationObjects:t[i].navigationObjects,isRelatedApps:true})}if(this.config.extendTableColumn&&typeof this.config.extendTableColumn["assembleCell"]==="function"){var u={id:t[i].attributesMap["id"]||t[i].attributesMap["ID"],favorites_user_id:t[i].attributesMap["favorites_user_id"]||t[i].attributesMap["FAVORITES_USER_ID"]};if(typeof u.id!=="undefined"&&typeof u.favorites_user_id!=="undefined"){n[i].cells.push(this.config.extendTableColumn["assembleCell"](u))}}}return n}},{key:"getAttribute",value:function e(t,n){for(var i=0;i<t.length;i++){if(t[i].key===n){return t[i]}}return undefined}},{key:"getText",value:function e(t){if(t===undefined||t===null){return"–"}if(typeof t!=="string"){return t+""}if(t.trim().length===0){return"–"}return t}}]);return n}(T);return g})})();
//# sourceMappingURL=SearchResultTableFormatter.js.map