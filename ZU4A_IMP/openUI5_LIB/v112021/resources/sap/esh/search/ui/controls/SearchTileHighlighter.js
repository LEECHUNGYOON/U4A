/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){sap.ui.define(["sap/esh/search/ui/SearchHelper","sap/base/security/encodeXML","sap/ui/core/hyphenation/Hyphenation"],function(e,t,i){function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function h(e,t,i){if(t)r(e.prototype,t);if(i)r(e,i);Object.defineProperty(e,"prototype",{writable:false});return e}var o=e["Tester"];var a=e;var s=function(){function e(){n(this,e);this._softHyphenRegExp=new RegExp("[Â­]","g")}h(e,[{key:"setHighlightTerms",value:function e(t){this.tester=new o(t,"sapUshellSearchHighlight",true,"or")}},{key:"highlight",value:function e(t){var n=t.getDomRef();if(!n){return}var r=i.getInstance();if(!r.isLanguageInitialized()){r.initialize().then(function(){this.doHighlight(n)}.bind(this),function(){this.doHighlight(n)}.bind(this))}else{this.doHighlight(n)}}},{key:"doHighlight",value:function e(t){if(t.nodeType===window.Node.TEXT_NODE){this.highlightTextNode(t);return}for(var i=0;i<t.childNodes.length;++i){var n=t.childNodes[i];this.doHighlight(n)}}},{key:"removeSoftHyphens",value:function e(t){return t.replace(this._softHyphenRegExp,"")}},{key:"highlightTextNode",value:function e(i){var n=this.tester.test(this.removeSoftHyphens(i.textContent));if(!n.bMatch){return}var r=document.createElement("span");r.innerHTML=t(n.sHighlightedText);a.boldTagUnescaper(r,"sapUshellSearchHighlight");i.parentNode.insertBefore(r,i);i.parentNode.removeChild(i)}}]);return e}();var l={__esModule:true};l.Highlighter=s;return l})})();
//# sourceMappingURL=SearchTileHighlighter.js.map