/*! 
 * SAPUI5

		(c) Copyright 2009-2021 SAP SE. All rights reserved
	 
 */
(function(){function e(e,t,n){if(n){return t?t(e):e}if(!e||!e.then){e=Promise.resolve(e)}return t?e.then(t):e}sap.ui.define(["sap/base/Log","./EventConsumer"],function(t,n){function r(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function u(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,n){t.__proto__=n;return t};return a(e,t)}function f(e){var t=p();return function n(){var r=b(e),o;if(t){var i=b(this).constructor;o=Reflect.construct(r,arguments,i)}else{o=r.apply(this,arguments)}return s(this,o)}}function s(e,t){if(t&&(typeof t==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function y(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var g=r(n);var d=function(n){c(i,n);var r=f(i);function i(e){var n;o(this,i);n=r.call(this);y(l(n),"label","sina");y(l(n),"isLoggingEnabled",false);y(l(n),"log",t.getLogger("sap.esh.search.ui.eventlogging.UsageAnalyticsConsumerSina"));n.sinaNext=e;return n}u(i,[{key:"initAsync",value:function t(){try{const t=this;return e(t.sinaNext.getConfigurationAsync(),function(e){if(e.personalizedSearch){t.isLoggingEnabled=true;t.log.debug("sina usage analytics consumer is enabled")}else{t.log.debug("sina usage analytics consumer is disabled")}})}catch(e){return Promise.reject(e)}}},{key:"logEvent",value:function e(t){if(this.isLoggingEnabled){this.sinaNext.logUserEvent(t);this.log.debug("[".concat(this.label,"] Logged user event ").concat(t.type))}}}]);return i}(g);return d})})();
//# sourceMappingURL=UsageAnalyticsConsumerSina.js.map