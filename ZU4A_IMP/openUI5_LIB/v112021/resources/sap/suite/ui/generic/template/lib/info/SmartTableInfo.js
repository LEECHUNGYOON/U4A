sap.ui.define(["sap/base/util/isEmptyObject","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/lib/info/CommonInfo"],function(t,e,n,a){"use strict";function r(r,i,o,s){var u;var l;var g;var c;var d;var p={staticHiddenColumns:[],columnKeyToHiddenPath:undefined};var f=new a(["smartTable","smartControl","searchField","smartTableWithColumnHide"],m);function C(){f.pushCategory("smartTable",true);f.pushCategory("smartControl",true);d=o.oCommonUtils.getControlStateWrapperById(y(),"SmartTable");d.attachStateChanged(function(){o.initialStateAppliedPromise.then(o.oComponentUtils.stateChanged)})}function m(t){l=t;var e=i.getOwnerComponent().getModel().getMetaModel();var n=e.getODataEntitySet(l.getEntitySet());var a=e.getODataEntityType(n.entityType);var r=l.getCustomData();var o=r.find(function(t){return t.getKey()==="lineItemQualifier"});var s=o?"#"+o.getValue():"";c=a["com.sap.vocabularies.UI.v1.LineItem"+s]||[];h(e,a,c);d.setControl(l)}function h(e,n,a){var r=[];var i=Object.create(null);a.forEach(v.bind(null,r,i,e,n));if(!t(i)||r.length){p.staticHiddenColumns=r;p.columnKeyToHiddenPath=i;s.pushCategory(y(),"smartTableWithColumnHide")}}function v(t,e,a,r,s){var u=/[A-Za-z].*[A-Za-z]/;var g=n.createP13NColumnKey(s);var c=n.getBindingForHiddenPath(s);if(c==="{= !${} }"){t.push(g)}if(typeof c==="string"){var d=c.match(u)&&c.match(u)[0];if(d&&d.indexOf("/")>0&&r.navigationProperty){var p=i.getOwnerComponent().getEntitySet();var f=d.split("/",1)[0];if(o.oCommonUtils.checkInverseNavigation(p,l.getTableBindingPath(),l.getEntitySet(),f)){e[g]=d.split("/").slice(1).join("/")}}}else if(!c){t.push(g)}}function y(){if(!u){var t=e.getStableId({type:"ObjectPageTable",subType:"SmartTable",sFacet:r.additionalData.facetId});u=i.getView().createId(t)}return u}function b(){f.getControlAsync().then(function(){var t=l.getDataStateIndicator();var e=t.isFiltering();if(e){t.refresh()}})}function S(){if(!g&&P()){g=i.getView().createId(r.tableSettings.searchSettings.id)}return g}function P(){return r.tableSettings.searchSettings&&r.tableSettings.searchSettings.enabled}function I(){f.getControlAsync().then(function(){l.rebindTable();var t=o.oServices.oPresentationControlHandlerFactory.getPresentationControlHandler(l);t.refresh()})}function T(){return r.navigationProperty}function E(t){var e=c.find(function(e){return(e.Value&&e.Value.Path)===t});return e?n.createP13NColumnKey(e):t}C();return{restrictedObject:{setControl:f.setControl,getControlAsync:f.getControlAsync,getId:y,getNavigationProperty:T,getSearchFieldId:S,isSearchSupported:P,onSaveWithError:b,rebindTable:I,getControlStateWrapper:function(){return d},getHiddenColumnInfo:function(){return p},getColumnKeyForProperty:E},getCategories:f.getCategories,pushCategory:function(t){return f.pushCategory(t)},getSupportedCategories:f.getSupportedCategories,getPendingExecutions:f.getPendingExecutions,pushPendingExecutions:f.pushPendingExecutions}}return r});
//# sourceMappingURL=SmartTableInfo.js.map