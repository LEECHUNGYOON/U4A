sap.ui.define(["sap/base/security/encodeXML","sap/ui/core/format/NumberFormat","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/suite/ui/generic/template/genericUtilities/utils"],function(e,t,r,a,i){"use strict";var n=new r("js.RuntimeFormatters").getLogger();function o(e){while(!e.getEntitySet){e=e.getParent()}return e}function s(e){var t=e.getCustomData();var r=t.find(function(e){return e.getKey()==="lineItemQualifier"});return r&&r.getValue()}function u(e,t){var r=t.getModel();var a=r.getMetaModel();var i=o(e.getParent());var n=a.getODataEntitySet(i.getEntitySet());var u=a.getODataEntityType(n.entityType);var g=u["com.sap.vocabularies.UI.v1.LineItem"];var c=u["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var l=s(i);if(l){c=u["com.sap.vocabularies.UI.v1.LineItem#"+l+"@com.sap.vocabularies.UI.v1.Criticality"]}if(g&&c){if(c.Path){var f=c.Path;var I=t.getObject(f);if(I){switch(I.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";default:break}}}else if(c.EnumMember){var T=c.EnumMember;if(T){switch(T){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";default:break}}}}return"None"}var s=a.testableStatic(s,"RuntimeFormatters_getLineItemQualifier");var o=a.testableStatic(o,"RuntimeFormatters_getSmartTableControl");var g={setInfoHighlight:function(e,t,r){var a=this.getBindingContext();if(!a){return"None"}var i="None";var n=sap.ui.core.MessageType;if(r){if(a.isTransient()&&!a.isInactive()){return"Information"}var o=a.getMessages();for(var s=0;s<o.length;s++){var g=o[s];var c=g.getType();if(c===n.Error){return"Error"}if(c===n.Warning){i="Warning"}else if(c===n.Information&&i!==n.Warning){i="Information"}}}if(e===false&&t===false){return i==="None"?"Information":i}var l=u(this,a);return l==="Error"||l==="Warning"||i==="None"?l:i},setRowNavigated:function(e){var t=this.getBindingContext()||this.getParent().getBindingContext();var r=t&&t.getPath();return!!r&&r===e},formatImageUrl:function(e,t,r){return i.adjustImageUrlPath(e,t,r)},formatRatingIndicatorSubTitle:function(e){if(e){var t=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return t.getText("RATING_INDICATOR_SUBTITLE",[e,this.data("Subtitle")])}else{var r=e>1?t.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):t.getText("RATING_INDICATOR_SUBTITLE_LABEL");return t.getText("RATING_INDICATOR_SUBTITLE",[e,r])}}},formatRatingIndicatorFooterText:function(e,t){if(e){var r=this.getModel("i18n").getResourceBundle();if(t){return r.getText("RATING_INDICATOR_FOOTER",[e,t])}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[e,this.data("Footer")])}else{var a=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[e,a])}}},formatRatingIndicatorAggregateCount:function(e){var t=this.getModel("i18n").getResourceBundle();var r;if(e){r=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[e])}else if(this.getCustomData().length>0){r=t.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")])}else{r=""}return r},formatDisplayValueForProgressIndicator:function(e,r,a){var i="";if(e!==null&&e!==undefined){e=e.toString()}if(r!==null&&r!==undefined){r=r.toString()}if(e){var o=this;var s=o.getModel("i18n").getResourceBundle();var u=o.getCustomData();var g=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();e=t.getInstance(g).format(e);r=r||u.filter(function(e){if(e.getKey()==="Target"){return e}});r=typeof r==="object"?r[0]&&r[0].getValue():r;a=a||u.filter(function(e){if(e.getKey()==="UoM"){return e}});a=typeof a==="object"?a[0]&&a[0].getValue():a;if(a){if(a==="%"){i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[e])}else{if(r){r=sap.ui.core.format.NumberFormat.getInstance(g).format(r);i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[e,r,a])}else{i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[e,a])}}}else{if(r){r=sap.ui.core.format.NumberFormat.getInstance(g).format(r);i=s.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[e,r])}else{i=e}}}else{n.warning("Value property is mandatory, the default (empty string) will be returned")}return i},encodeHTML:function(t){return e(t)}};return g},true);
//# sourceMappingURL=RuntimeFormatters.js.map