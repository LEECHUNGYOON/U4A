sap.ui.define(["./library","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/Device","sap/m/NavContainer","sap/m/Popover","sap/m/Button","./SplitContainerRenderer","sap/ui/dom/containsOrEquals","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],(function(t,e,a,o,i,s,r,n,p,h,l,jQuery,g){"use strict";var d=t.ButtonType,u=t.PlacementType,_=t.SplitAppMode,M=e.extend("sap.m.SplitContainer",{metadata:{library:"sap.m",interfaces:["sap.ui.core.IPlaceholderSupport"],properties:{defaultTransitionNameDetail:{type:"string",group:"Appearance",defaultValue:"slide"},defaultTransitionNameMaster:{type:"string",group:"Appearance",defaultValue:"slide"},mode:{type:"sap.m.SplitAppMode",group:"Appearance",defaultValue:_.ShowHideMode},masterButtonText:{type:"string",group:"Appearance",defaultValue:null},masterButtonTooltip:{type:"string",group:"Appearance",defaultValue:null},backgroundColor:{type:"string",group:"Appearance",defaultValue:null},backgroundImage:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},backgroundRepeat:{type:"boolean",group:"Appearance",defaultValue:!1},backgroundOpacity:{type:"float",group:"Appearance",defaultValue:1},autoHideMasterPage:{type:"boolean",defaultValue:!0}},aggregations:{masterPages:{type:"sap.ui.core.Control",multiple:!0,singularName:"masterPage"},detailPages:{type:"sap.ui.core.Control",multiple:!0,singularName:"detailPage"},_navMaster:{type:"sap.m.NavContainer",multiple:!1,visibility:"hidden"},_navDetail:{type:"sap.m.NavContainer",multiple:!1,visibility:"hidden"},_navPopover:{type:"sap.m.Popover",multiple:!1,visibility:"hidden"}},associations:{initialDetail:{type:"sap.ui.core.Control",multiple:!1},initialMaster:{type:"sap.ui.core.Control",multiple:!1}},events:{masterNavigate:{allowPreventDefault:!0,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},afterMasterNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},masterButton:{},beforeMasterOpen:{},afterMasterOpen:{},beforeMasterClose:{},afterMasterClose:{},detailNavigate:{allowPreventDefault:!0,parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}},afterDetailNavigate:{parameters:{from:{type:"sap.ui.core.Control"},fromId:{type:"string"},to:{type:"sap.ui.core.Control"},toId:{type:"string"},firstTime:{type:"boolean"},isTo:{type:"boolean"},isBack:{type:"boolean"},isBackToTop:{type:"boolean"},isBackToPage:{type:"boolean"},direction:{type:"string"}}}},designtime:"sap/m/designtime/SplitContainer.designtime"},renderer:p});return M.prototype.init=function(){var t=this;g.getAccessibility()&&!M._sAriaPopupLabelId&&(M._sAriaPopupLabelId=new o({text:""}).toStatic().getId()),this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.m"),this._aMasterPages=[],this._aDetailPages=[],i.system.phone?(this._oMasterNav=this._oDetailNav=new s({width:"",navigate:function(e){t._handleNavigationEvent(e,!1,!0)},afterNavigate:function(e){t._handleNavigationEvent(e,!0,!0)}}),this.setAggregation("_navMaster",this._oMasterNav,!0)):(this._oMasterNav=new s(this.getId()+"-Master",{width:"",navigate:function(e){t._handleNavigationEvent(e,!1,!0)},afterNavigate:function(e){t._handleNavigationEvent(e,!0,!0),t._updateMasterButtonTooltip()}}),this._oDetailNav=new s(this.getId()+"-Detail",{width:"",navigate:function(e){t._handleNavigationEvent(e,!1,!1)},afterNavigate:function(e){t._handleNavigationEvent(e,!0,!1)}}),this.setAggregation("_navMaster",this._oMasterNav,!0),this.setAggregation("_navDetail",this._oDetailNav,!0),this._createShowMasterButton(),this._oPopOver=new r(this.getId()+"-Popover",{placement:u.Bottom,showHeader:!1,contentWidth:"320px",contentHeight:"600px",beforeOpen:function(){t.fireBeforeMasterOpen()},beforeClose:function(){t.fireBeforeMasterClose()},afterOpen:function(){t.fireAfterMasterOpen(),t._bMasterisOpen=!0},afterClose:function(){t._afterHideMasterAnimation()}}).addStyleClass("sapMSplitContainerPopover"),M._sAriaPopupLabelId&&this._oPopOver.addAriaLabelledBy(M._sAriaPopupLabelId),this.setAggregation("_navPopover",this._oPopOver,!0)),this._oldIsLandscape=i.orientation.landscape,this._bMasterisOpen=!1;t=this;var e=function(e,a,o){return function(i,s,r){e.apply(t[a],arguments),"pages"===s&&t[o]&&-1!==t[o].indexOf(i)&&t._removePageFromArray(t[o],i)}},a=this._oMasterNav._removeChild;if(this._oMasterNav._removeChild=e(a,"_oMasterNav","_aMasterPages"),this._oDetailNav){var n=this._oDetailNav._removeChild;this._oDetailNav._removeChild=e(n,"_oDetailNav","_aDetailPages")}i.support.touch&&(this._fnWindowScroll=this._onWindowScroll.bind(this),window.addEventListener("scroll",this._fnWindowScroll,!0))},M.prototype.onBeforeRendering=function(){this._fnResize&&i.resize.detachHandler(this._fnResize),this._bMasterisOpen&&(this._portraitHide()||this._hideMode())&&(this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden"),this._bMasterisOpen=!1),this._oMasterNav.setInitialPage(sap.ui.getCore().byId(this.getInitialMaster())),this._oMasterNav.setDefaultTransitionName(this.getDefaultTransitionNameMaster()),this._updateMasterButtonTooltip(),i.system.phone||(this._oDetailNav.setInitialPage(sap.ui.getCore().byId(this.getInitialDetail())),this._updateMasterButtonText()),this._oDetailNav.setDefaultTransitionName(this.getDefaultTransitionNameDetail())},M.prototype.exit=function(){this._fnResize&&i.resize.detachHandler(this._fnResize),delete this._aMasterPages,delete this._aDetailPages,this._oShowMasterBtn&&(this._oShowMasterBtn.destroy(),this._oShowMasterBtn=null),i.support.touch&&window.removeEventListener("scroll",this._fnWindowScroll)},M.prototype.onAfterRendering=function(){!i.system.phone&&this._oPopOver&&this._oPopOver.isOpen()&&this._oPopOver.close(),this._fnResize||(this._fnResize=jQuery.proxy(this._handleResize,this)),i.resize.attachHandler(this._fnResize),setTimeout(function(){this._oMasterNav.removeStyleClass("sapMSplitContainerNoTransition")}.bind(this),0)},M.prototype.applySettings=function(t,a){e.prototype.applySettings.call(this,t,a),this._updateMasterInitialPage()},M.prototype.ontouchstart=function(t){i.system.phone||(this._bIgnoreSwipe=t.originalEvent&&t.originalEvent._sapui_handledByControl)},M.prototype.ontouchend=function(t){this._bIgnoreSwipe||(this._bIgnoreSwipe=this._oScrolledElement&&h(this._oScrolledElement,t.target)),this._oScrolledElement=null},M.prototype._onWindowScroll=function(t){this._oScrolledElement=t.srcElement},M.prototype.onswiperight=function(t){!1!==i.support.touch&&(!(i.system.tablet||i.os.windows&&i.os.version>=8)||!this._portraitHide()&&!this._hideMode()||this._bIgnoreSwipe||this._bDetailNavButton||this.showMaster())},M.prototype.ontap=function(t){if(!i.system.phone&&!1!==this.getAutoHideMasterPage()){var e=!0,a=jQuery(t.target).closest(".sapMSplitContainerDetail, .sapMSplitContainerMaster"),o=t.srcControl,s=o.getParent();s&&s.isA("sap.m.Button")?s.getMetadata():o.getMetadata();a.length>0&&a.hasClass("sapMSplitContainerDetail")&&(e=!1),(this._oldIsLandscape||"ShowHideMode"!=this.getMode())&&"HideMode"!=this.getMode()||e||h(this._oShowMasterBtn.getDomRef(),t.target)||this.hideMaster()}},M.prototype.onswipeleft=function(t){(i.system.tablet||i.os.windows&&i.os.version>=8)&&(this._portraitHide()||this._hideMode())&&!this._bIgnoreSwipe&&this.hideMaster()},M.prototype._onMasterButtonTap=function(t){i.system.phone||(this._oldIsLandscape?"HideMode"===this.getMode()&&this.showMaster():"PopoverMode"==this.getMode()?this._oPopOver.isOpen()?this._oPopOver.close():this._oPopOver.openBy(this._oShowMasterBtn,!0):this.showMaster())},M.prototype.to=function(t,e,a,o){this._oMasterNav.getPage(t)?this._oMasterNav.to(t,e,a,o):this._oDetailNav.to(t,e,a,o)},M.prototype.backToPage=function(t,e,a){this._oMasterNav.getPage(t)?this._oMasterNav.backToPage(t,e,a):this._oDetailNav.backToPage(t,e,a)},M.prototype._safeBackToPage=function(t,e,a,o){this._oMasterNav.getPage(t)?this._oMasterNav._safeBackToPage(t,e,a,o):this._oDetailNav._safeBackToPage(t,e,a,o)},M.prototype.insertPreviousPage=function(t,e,a){return this._oMasterNav.getPage(t)?this._oMasterNav.insertPreviousPage(t,e,a):this._oDetailNav.insertPreviousPage(t,e,a),this},M.prototype.toMaster=function(t,e,a,o){this._oMasterNav.to(t,e,a,o)},M.prototype.backMaster=function(t,e){this._oMasterNav.back(t,e)},M.prototype.backMasterToPage=function(t,e,a){this._oMasterNav.backToPage(t,e,a)},M.prototype.toDetail=function(t,e,a,o){this._oDetailNav.to(t,e,a,o)},M.prototype.backDetail=function(t,e){this._oDetailNav.back(t,e)},M.prototype.backDetailToPage=function(t,e,a){this._oDetailNav.backToPage(t,e,a)},M.prototype.backToTopMaster=function(t,e){this._oMasterNav.backToTop(t,e)},M.prototype.backToTopDetail=function(t,e){this._oDetailNav.backToTop(t,e)},M.prototype.addMasterPage=function(t){if(!this._hasPageInArray(this._aMasterPages,t))return this._oMasterNav===this._oDetailNav&&this._oDetailNav.getPages()&&-1!==this._oDetailNav.getPages().indexOf(t)&&this._removePageFromArray(this._aDetailPages,t),this._oMasterNav.insertPage(t,this._aMasterPages.length),this._aMasterPages.push(t),this},M.prototype.addDetailPage=function(t){var e=this,a=this._getRealPage(t);if(!this._hasPageInArray(this._aDetailPages,t))return t.addDelegate({onBeforeShow:function(){a&&(i.system.phone||e._needShowMasterButton()&&e._setMasterButton(a))}}),a&&(a.addDelegate({onBeforeRendering:function(){i.system.phone||e._oDetailNav.getCurrentPage()!==a||(!a.getShowNavButton()&&e._needShowMasterButton()?e._setMasterButton(a,!0):e._removeMasterButton(a))}}),i.system.phone||(a._setCustomHeaderInSC||(a._setCustomHeaderInSC=a.setCustomHeader),a.setCustomHeader=function(t){return this._setCustomHeaderInSC.apply(this,arguments),t&&e._needShowMasterButton()&&e._setMasterButton(a),this},a._setShowNavButtonInSC||(a._setShowNavButtonInSC=a.setShowNavButton),a.setShowNavButton=function(t){return this._setShowNavButtonInSC.apply(this,arguments),!t&&e._needShowMasterButton()?e._setMasterButton(a):e._removeMasterButton(a,!0),this})),this._oMasterNav===this._oDetailNav&&this._oMasterNav.getPages()&&-1!==this._oMasterNav.getPages().indexOf(t)&&this._removePageFromArray(this._aMasterPages,t),this._oDetailNav.addPage(t),this._aDetailPages.push(t),this},M.prototype.getMasterPages=function(){return this._aMasterPages.slice()},M.prototype.getDetailPages=function(){return this._aDetailPages.slice()},M.prototype.indexOfMasterPage=function(t){return this._indexOfMasterPage(t)},M.prototype.indexOfDetailPage=function(t){return this._indexOfDetailPage(t)},M.prototype.insertMasterPage=function(t,e,a){return this._insertPage(this._aMasterPages,"masterPages",t,e,a)},M.prototype.removeMasterPage=function(t,e){return this._removePage(this._aMasterPages,"masterPages",t,e)},M.prototype.removeAllMasterPages=function(t){return this._aMasterPages=[],this.removeAllAggregation("masterPages",t)},M.prototype.insertDetailPage=function(t,e,a){return this._insertPage(this._aDetailPages,"detailPages",t,e,a)},M.prototype._restoreMethodsInPage=function(t){if(!i.system.phone){var e=this._getRealPage(t);e&&(e._setCustomHeaderInSC&&(e.setCustomHeader=e._setCustomHeaderInSC,delete e._setCustomHeaderInSC),e._setShowNavButtonInSC&&(e.setShowNavButton=e._setShowNavButtonInSC,delete e._setShowNavButtonInSC))}},M.prototype.removeDetailPage=function(t,e){return this._restoreMethodsInPage(t),this._removePage(this._aDetailPages,"detailPages",t,e)},M.prototype.removeAllDetailPages=function(t){for(var e=this.getDetailPages(),a=0;a<e.length;a++)this._restoreMethodsInPage(e[a]);return this._aDetailPages=[],this.removeAllAggregation("detailPages",t)},M.prototype.addPage=function(t,e){return e?this.addMasterPage(t):this.addDetailPage(t)},M.prototype.showMaster=function(){var t=this._getRealPage(this._oDetailNav.getCurrentPage());if(this._portraitPopover())this._oPopOver.isOpen()||(this._oPopOver.attachAfterOpen((function t(){this._oPopOver.detachAfterOpen(t,this),this._bMasterOpening=!1,this._bMasterisOpen=!0,this.fireAfterMasterOpen()}),this),this.fireBeforeMasterOpen(),this._oPopOver.openBy(this._oShowMasterBtn,!0),this._bMasterOpening=!0);else if((this._portraitHide()||this._hideMode())&&(!this._bMasterisOpen||this._bMasterClosing)&&(this._oMasterNav.$().on("webkitTransitionEnd transitionend",this._afterShowMasterAnimation.bind(this)),this.fireBeforeMasterOpen(),this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",!0),this._oMasterNav.getDomRef()&&this._oMasterNav.getDomRef().offsetHeight,this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",!1),this._bMasterOpening=!0,this._removeMasterButton(t),i.browser.webkit)){var e=this._oMasterNav;window.setTimeout((function(){e.$().css("box-shadow","none"),window.setTimeout((function(){e.$().css("box-shadow","")}),50)}),0)}return this},M.prototype.hideMaster=function(){return this._portraitPopover()?this._oPopOver.isOpen()&&(this._oPopOver.close(),this._bMasterClosing=!0):(this._portraitHide()||this._hideMode())&&(this._bMasterisOpen||this._oMasterNav.$().hasClass("sapMSplitContainerMasterVisible"))&&(this._oMasterNav.$().on("webkitTransitionEnd transitionend",this._afterHideMasterAnimation.bind(this)),this.fireBeforeMasterClose(),this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",!1),this._oMasterNav.getDomRef()&&this._oMasterNav.getDomRef().offsetHeight,this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",!0),this._bMasterClosing=!0),this},M.prototype._afterShowMasterAnimation=function(){this._oMasterNav.$().off("webkitTransitionEnd transitionend"),(this._portraitHide()||this._hideMode())&&(this._bMasterOpening=!1,this._bMasterisOpen=!0,this.fireAfterMasterOpen())},M.prototype._afterHideMasterAnimation=function(){this._oMasterNav.$().off("webkitTransitionEnd transitionend");var t=this._getRealPage(this._oDetailNav.getCurrentPage());this._setMasterButton(t),this._bMasterClosing=!1,this._bMasterisOpen=!1,h(this._oMasterNav.getDomRef(),document.activeElement)&&document.activeElement.blur(),this.fireAfterMasterClose()},M.prototype.getCurrentMasterPage=function(){return this._oMasterNav.getCurrentPage()},M.prototype.getCurrentDetailPage=function(){return this._oDetailNav.getCurrentPage()},M.prototype.getCurrentPage=function(t){return t?this.getCurrentMasterPage():this.getCurrentDetailPage()},M.prototype.getPreviousPage=function(t){return t?this._oMasterNav.getPreviousPage():this._oDetailNav.getPreviousPage()},M.prototype.getMasterPage=function(t){return this._oMasterNav.getPage(t)},M.prototype.getDetailPage=function(t){return this._oDetailNav.getPage(t)},M.prototype.getPage=function(t,e){return e?this.getMasterPage(t):this.getDetailPage(t)},M.prototype.isMasterShown=function(){if(i.system.phone){var t=this._oMasterNav.getCurrentPage();return-1!==this._indexOfMasterPage(t)}switch(this.getMode()){case _.StretchCompressMode:return!0;case _.HideMode:return this._bMasterisOpen;case _.PopoverMode:case _.ShowHideMode:return i.orientation.landscape||this._bMasterisOpen;default:return!1}},M.prototype.setBackgroundOpacity=function(t){return t>1||t<0?(l.warning("Invalid value "+t+" for SplitContainer.setBackgroundOpacity() ignored. Valid values are: floats between 0 and 1."),this):this.setProperty("backgroundOpacity",t)},M.prototype.setMode=function(t){var e=this.getMode();if(e===t)return this;if(this.setProperty("mode",t,!0),i.system.phone||!this.getDomRef())return this;"HideMode"===e&&this._oldIsLandscape&&this._removeMasterButton(this._oDetailNav.getCurrentPage());var a=this.getDomRef();return"PopoverMode"!==t&&this._oPopOver.getContent().length>0?this._updateMasterPosition("landscape"):"PopoverMode"==t&&(this._oldIsLandscape||(0===this._oPopOver.getContent().length&&this._updateMasterPosition("popover"),this._setMasterButton(this._oDetailNav.getCurrentPage())),a.classList.remove("sapMSplitContainerShowHide"),a.classList.remove("sapMSplitContainerStretchCompress"),a.classList.remove("sapMSplitContainerHideMode"),a.classList.add("sapMSplitContainerPopover")),"StretchCompressMode"==t&&(a.classList.remove("sapMSplitContainerShowHide"),a.classList.remove("sapMSplitContainerPopover"),a.classList.remove("sapMSplitContainerHideMode"),a.classList.add("sapMSplitContainerStretchCompress"),this._removeMasterButton(this._oDetailNav.getCurrentPage())),"ShowHideMode"==t&&(a.classList.remove("sapMSplitContainerPopover"),a.classList.remove("sapMSplitContainerStretchCompress"),a.classList.remove("sapMSplitContainerHideMode"),a.classList.add("sapMSplitContainerShowHide"),i.orientation.landscape||this._setMasterButton(this._oDetailNav.getCurrentPage())),"HideMode"===t&&(a.classList.remove("sapMSplitContainerPopover"),a.classList.remove("sapMSplitContainerStretchCompress"),a.classList.remove("sapMSplitContainerShowHide"),a.classList.add("sapMSplitContainerHideMode"),this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",!1),this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",!0),this._bMasterisOpen=!1,this._setMasterButton(this._oDetailNav.getCurrentPage())),this},M.prototype._updateMasterInitialPage=function(){"HideMode"===this.getMode()&&i.system.phone&&this._aDetailPages&&this._oMasterNav.setInitialPage(this.getInitialDetail()?this.getInitialDetail():this.getInitialMaster()||this._aDetailPages[0])},M.prototype._indexOfMasterPage=function(t){return this._aMasterPages.indexOf(t)},M.prototype._indexOfDetailPage=function(t){return this._aDetailPages.indexOf(t)},M.prototype._insertPage=function(t,e,a,o,i){var s;this.insertAggregation(e,a,o,i),s=o<0?0:o>t.length?t.length:o;var r=t?Array.prototype.indexOf.call(t,a):-1;return t.splice(s,0,a),-1!=r&&this._removePageFromArray(t,a),this},M.prototype._removePage=function(t,e,a,o){var i=this.removeAggregation(e,a,o);return i&&this._removePageFromArray(t,i),i},M.prototype._removePageFromArray=function(t,e){var a=t?Array.prototype.indexOf.call(t,e):-1;-1!=a&&(t.splice(a,1),t===this._aDetailPages&&this._restoreMethodsInPage(e))},M.prototype._handleNavigationEvent=function(t,e,a){var o=(e?"After":"")+(a?"Master":"Detail")+"Navigate";o=o.charAt(0).toLowerCase()+o.slice(1),this.fireEvent(o,t.mParameters,!0)||t.preventDefault()},M.prototype._handleResize=function(){var t=i.orientation.landscape,e=this._oDetailNav.getCurrentPage(),a=this.getMode();if(this._oldIsLandscape!==t){if(this._oldIsLandscape=t,!i.system.phone){if(this.$().toggleClass("sapMSplitContainerPortrait",!t),"HideMode"===a)return;"ShowHideMode"===a&&(t?this.fireBeforeMasterOpen():this.fireBeforeMasterClose()),"ShowHideMode"!==a&&"PopoverMode"!==a||(this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterVisible",t),this._oMasterNav.toggleStyleClass("sapMSplitContainerMasterHidden",!t)),"ShowHideMode"===a&&(t?(this._bMasterisOpen=!0,this.fireAfterMasterOpen()):(this._bMasterisOpen=!1,this.fireAfterMasterClose())),"PopoverMode"==a&&(this._oPopOver.isOpen()?(this._oPopOver.attachAfterClose(this._handlePopClose,this),this._oPopOver.close()):this._handlePopClose()),e=this._getRealPage(e),this._oldIsLandscape||"StretchCompressMode"==a?this._removeMasterButton(e):this._setMasterButton(e)}this._onOrientationChange&&this._onOrientationChange()}},M.prototype._handlePopClose=function(t){this._oPopOver.detachAfterClose(this._handlePopClose,this),this._oldIsLandscape?this._updateMasterPosition("landscape"):this._updateMasterPosition("popover")},M.prototype._getRealPage=function(t){for(var a,o=t;o;){if(o instanceof e&&o.isA(["sap.m.Page","sap.m.MessagePage","sap.m.semantic.SemanticPage"]))return o;if(o instanceof e&&o.isA("sap.ui.core.mvc.View")){if(1===(a=o.getContent()).length){o=a[0];continue}}else if(o instanceof s){o=o.getCurrentPage();continue}o=null}return o},M.prototype._updateMasterPosition=function(t){var e=this;if("popover"==t&&(this.removeAggregation("_navMaster",this._oMasterNav,!0),this._oMasterNav.$().remove(),this._oPopOver.addContent(this._oMasterNav),this._bMasterisOpen=!1),"landscape"==t){var a=function(){e._oPopOver.removeAggregation("content",e._oMasterNav,!1),e.setAggregation("_navMaster",e._oMasterNav,!0);var t=e.$();if(t[0]){var a=sap.ui.getCore().createRenderManager();a.renderControl(e._oMasterNav.addStyleClass("sapMSplitContainerMaster")),a.flush(t[0],!1,e.$("BG")[0]?1:0),a.destroy()}};if(this._oPopOver.isOpen()){var o=function(){this._oPopOver.detachAfterClose(o,this),this._bMasterisOpen=!1,a()};this._oPopOver.attachAfterClose(o,this),this._oPopOver.close()}else a()}},M.prototype._portraitHide=function(){return!this._oldIsLandscape&&!i.system.phone&&"ShowHideMode"===this.getMode()},M.prototype._portraitPopover=function(){return!this._oldIsLandscape&&!i.system.phone&&"PopoverMode"===this.getMode()},M.prototype._hideMode=function(){return"HideMode"===this.getMode()&&!i.system.phone},M.prototype._needShowMasterButton=function(){return(this._portraitHide()||this._hideMode()||this._portraitPopover())&&(!this._bMasterisOpen||this._bMasterClosing)},M.prototype._updateMasterButtonTooltip=function(){if(this._oShowMasterBtn){var t=this.getMasterButtonTooltip();if(t)this._oShowMasterBtn.setTooltip(t);else{var e=this._oMasterNav.getCurrentPage();if(e&&e.getTitle){var a=e.getTitle();a&&(a=a.replace(/[_0-9]+$/,""),t=this._rb.getText("SPLITCONTAINER_NAVBUTTON_TOOLTIP",a))}t||(t=this._rb.getText("SPLITCONTAINER_NAVBUTTON_DEFAULT_TOOLTIP")),this._oShowMasterBtn.setTooltip(t)}}},M.prototype._updateMasterButtonText=function(){this._oShowMasterBtn.setText(this.getMasterButtonText()||this._rb.getText("SPLITCONTAINER_NAVBUTTON_TEXT"))},M.prototype._createShowMasterButton=function(){this._oShowMasterBtn&&!this._oShowMasterBtn.bIsDestroyed||(this._oShowMasterBtn=new n(this.getId()+"-MasterBtn",{icon:a.getIconURI("menu2"),tooltip:this.getMasterButtonTooltip(),type:d.Default,press:jQuery.proxy(this._onMasterButtonTap,this)}).addStyleClass("sapMSplitContainerMasterBtn"))},M.prototype._setMasterButton=function(t,e,a){if(t&&("boolean"==typeof e&&(a=e,e=void 0),t=this._getRealPage(t))){for(var o=M._getHeaderButtonAggregation(t),i=o.sAggregationName,s=o.aAggregationContent,r=0;r<s.length;r++)if(s[r]instanceof n&&s[r].getVisible()&&(s[r].getType()==d.Back||s[r].getType()==d.Up&&s[r]!==this._oShowMasterBtn))return void(this._bDetailNavButton=!0);this._bDetailNavButton=!1;var p=t._getAnyHeader(),h=!1;for(r=0;r<s.length;r++)s[r]===this._oShowMasterBtn&&(h=!0);h?(this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnHide",!1),this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden"),this._oShowMasterBtn.$().parent().toggleClass("sapMSplitContainerMasterBtnShow",!0)):(this._createShowMasterButton(),this._updateMasterButtonTooltip(),this._updateMasterButtonText(),this._oShowMasterBtn.removeStyleClass("sapMSplitContainerMasterBtnHidden"),p&&p.insertAggregation(i,this._oShowMasterBtn,0,a)),e&&e(t),this.fireMasterButton({show:!0})}},M._getHeaderButtonAggregation=function(t){var e,a,o=t._getAnyHeader();if(o)return o.getContentLeft&&(e=o.getContentLeft(),a="contentLeft"),o.getContent&&(e=o.getContent(),a="content"),{aAggregationContent:e,sAggregationName:a}},M.prototype._removeMasterButton=function(t,e,a){if(t){var o=this,i=this._oShowMasterBtn.$().is(":hidden");if("boolean"==typeof e&&(a=e,e=void 0),i||a)this._oShowMasterBtn.addStyleClass("sapMSplitContainerMasterBtnHidden"),e&&e(t),i||this.fireMasterButton({show:!1});else{if(!(t=this._getRealPage(t)))return;if(t._getAnyHeader())for(var s=M._getHeaderButtonAggregation(t).aAggregationContent,r=0;r<s.length;r++)if(s[r]===this._oShowMasterBtn){this._oShowMasterBtn.destroy(),this._oShowMasterBtn.$().parent().on("webkitAnimationEnd animationend",(function(){jQuery(this).off("webkitAnimationEnd animationend"),o._oShowMasterBtn.addStyleClass("sapMSplitContainerMasterBtnHidden"),e&&e(t)}));break}this.fireMasterButton({show:!1})}}},M.prototype._callSuperMethod=function(t,a){var o=Array.prototype.slice.call(arguments);return"masterPages"===a?"indexOfAggregation"===t?this._indexOfMasterPage.apply(this,o.slice(2)):this._callNavContainerMethod(t,this._oMasterNav,o):"detailPages"===a?"indexOfAggregation"===t?this._indexOfDetailPage.apply(this,o.slice(2)):this._callNavContainerMethod(t,this._oDetailNav,o):e.prototype[t].apply(this,o.slice(1))},M.prototype._callNavContainerMethod=function(t,e,a){a[1]="pages",a=a.slice(1);var o=M._mFunctionMapping[t];return o&&(a.shift(),t=o),e[t].apply(e,a)},M.prototype._hasPageInArray=function(t,e){return t.some((function(t){return e&&e===t}))},M.prototype.showPlaceholder=function(t){var e=sap.ui.require("sap/ui/core/Placeholder");if(e&&e.isEnabled())return"masterPages"===(t&&t.aggregation)?this.getAggregation("_navMaster").showPlaceholder(t):this.getAggregation("_navDetail").showPlaceholder(t)},M.prototype.hidePlaceholder=function(t){if("masterPages"===t.aggregation)this.getAggregation("_navMaster").hidePlaceholder(t);else this.getAggregation("_navDetail").hidePlaceholder(t)},M.prototype.needPlaceholder=function(t,e){var a;if("masterPages"===t)a=this.getAggregation("_navMaster");else a=this.getAggregation("_navDetail");return!e||a.getCurrentPage()!==e},M.prototype.validateAggregation=function(t,e,a){return this._callSuperMethod("validateAggregation",t,e,a)},M.prototype.setAggregation=function(t,e,a){return this._callSuperMethod("setAggregation",t,e,a),this},M.prototype.getAggregation=function(t,e){return this._callSuperMethod("getAggregation",t,e)},M.prototype.indexOfAggregation=function(t,e){return this._callSuperMethod("indexOfAggregation",t,e)},M.prototype.insertAggregation=function(t,e,a,o){return this._callSuperMethod("insertAggregation",t,e,a,o),this},M.prototype.addAggregation=function(t,e,a){return this._callSuperMethod("addAggregation",t,e,a),this},M.prototype.removeAggregation=function(t,e,a){return this._callSuperMethod("removeAggregation",t,e,a)},M.prototype.removeAllAggregation=function(t,e){return this._callSuperMethod("removeAllAggregation",t,e)},M.prototype.destroyAggregation=function(t,e){return this._callSuperMethod("destroyAggregation",t,e),this},M._mFunctionMapping={getAggregation:"getPage",addAggregation:"addPage",insertAggregation:"insertPage",removeAggregation:"removePage",removeAllAggregation:"removeAllPages"},M}));