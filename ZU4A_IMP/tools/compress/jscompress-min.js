!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).u4aJSCompress=n()}(this,function(){"use strict";function e(e){return e.split("")}function tn(e,n){return 0<=n.indexOf(e)}function rn(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function r(e,n){this.message=e,this.defs=n}function X(e,n,t){if(t)for(var i in e)if(mn(e,i)&&!mn(n,i))throw new r("`"+i+"` is not a supported option",n);for(var i in e)mn(e,i)&&(n[i]=e[i]);return n}function t(e,n){var t=0;for(var i in n)mn(n,i)&&(e[i]=n[i],t++);return t}function on(){}function an(){return!1}function sn(){return!0}function fn(){return this}function cn(){return null}((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="DefaultsError",n(r);var un=function(){function e(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==o&&(r instanceof a?t.push.apply(t,r.v):t.push(r))}return t}e.is_op=function(e){return e===o||e instanceof a},e.splice=function(e){return new a(e)};var o=e.skip={};function a(e){this.v=e}return e}();function ln(e,n){return e.indexOf(n)<0&&e.push(n)}function pn(e,i){return e.replace(/\{([^}]+)\}/g,function(e,n){var t=i[n];return t instanceof bn?t.print_to_string():t})}function dn(e,n){var t=e.indexOf(n);0<=t&&e.splice(t,1)}function hn(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function vn(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function _n(){this._values=Object.create(null),this._size=0}function mn(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function gn(e){for(var n,t=e.parent(-1),i=0;n=e.parent(i++);t=n){if("Call"==n.TYPE){if(n.expression===t)continue}else if(n instanceof gt){if(n.left===t)continue}else if(n instanceof bt){if(n.condition===t)continue}else if(n instanceof pt){if(n.expression===t)continue}else if(n instanceof lt){if(n.expressions[0]===t)continue}else{if(n instanceof yn)return n.body===t;if(n instanceof mt&&n.expression===t)continue}return!1}}function i(e,n,t,i){void 0===i&&(i=bn);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));var o=["return function AST_",e,"(props){","if(props){"];n.forEach(function(e){o.push("this.",e,"=props.",e,";")});var a=i&&new i;(a&&a.initialize||t&&t.initialize)&&o.push("this.initialize();"),o.push("}}");var s=new Function(o.join(""))();if(a&&(s.prototype=a,s.BASE=i),i&&i.SUBCLASSES.push(s),(s.prototype.CTOR=s).PROPS=n||null,s.SELF_PROPS=r,s.SUBCLASSES=[],e&&(s.prototype.TYPE=s.TYPE=e),t)for(var f in t)mn(t,f)&&(/^\$/.test(f)?s[f.substr(1)]=t[f]:s.prototype[f]=t[f]);return s.DEFMETHOD=function(e,n){this.prototype[e]=n},"undefined"!=typeof exports&&(exports["AST_"+e]=s),s}_n.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n=[];for(var t in this._values)n.push(e(this._values[t],t.substr(1)));return n},clone:function(){var e=new _n;for(var n in this._values)e._values[n]=this._values[n];return e._size=this._size,e},toObject:function(){return this._values}},_n.fromObject=function(e){var n=new _n;return n._size=t(n._values,e),n};var R=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),bn=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new oi(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:on,validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new ei(function(e){if(e.validate_visited===n)throw new Error(pn("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+e.TYPE,file:e.start.file,line:e.start.line,col:e.start.col}));e.validate_visited=n}))}},null);(bn.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}n?(t=Object.create(null),bn.info=e?function(e,n){i("INFO: "+pn(e,n))}:on,bn.warn=function(e,n){i("WARN: "+pn(e,n))}):bn.info=bn.warn=on})();var o=[];bn.enable_validation=function(){bn.disable_validation(),function e(n){var i=n.prototype.transform;n.prototype.transform=function(e,n){var t=i.call(this,e,n);if(t instanceof bn)t.validate();else if(!(null===t||n&&un.is_op(t)))throw new Error("invalid transformed value: "+t);return t},o.push(function(){n.prototype.transform=i}),n.SUBCLASSES.forEach(e)}(this)},bn.disable_validation=function(){for(var e;e=o.pop();)e()};var yn=i("Statement",null,{$documentation:"Base class of all statements"}),wn=i("Debugger",null,{$documentation:"Represents a debugger statement"},yn),xn=i("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},yn),kn=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},yn);function a(e,n){if(!(e[n]instanceof bn))throw new Error(n+" must be AST_Node");if(e[n]instanceof yn&&!(e[n]instanceof In))throw new Error(n+" cannot be AST_Statement")}var En=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){a(this,"body")}},yn),Tn=i("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Object/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope"},clone:function(e){var n=this._clone(e);return this.enclosed&&(n.enclosed=this.enclosed.slice()),this.functions&&(n.functions=this.functions.clone()),this.variables&&(n.variables=this.variables.clone()),n},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(null!=this.parent_scope){if(!(this.parent_scope instanceof Tn))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof Nn))throw new Error("must be contained within AST_Scope")}}},yn);function Sn(e,n){e.body.forEach(function(e){e.walk(n)})}var Dn=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,function(){Sn(n,e)})},_validate:function(){this.body.forEach(function(e){if(!(e instanceof yn))throw new Error("body must be AST_Statement[]");if(e instanceof In)throw new Error("body cannot contain AST_Function")})}},Tn),On=i("BlockStatement",null,{$documentation:"A block statement"},Dn),s=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(!(this.body instanceof yn))throw new Error("body must be AST_Statement");if(this.body instanceof In)throw new Error("body cannot be AST_Function")}},Tn),An=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new ei(function(e){if(e instanceof Gn){if(!e.label||e.label.thedef!==t)return;return(e.label.thedef=n).references.push(e),!0}if(e instanceof Nn)return!0}))),i},_validate:function(){if(!(this.label instanceof K))throw new Error("label must be AST_Label")}},s),$n=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},s),zn=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){a(this,"condition")}},$n),qn=i("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},zn),jn=i("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},zn),Fn=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof bn))throw new Error("init must be AST_Node");if(this.init instanceof yn&&!(this.init instanceof rt||this.init instanceof In))throw new Error("init cannot be AST_Statement")}null!=this.condition&&a(this,"condition"),null!=this.step&&a(this,"step")}},$n),Mn=i("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if(this.init instanceof rt){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else c(this.init,function(e){if(!(e instanceof pt||e instanceof Rt))throw new Error("init must be assignable: "+e.TYPE)});a(this,"object")}},$n),Cn=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){a(this,"expression")}},s),Nn=i("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:fn},Dn),Hn=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return ri(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new oi(function(e){if(e instanceof xn&&"$ORIG"==e.value)return un.splice(n)}))},enclose:function(e){"string"!=typeof e&&(e="");var n=e.indexOf(":");n<0&&(n=e.length);var t=this.body;return ri(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new oi(function(e){if(e instanceof xn&&"$ORIG"==e.value)return un.splice(t)}))}},Nn),Pn=i("Lambda","name argnames length_read uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[(AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},each_argname:function(n){var t=new ei(function(e){if(e instanceof Et)return e.value.walk(t),!0;e instanceof Ct&&n(e)});this.argnames.forEach(function(e){e.walk(t)})},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),Sn(e,n)})},_validate:function(){this.argnames.forEach(function(e){c(e,function(e){if(!(e instanceof Ct))throw new Error("argnames must be AST_SymbolFunarg[]")})})}},Nn),Rn=i("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null.",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Pn),In=i("Function","inlined",{$documentation:"A function expression",_validate:function(){if(null!=this.name&&!(this.name instanceof Ht))throw new Error("name must be AST_SymbolLambda")}},Pn),Un=i("Defun","inlined",{$documentation:"A function definition",_validate:function(){if(!(this.name instanceof Nt))throw new Error("name must be AST_SymbolDefun")}},Pn),Yn=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},yn),Bn=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})}},Yn),Ln=i("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&a(this,"value")}},Bn),Vn=i("Throw",null,{$documentation:"A `throw` statement",_validate:function(){a(this,"value")}},Bn),Gn=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if(null!=this.label&&!(this.label instanceof Q))throw new Error("label must be AST_LabelRef")}},Yn),Wn=i("Break",null,{$documentation:"A `break` statement"},Gn),Jn=i("Continue",null,{$documentation:"A `continue` statement"},Gn),Xn=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(a(this,"condition"),null!=this.alternative){if(!(this.alternative instanceof yn))throw new Error("alternative must be AST_Statement");if(this.alternative instanceof In)throw new error("alternative cannot be AST_Function")}}},s),Kn=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Sn(n,e)})},_validate:function(){a(this,"expression"),this.body.forEach(function(e){if(!(e instanceof Qn))throw new Error("body must be AST_SwitchBranch[]")})}},Dn),Qn=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},Dn),Zn=i("Default",null,{$documentation:"A `default` switch branch"},Qn),et=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),Sn(n,e)})},_validate:function(){a(this,"expression")}},Qn),nt=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){Sn(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof tt))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof it))throw new Error("bfinally must be AST_Finally")}},Dn),tt=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),Sn(n,e)})},_validate:function(){if(null!=this.argname&&!(this.argname instanceof Pt))throw new Error("argname must be AST_SymbolCatch")}},Dn),it=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},Dn),rt=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.definitions.length<1)throw new Error("must have at least one definition")}},yn),ot=i("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof ft))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof jt))throw new Error("name must be AST_SymbolConst")}),null!=e.value&&a(e,"value")})}},rt),at=i("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof ft))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Ft))throw new Error("name must be AST_SymbolLet")}),null!=e.value&&a(e,"value")})}},rt),st=i("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof ft))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Mt))throw new Error("name must be AST_SymbolVar")}),null!=e.value&&a(e,"value")})}},rt),ft=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})}});function f(e,n){e[n].forEach(function(e){if(!(e instanceof bn))throw new Error(n+" must be AST_Node[]");if(e instanceof yn&&!(e instanceof In))throw new Error(n+" cannot contain AST_Statement")})}var ct=i("Call","expression args pure",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){a(this,"expression"),f(this,"args")}}),ut=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},ct),lt=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");f(this,"expressions")}}),pt=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"},getProperty:function(){var e=this.property;return e instanceof Ut?e.value:e instanceof _t&&"void"==e.operator&&e.expression instanceof Ut?void 0:e},_validate:function(){a(this,"expression")}}),dt=i("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},pt),ht=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){a(this,"property")}},pt),vt=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.operator)throw new Error("operator must be string");a(this,"expression")}}),_t=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},vt),mt=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},vt),gt=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(a(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");a(this,"right")}}),bt=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){a(this,"condition"),a(this,"consequent"),a(this,"alternative")}}),yt=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof xt){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);c(this.left,function(e){if(!(e instanceof pt||e instanceof Rt))throw new Error("left must be assignable: "+e.TYPE)})}}},gt),wt=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){f(this,"elements")}}),xt=i("Destructured",null,{$documentation:"Base class for destructured literal"});function c(e,n){return e instanceof kt?e.elements.forEach(function(e){e instanceof Jt||c(e,n)}):e instanceof Tt?e.properties.forEach(function(e){c(e.value,n)}):void n(e)}var kt=i("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})}},xt),Et=i("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof bn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof bn))throw new Error("key must be string or AST_Node");a(this,"key")}a(this,"value")}}),Tt=i("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Et))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},xt),St=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Dt))throw new Error("properties must be AST_ObjectProperty[]")})}}),Dt=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof bn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof bn))throw new Error("key must be string or AST_Node");a(this,"key")}if(!(this.value instanceof bn))throw new Error("value must be AST_Node")}}),Ot=i("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){a(this,"value")}},Dt),At=i("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof Rn))throw new Error("value must be AST_Accessor")}},Dt),$t=i("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof Rn))throw new Error("value must be AST_Accessor")}},Dt),zt=i("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("string"!=typeof this.name)throw new Error("name must be string")}}),qt=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},zt),jt=i("SymbolConst",null,{$documentation:"Symbol defining a constant"},qt),Ft=i("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},qt),Mt=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},qt),Ct=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Mt),Nt=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},qt),Ht=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},qt),Pt=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},qt),K=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},zt),Rt=i("SymbolRef","fixed",{$documentation:"Reference to some symbol (not definition/declaration)"},zt),Q=i("LabelRef",null,{$documentation:"Reference to a label symbol"},zt),It=i("This",null,{$documentation:"The `this` symbol",_validate:function(){if("this"!==this.name)throw new Error('name must be "this"')}},zt),Ut=i("Constant",null,{$documentation:"Base class for all constants"}),Yt=i("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},Ut),Bt=i("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number")}},Ut),Lt=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Ut),u=i("Atom",null,{$documentation:"Base class for atoms"},Ut),Vt=i("Null",null,{$documentation:"The `null` atom",value:null},u),Gt=i("NaN",null,{$documentation:"The impossible value",value:NaN},u),Wt=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},u),Jt=i("Hole",null,{$documentation:"A hole in an array",value:void 0},u),Xt=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},u),Kt=i("Boolean",null,{$documentation:"Base class for booleans"},u),Qt=i("False",null,{$documentation:"The `false` atom",value:!1},Kt),Zt=i("True",null,{$documentation:"The `true` atom",value:!0},Kt);function ei(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}ei.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||on)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Pn?this.directives=Object.create(this.directives):e instanceof xn&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Pn&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof Nn)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof xn))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label)for(var i=t.length;0<=--i;){if((n=t[i])instanceof An&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;){if((n=t[i])instanceof $n||e instanceof Wn&&n instanceof Kn)return n}},in_boolean_context:function(){for(var e,n,t=this.self(),i=0;e=this.parent(i);i++){if(e instanceof bt&&e.condition===t||e instanceof zn&&e.condition===t||e instanceof Fn&&e.condition===t||e instanceof Xn&&e.condition===t||e instanceof Ln&&e.in_bool||e instanceof lt&&e.tail_node()!==t||e instanceof En||e instanceof _t&&"!"==e.operator&&e.expression===t)return!0;if(e instanceof gt&&("&&"==e.operator||"||"==e.operator)||e instanceof bt||e.tail_node()===t)t=e;else{if(!(e instanceof Ln))return!1;do{if(!(n=this.parent(++i)))return!1}while(!(n instanceof Pn));if(n.name)return!1;if(!(t=this.parent(++i))||"Call"!=t.TYPE||t.expression!==n)return!1}}}};var l=["abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",O="false null true",Z="break case catch const continue debugger default delete do else finally for function if in instanceof let new return switch throw try typeof var void while with"].join(" "),D="return new delete throw else case",Z=hn(Z),l=hn(l),D=hn(D),O=hn(O),A=/^0b([01]+)$/i,$=/^0x([0-9a-f]+)$/i,z=/^0o?([0-7]+)$/i,q=hn(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),j="\n\r\u2028\u2029",F="+-*&%=<>!?|~^",M="[{(,;:",C=M+")}]",N=j+"  \t\f\v​             　\ufeff",H=hn(e("./'\""+F+C+N));function I(e){return 56320<=e&&e<=57343}function P(e){return 48<=e&&e<=57}function U(e){return!H[e]}function ni(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function ti(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function ee(e,n,t,i,r){throw new ti(e,n,t,i,r)}function ne(e,n,t){return e.type==n&&(null==t||e.value==t)}j=hn(e(j)),F=hn(e(F)),M=hn(e(M)),C=hn(e(C)),N=hn(e(N)),((ti.prototype=Object.create(Error.prototype)).constructor=ti).prototype.name="SyntaxError",n(ti);var Y={};function te(r,o,a,s){var f={text:r,filename:o,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},c=!1;function u(){return f.text.charAt(f.pos)}function l(e,n){var t=f.text.charAt(f.pos++);if(e&&!t)throw Y;return j[t]?(f.col=0,f.line++,n||(f.newline_before=!0),"\r"==t&&"\n"==u()&&(f.pos++,t="\n")):f.col++,t}function p(e){for(;0<e--;)l()}function d(e){return f.text.substr(f.pos,e.length)==e}function h(){f.tokline=f.line,f.tokcol=f.col,f.tokpos=f.pos}function v(e,n,t){f.regex_allowed="operator"==e&&!re[n]||"keyword"==e&&D[n]||"punc"==e&&M[n],"punc"==e&&"."==n?c=!0:t||(c=!1);var i={type:e,value:n,line:f.tokline,col:f.tokcol,pos:f.tokpos,endline:f.line,endcol:f.col,endpos:f.pos,nlb:f.newline_before,file:o};return/^(?:num|string|regexp)$/i.test(e)&&(i.raw=r.substring(i.pos,i.endpos)),t||(i.comments_before=f.comments_before,i.comments_after=f.comments_before=[]),f.newline_before=!1,new R(i)}function _(e){ee(e,o,f.tokline,f.tokcol,f.tokpos)}function m(i){var r=!1,o=!1,a=!1,s="."==i,e=function(e){for(var n,t="",i=0;(n=u())&&e(n,i++);)t+=l();return t}(function(e,n){var t=e.charCodeAt(0);switch(t){case 120:case 88:return!a&&(a=!0);case 101:case 69:return a||!r&&(r=o=!0);case 45:return o||0==n&&!i;case 43:return o;case o=!1,46:return!(s||a||r)&&(s=!0)}return P(t)||/[_0-9a-fo]/i.test(e)});i&&(e=i+e),/^0[0-7_]+$/.test(e)?S.has_directive("use strict")&&_("Legacy octal literals are not allowed in strict mode"):e=e.replace(a?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var n=function(e){var n;if(n=A.exec(e))return parseInt(n[1],2);if(n=$.exec(e))return parseInt(n[1],16);if(n=z.exec(e))return parseInt(n[1],8);var t=parseFloat(e);return t==e?t:void 0}(e);if(!isNaN(n))return v("num",n);_("Invalid syntax: "+e)}function g(e){var n=l(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(b(2));case 117:if("{"!=u())return String.fromCharCode(b(4));l();var t=0;do{var i=parseInt(l(!0),16);isNaN(i)&&_("Invalid hex-character pattern in string"),t=16*t+i}while("}"!=u());return(l(),t<65536)?String.fromCharCode(t):(1114111<t&&_("Invalid character code: "+t),String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t)));case 13:"\n"==u()&&l(!0,e);case 10:return""}return"0"<=n&&n<="7"?function(e){var n=u();"0"<=n&&n<="7"&&(e+=l(!0))[0]<="3"&&"0"<=(n=u())&&n<="7"&&(e+=l(!0));if("0"===e)return"\0";0<e.length&&S.has_directive("use strict")&&_("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n):n}function b(e){for(var n=0;0<e;--e){var t=parseInt(l(!0),16);isNaN(t)&&_("Invalid hex-character pattern in string"),n=n<<4|t}return n}var y=e("Unterminated string constant",function(e){for(var n=l(),t="";;){var i=l(!0,!0);if("\\"==i)i=g(!0);else if(j[i])_("Unterminated string constant");else if(i==n)break;t+=i}var r=v("string",t);return r.quote=e,r});function w(e){var n,t=f.regex_allowed,i=function(){for(var e=f.text,n=f.pos;n<f.text.length;++n)if(j[e[n]])return n;return-1}();return-1==i?(n=f.text.substr(f.pos),f.pos=f.text.length):(n=f.text.substring(f.pos,i),f.pos=i),f.col=f.tokcol+(f.pos-f.tokpos),f.comments_before.push(v(e,n,!0)),f.regex_allowed=t,S}var x=e("Unterminated multiline comment",function(){var e=f.regex_allowed,n=function(e,n){var t=f.text.indexOf(e,f.pos);if(n&&-1==t)throw Y;return t}("*/",!0),t=f.text.substring(f.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return p(t.length+2),f.comments_before.push(v("comment2",t,!0)),f.regex_allowed=e,S});function k(){for(var e,n,t=!1,i="",r=!1;e=u();)if(t)"u"!=e&&_("Expecting UnicodeEscapeSequence -- uXXXX"),U(e=g())||_("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,t=!1;else if("\\"==e)r=t=!0,l();else{if(!U(e))break;i+=l()}return Z[i]&&r&&(n=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(n.length)+n+i.slice(1)),i}var E=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=l(!0);)if(j[n])_("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=k();try{var o=new RegExp(e,r);return o.raw_source=e,v("regexp",o)}catch(e){_(e.message)}});function T(e){return v("operator",function e(n){if(!u())return n;var t=n+u();return q[t]?(l(),e(t)):n}(e||l()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==Y)throw e;_(n)}}}function S(e){if(null!=e)return E(e);for(s&&0==f.pos&&d("#!")&&(h(),p(2),w("comment5"));;){if(!function(){for(;N[u()];)l()}(),h(),a){if(d("\x3c!--")){p(4),w("comment3");continue}if(d("--\x3e")&&f.newline_before){p(3),w("comment4");continue}}var n=u();if(!n)return v("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return y(n);case 46:return l(),P(u().charCodeAt(0))?m("."):v("punc",".");case 47:var i=function(){switch(l(),u()){case"/":return l(),w("comment1");case"*":return l(),x()}return f.regex_allowed?E(""):T("/")}();if(i===S)continue;return i}if(P(t))return m();if(C[n])return v("punc",l());if(F[n])return T();if(92==t||!H[n])return r=k(),c?v("name",r):O[r]?v("atom",r):Z[r]?q[r]?v("operator",r):v("keyword",r):v("name",r);break}var r;_("Unexpected character '"+n+"'")}return S.context=function(e){return e&&(f=e),f},S.add_directive=function(e){f.directive_stack[f.directive_stack.length-1].push(e),f.directives[e]?f.directives[e]++:f.directives[e]=1},S.push_directives_stack=function(){f.directive_stack.push([])},S.pop_directives_stack=function(){for(var e=f.directive_stack.pop(),n=e.length;0<=--n;)f.directives[e[n]]--},S.has_directive=function(e){return 0<f.directives[e]},S}var p,ie=hn("typeof void delete -- ++ ! ~ - +"),re=hn("-- ++"),oe=hn("= += -= /= *= %= >>= <<= >>>= |= ^= &="),ii=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),ae=hn("atom num string regexp name");function ri(e,a){a=X(a,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var f={input:"string"==typeof e?te(e,a.filename,a.html5_comments,a.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};function c(e,n){return ne(f.token,e,n)}function o(){return f.peeked||(f.peeked=f.input())}function u(){return f.prev=f.token,f.peeked?(f.token=f.peeked,f.peeked=null):f.token=f.input(),f.in_directives=f.in_directives&&("string"==f.token.type||c("punc",";")),f.token}function l(){return f.prev}function s(e,n,t,i){var r=f.input.context();ee(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function t(e,n){s(n,e.line,e.col)}function i(e,n){return e+(void 0===n?"":" «"+n+"»")}function p(e){null==e&&(e=f.token),t(e,"Unexpected token: "+i(e.type,e.value))}function d(e,n){if(c(e,n))return u();t(f.token,"Unexpected token: "+i(f.token.type,f.token.value)+", expected: "+i(e,n))}function h(e){return d("punc",e)}function v(e){return e.nlb||!vn(e.comments_before,function(e){return!e.nlb})}function _(){return!a.strict&&(c("eof")||c("punc","}")||v(f.token))}function m(e){c("punc",";")?u():e||_()||d("punc",";")}function g(){h("(");var e=W(!0);return h(")"),e}function n(i){return function(){var e=f.token,n=i.apply(null,arguments),t=l();return n.start=e,n.end=t,n}}function b(){(c("operator","/")||c("operator","/="))&&(f.peeked=null,f.token=f.input(f.token.value.substr(1)))}f.token=u();var y=n(function(){switch(b(),f.token.type){case"string":var e=f.in_directives,n=W(!0);return e&&(n instanceof Yt?(r=n.start.raw.slice(1,-1),f.input.add_directive(r),n.value=r):f.in_directives=e=!1),m(),e?new xn(n):new En({body:n});case"num":case"regexp":case"operator":case"atom":return w();case"name":return(ne(o(),"punc",":")?function(){var n=N(K);vn(f.labels,function(e){return e.name!=n.name})||s("Label "+n.name+" defined twice");h(":"),f.labels.push(n);var e=y();f.labels.pop(),e instanceof $n||n.references.forEach(function(e){e instanceof Jn&&(e=e.label.start,s("Continue label `"+n.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))});return new An({body:e,label:n})}:w)();case"punc":switch(f.token.value){case"{":return new On({start:f.token,body:E(),end:l()});case"[":case"(":return w();case";":return f.in_directives=!1,u(),new kn;default:p()}case"keyword":switch(f.token.value){case"break":return u(),x(Wn);case"const":u();var t=S();return m(),t;case"continue":return u(),x(Jn);case"debugger":return u(),m(),new wn;case"do":u();n=J(y);d("keyword","while");var i=g();return m(!0),new qn({body:n,condition:i});case"while":return u(),new jn({condition:g(),body:J(y)});case"for":return u(),function(){h("(");var e=null;if(!c("punc",";")&&(e=c("keyword","const")?(u(),S(!0)):c("keyword","let")?(u(),D(!0)):c("keyword","var")?(u(),O(!0)):W(!0,!0),c("operator","in")))return e instanceof rt?1<e.definitions.length&&s("Only one variable declaration allowed in for..in loop",e.start.line,e.start.col,e.start.pos):L(e)||(e=V(e))instanceof xt||s("Invalid left-hand side in for..in loop",e.start.line,e.start.col,e.start.pos),u(),function(e){var n=W(!0);return h(")"),new Mn({init:e,object:n,body:J(y)})}(e);return function(e){h(";");var n=c("punc",";")?null:W(!0);h(";");var t=c("punc",")")?null:W(!0);return h(")"),new Fn({init:e,condition:n,step:t,body:J(y)})}(e)}();case"function":return u(),k(Un);case"if":return u(),function(){var e=g(),n=y(),t=null;c("keyword","else")&&(u(),t=y());return new Xn({condition:e,body:n,alternative:t})}();case"let":u();t=D();return m(),t;case"return":0!=f.in_function||a.bare_returns||s("'return' outside of function"),u();var r=null;return c("punc",";")?u():_()||(r=W(!0),m()),new Ln({value:r});case"switch":return u(),new Kn({expression:g(),body:J(T)});case"throw":u(),v(f.token)&&s("Illegal newline after 'throw'");r=W(!0);return m(),new Vn({value:r});case"try":return u(),function(){var e=E(),n=null,t=null;{var i;c("keyword","catch")&&(r=f.token,u(),i=null,c("punc","(")&&(u(),i=N(Pt),h(")")),n=new tt({start:r,argname:i,body:E(),end:l()}))}{var r;c("keyword","finally")&&(r=f.token,u(),t=new it({start:r,body:E(),end:l()}))}n||t||s("Missing catch/finally blocks");return new nt({body:e,bcatch:n,bfinally:t})}();case"var":u();t=O();return m(),t;case"with":return f.input.has_directive("use strict")&&s("Strict mode may not include a with statement"),u(),new Cn({expression:g(),body:y()})}}p()});function w(){var e=W(!0);return m(),new En({body:e})}function x(e){var n,t=null;_()||(t=N(Q,!0)),null!=t?((n=rn(function(e){return e.name==t.name},f.labels))||s("Undefined label "+t.name),t.thedef=n):0==f.in_loop&&s(e.TYPE+" not inside a loop or switch"),m();var i=new e({label:t});return n&&n.references.push(i),i}var k=function(e){var n=e===Un,t=c("name")?N(n?Nt:Ht):null;n&&!t&&d("name"),!t||e===Rn||t instanceof qt||p(l()),h("(");for(var i=[],r=!0;!c("punc",")");)r?r=!1:h(","),i.push(H(Ct));u();var o=f.in_loop,a=f.labels;++f.in_function,f.in_directives=!0,f.input.push_directives_stack(),f.in_loop=0,f.labels=[];var s=E();return f.input.has_directive("use strict")&&(t&&C(t),i.forEach(C)),f.input.pop_directives_stack(),--f.in_function,f.in_loop=o,f.labels=a,new e({name:t,argnames:i,body:s})};function E(){h("{");for(var e=[];!c("punc","}");)c("eof")&&d("punc","}"),e.push(y());return u(),e}function T(){h("{");for(var e,n,t,i,r=[];!c("punc","}");)c("eof")&&d("punc","}"),c("keyword","case")?(e&&(e.end=l()),n=[],e=new et({start:(i=f.token,u(),i),expression:W(!0),body:n}),r.push(e),h(":")):c("keyword","default")?(e&&(e.end=l()),t&&s("More than one default clause in switch statement"),n=[],e=new Zn({start:(i=f.token,u(),h(":"),i),body:n}),r.push(e),t=e):(n||p(),n.push(y()));return e&&(e.end=l()),u(),r}function r(e,n){for(var t=[];;){var i=f.token,r=H(e),o=null;if(c("operator","=")?(u(),o=W(!1,n)):!n&&(e===jt||r instanceof xt)&&s("Missing initializer in declaration"),t.push(new ft({start:i,name:r,value:o,end:l()})),!c("punc",","))break;u()}return t}var S=function(e){return new ot({start:l(),definitions:r(jt,e),end:l()})},D=function(e){return new at({start:l(),definitions:r(Ft,e),end:l()})},O=function(e){return new st({start:l(),definitions:r(Mt,e),end:l()})};var A=function(e){if(c("operator","new"))return function(e){var n=f.token;d("operator","new");var t=A(!1),i=c("punc","(")?(u(),$(")")):[],r=new ut({start:n,expression:t,args:i,end:l()});return P(r),R(r,e)}(e);var n=f.token;if(c("punc")){switch(n.value){case"(":u();var t,i=W(!0),r=n.comments_before.length;[].unshift.apply(i.start.comments_before,n.comments_before),n.comments_before.length=0,n.comments_before=i.start.comments_before,0==(n.comments_before_length=r)&&0<n.comments_before.length&&((t=n.comments_before[0]).nlb||(t.nlb=n.nlb,n.nlb=!1)),n.comments_after=i.start.comments_after,i.start=n,h(")");var o=l();return o.comments_before=i.end.comments_before,[].push.apply(i.end.comments_after,o.comments_after),o.comments_after.length=0,o.comments_after=i.end.comments_after,i.end=o,i instanceof ct&&P(i),R(i,e);case"[":return R(z(),e);case"{":return R(j(),e)}p()}if(c("keyword","function")){u();var a=k(In);return a.start=n,a.end=l(),R(a,e)}if(ae[f.token.type])return R(function(){var e,n=f.token;switch(n.type){case"name":e=M(Rt,n);break;case"num":e=new Bt({start:n,end:n,value:n.value});break;case"string":e=new Yt({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new Lt({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new Qt({start:n,end:n});break;case"true":e=new Zt({start:n,end:n});break;case"null":e=new Vt({start:n,end:n})}}return u(),e}(),e);p()};function $(e,n,t,i){i=i||W;for(var r=!0,o=[];!c("punc",e)&&(r?r=!1:h(","),!n||!c("punc",e));)c("punc",",")&&t?o.push(new Jt({start:f.token,end:f.token})):o.push(i());return u(),o}var z=n(function(){return h("["),new wt({elements:$("]",!a.strict,!0)})}),q=n(function(){return k(Rn)}),j=n(function(){h("{");for(var e=!0,n=[];!c("punc","}")&&(e?e=!1:h(","),a.strict||!c("punc","}"));){var t=f.token,i=F();if(c("punc","(")){var r=f.token,o=k(In);o.start=r,o.end=l(),n.push(new Ot({start:t,key:i,value:o,end:l()}))}else{if(!c("punc",":")&&"name"==t.type)switch(i){case"get":n.push(new $t({start:t,key:F(),value:q(),end:l()}));continue;case"set":n.push(new At({start:t,key:F(),value:q(),end:l()}));continue;default:n.push(new Ot({start:t,key:i,value:M(Rt,t),end:l()}));continue}h(":"),n.push(new Ot({start:t,key:i,value:W(!1),end:l()}))}}return u(),new St({properties:n})});function F(){var e=f.token;switch(e.type){case"operator":Z[e.value]||p();case"num":case"string":case"name":case"keyword":case"atom":return u(),""+e.value;case"punc":"["!=e.value&&p(),u();var n=W(!1);return h("]"),n;default:p()}}function M(e,n){var t=n.value;return new("this"===t?It:e)({name:""+t,start:n,end:n})}function C(e){"arguments"!=e.name&&"eval"!=e.name||s("Unexpected "+e.name+" in strict mode",e.start.line,e.start.col,e.start.pos)}function N(e,n){if(!c("name"))return n||s("Name expected"),null;var t=M(e,f.token);return f.input.has_directive("use strict")&&t instanceof qt&&C(t),u(),t}function H(e){var n=f.token;if(c("punc","["))return u(),new kt({start:n,elements:$("]",!a.strict,!0,function(){return H(e)}),end:l()});if(c("punc","{")){u();for(var t=!0,i=[];!c("punc","}")&&(t?t=!1:h(","),a.strict||!c("punc","}"));){var r=f.token,o=F();c("punc",":")||"name"!=r.type?(h(":"),i.push(new Et({start:r,key:o,value:H(e),end:l()}))):i.push(new Et({start:r,key:o,value:M(e,r),end:l()}))}return u(),new Tt({start:n,properties:i,end:l()})}return N(e)}function P(e){for(var n=e.start,t=n.comments_before,i=mn(n,"comments_before_length")?n.comments_before_length:t.length;0<=--i;){var r=t[i];if(/[@#]__PURE__/.test(r.value)){e.pure=r;break}}}var R=function(e,n){var t=e.start;if(c("punc","."))return u(),R(new dt({start:t,expression:e,property:function(){c("name")||d("name");var e=f.token.value;return u(),e}(),end:l()}),n);if(c("punc","[")){u();var i=W(!0);return h("]"),R(new ht({start:t,expression:e,property:i,end:l()}),n)}if(n&&c("punc","(")){u();var r=new ct({start:t,expression:e,args:$(")"),end:l()});return P(r),R(r,!0)}return e},I=function(e){var n=f.token;if(c("operator")&&ie[n.value]){u(),b();var t=U(_t,n,I(e));return t.start=n,t.end=l(),t}for(var i=A(e);c("operator")&&re[f.token.value]&&!v(f.token);)(i=U(mt,f.token,i)).start=n,i.end=f.token,u();return i};function U(e,n,t){var i=n.value;switch(i){case"++":case"--":L(t)||s("Invalid use of "+i+" operator",n.line,n.col,n.pos);break;case"delete":t instanceof Rt&&f.input.has_directive("use strict")&&s("Calling delete on expression not allowed in strict mode",t.start.line,t.start.col,t.start.pos)}return new e({operator:i,expression:t})}var Y=function(e,n,t){var i=c("operator")?f.token.value:null;"in"==i&&t&&(i=null);var r=null!=i?ii[i]:null;if(null!=r&&n<r){u();var o=Y(I(!0),r,t);return Y(new gt({start:e.start,left:e,operator:i,right:o,end:o.end}),n,t)}return e};function B(e){var n,t=f.token,i=(n=e,Y(I(!0),0,n));if(c("operator","?")){u();var r=W(!1);return h(":"),new bt({start:t,condition:i,consequent:r,alternative:W(!1,e),end:l()})}return i}function L(e){return e instanceof pt||e instanceof Rt}function V(e){if(e instanceof wt){var n=e.elements.map(V);return vn(n,function(e){return e instanceof xt||e instanceof Jt||L(e)})?new kt({start:e.start,elements:n,end:e.end}):e}if(!(e instanceof St))return e;for(var t=[],i=0;i<e.properties.length;i++){var r=e.properties[i];if(!(r instanceof Ot))return e;var o=V(r.value);if(!(o instanceof xt||L(o)))return e;t.push(new Et({start:r.start,key:r.key,value:o,end:r.end}))}return new Tt({start:e.start,properties:t,end:e.end})}var G=function(e){var n=f.token,t=B(e),i=f.token.value;if(c("operator")&&oe[i]){if(L(t)||"="==i&&(t=V(t))instanceof xt)return u(),new yt({start:n,left:t,operator:i,right:G(e),end:l()});s("Invalid assignment")}return t},W=function(e,n){for(var t=f.token,i=[];i.push(G(n)),e&&c("punc",",");)u(),e=!0;return 1==i.length?i[0]:new lt({start:t,expressions:i,end:o()})};function J(e){++f.in_loop;var n=e();return--f.in_loop,n}return a.expression?(b(),W(!0)):function(){var e=f.token,n=[];for(f.input.push_directives_stack();!c("eof");)n.push(y());f.input.pop_directives_stack();var t=l(),i=a.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new Hn({start:e,body:n,end:t}),i}()}function oi(e,n){ei.call(this),this.before=e,this.after=n}function d(e,n){return un(e,function(e){return e.transform(n,!0)})}function h(e,n,t,i){this.eliminated=0,this.global=!1,this.id=e,this.init=i,this.lambda=t instanceof Ht,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}function v(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new _n,e.variables=new _n,n&&(e.make_def=n.make_def)}function _(e,n){v(e,n),e.uses_eval=!1,e.uses_with=!1}function m(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)})),i}function g(e){return e=X(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),ln(e.reserved,"arguments"),e.reserved.has=hn(e.reserved),e}oi.prototype=new ei,(p=function(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),e.before&&(t=e.before(this,r,n)),void 0===t&&(r(t=this,e),e.after&&void 0!==(i=e.after(t,n))&&(t=i)),e.pop(),t})})(bn,on),p(An,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),p(En,function(e,n){e.body=e.body.transform(n)}),p(Dn,function(e,n){e.body=d(e.body,n)}),p(qn,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),p(jn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),p(Fn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),p(Mn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),p(Cn,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),p(Bn,function(e,n){e.value&&(e.value=e.value.transform(n))}),p(Gn,function(e,n){e.label&&(e.label=e.label.transform(n))}),p(Xn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),p(Kn,function(e,n){e.expression=e.expression.transform(n),e.body=d(e.body,n)}),p(et,function(e,n){e.expression=e.expression.transform(n),e.body=d(e.body,n)}),p(nt,function(e,n){e.body=d(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),p(tt,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=d(e.body,n)}),p(rt,function(e,n){e.definitions=d(e.definitions,n)}),p(ft,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),p(Pn,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=d(e.argnames,n),e.body=d(e.body,n)}),p(ct,function(e,n){e.expression=e.expression.transform(n),e.args=d(e.args,n)}),p(lt,function(e,n){e.expressions=d(e.expressions,n)}),p(dt,function(e,n){e.expression=e.expression.transform(n)}),p(ht,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),p(vt,function(e,n){e.expression=e.expression.transform(n)}),p(gt,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),p(bt,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),p(wt,function(e,n){e.elements=d(e.elements,n)}),p(kt,function(e,n){e.elements=d(e.elements,n)}),p(Et,function(e,n){e.key instanceof bn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),p(Tt,function(e,n){e.properties=d(e.properties,n)}),p(St,function(e,n){e.properties=d(e.properties,n)}),p(Dt,function(e,n){e.key instanceof bn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),h.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,i){var n,t=e.scope,r=m(t,i),o=t.cname_holes,a=Object.create(null),s=[t];e.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in m(n,i))a[t]=!0;s.push(n)}while(n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=B(o[f]),!a[n])return o.splice(f,1),r[n]=!0,n;for(;;)if(n=B(++t.cname),!(r[n]||l[n]||i.reserved.has[n])){if(!a[n])break;o.push(t.cname)}return r[n]=!0,n}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name,t=e.variables.get(n)||e instanceof Hn&&e.globals.get(n)||this.orig[0]instanceof jt&&rn(function(e){return e.name==n},e.enclosed);return t&&t!==this?t.redefined()||t:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof Ht||this.orig[0]instanceof Nt)}},Hn.DEFMETHOD("figure_out_scope",function(c){c=X(c,{cache:null,ie8:!1});var u=this,a=null,t=0,s=u.parent_scope=null,l=new ei(function(i,e){if(i instanceof Un)return i.name.walk(l),r(function(){i.argnames.forEach(function(e){e.walk(l)}),Sn(i,l)}),!0;if(i instanceof Qn)return i.init_vars(s),e(),!0;if(i instanceof nt)return r(function(){Sn(i,l)}),i.bcatch&&i.bcatch.walk(l),i.bfinally&&i.bfinally.walk(l),!0;if(i instanceof Cn){var n=s;do{if((n=n.resolve()).uses_with)break;n.uses_with=!0}while(n=n.parent_scope);return r(e),!0}if(i instanceof Tn)return r(e),!0;var t;function r(e){i.init_vars(s);var n=a,t=s;i instanceof Nn&&(a=i),s=i,e(),s=t,a=n}function o(e,n){var t;e!==n&&(i.mark_enclosed(c),t=n.find_variable(i),i.thedef!==t&&((i.thedef=t).orig.push(i),i.mark_enclosed(c)))}i instanceof zt&&(i.scope=s),i instanceof K&&((i.thedef=i).references=[]),i instanceof Pt||i instanceof jt?s.def_variable(i).defun=a:i instanceof Nt?(a.def_function(i,l.parent()),o(a,s)):i instanceof Ct?(a.def_variable(i),o(a,s)):i instanceof Ht?(t=a.def_function(i,"arguments"==i.name?void 0:a),c.ie8&&(t.defun=a.parent_scope.resolve())):i instanceof Ft?s.def_variable(i):i instanceof Mt&&(a.def_variable(i,null),o(a,s))});u.make_def=function(e,n){return new h(++t,this,e,n)},u.walk(l),u.globals=new _n;var p=[],l=new ei(function(e){if(e instanceof Pn)return p.push(e),e.argnames.forEach(function(e){e.walk(l)}),p.pop(),Sn(e,l),!0;if(e instanceof Gn)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof Rt){for(var n=e.name,t=e.scope.find_variable(n),i=p.length;0<i&&t&&!((i=p.lastIndexOf(t.scope,i-1))<0);){var r=t.orig[0];if(r instanceof Ct||r instanceof Ht){e.in_arg=!0;break}t=t.scope.parent_scope.find_variable(n)}if(t?"arguments"==n&&t.scope instanceof Pn&&(l.parent()instanceof pt?t.scope.uses_arguments||(t.scope.uses_arguments=!0):t.scope.uses_arguments="d"):t=u.def_global(e),"eval"==n){var o=l.parent();if("Call"==o.TYPE&&o.expression===e){var a=e.scope;do{if((a=a.resolve()).uses_eval)break;a.uses_eval=!0}while(a=a.parent_scope)}else t.undeclared&&(u.uses_eval=!0)}return e.thedef=t,e.reference(c),!0}if(e instanceof Pt){var s=e.definition().redefined();if(s)for(a=e.scope;a&&(ln(a.enclosed,s),a!==s.scope);a=a.parent_scope);return!0}if(e instanceof jt){var f=e.definition().redefined();return f&&(f.const_redefs=!0),!0}});function i(e,n){var t,i,r=e.name,o=e.thedef;vn(o.orig,function(e){return!(e instanceof jt||e instanceof Ft)})&&((t=n.find_variable(r))?(i=t.redefined())&&(t=i):t=u.globals.get(r),t?t.orig.push(e):t=n.def_variable(e),o.defun=t.scope,o.forEach(function(e){e.redef=!0,e.thedef=t,e.reference(c)}),o.lambda&&(t.lambda=!0),t.undeclared&&u.variables.set(r,t))}u.walk(l),c.ie8&&u.walk(new ei(function(e){if(e instanceof Pt){var n=e.thedef.defun;return n.name instanceof Ht&&n.name.name==e.name&&(n=n.parent_scope.resolve()),i(e,n),!0}if(e instanceof Ht){var t=e.thedef;return i(e,e.scope.parent_scope.resolve()),void 0!==e.thedef.init?e.thedef.init=!1:t.init&&(e.thedef.init=t.init),!0}}))}),Hn.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var i=this.make_def(e);return i.undeclared=!0,i.global=!0,n.set(t,i),i}),Tn.DEFMETHOD("init_vars",function(e){v(this,e)}),Nn.DEFMETHOD("init_vars",function(e){_(this,e)}),Pn.DEFMETHOD("init_vars",function(e){return _(this,e),this.uses_arguments=!1,this.def_variable(new Ct({name:"arguments",start:this.start,end:this.end})),this}),zt.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(ln(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){ln(n.scope.enclosed,e)}),t!==n.scope);t=t.parent_scope);}),zt.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),Tn.DEFMETHOD("find_variable",function(e){return e instanceof zt&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Tn.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof Un)&&(t.init=n),this.functions.set(e.name,t),t}),Tn.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof In&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),zt.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),K.DEFMETHOD("unmangleable",an),zt.DEFMETHOD("definition",function(){return this.thedef}),Hn.DEFMETHOD("mangle_names",function(o){o=g(o);var n,a=-1;o.cache&&o.cache.props&&(n=m(this,o),o.cache.props.each(function(e){n[e]=!0}));var s=[],f=new ei(function(n,e){if(n instanceof An){var t=a;return e(),a=t,!0}var i,r;if(n instanceof Tn)return o.webkit&&n instanceof $n&&n.init instanceof at&&n.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof Ft&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),n.to_mangle=[],n.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof jt))return!1;var i=n.scope.resolve();if(n.scope===i)return!1;t=i.def_variable(e),i.to_mangle.push(t)}s.push(n),n.references.forEach(r),(e instanceof Pt||e instanceof jt)&&r(e);return!0;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&n.to_mangle.push(e)}),e(),o.cache&&n instanceof Hn&&n.globals.each(c),n instanceof Un&&f.has_directive("use asm")&&((i=new Rt(n.name)).scope=n,i.reference(o)),n.to_mangle.forEach(c),!0;if(n instanceof K){for(;r=B(++a),l[r];);return n.mangled_name=r,!0}});function c(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(f),s.forEach(c)}),Hn.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(l);return t.reserved.forEach(r),this.globals.each(o),this.walk(new ei(function(e){e instanceof Tn&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),Hn.DEFMETHOD("expand_names",function(i){B.reset(),B.sort(),i=g(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=B(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new ei(function(e){e instanceof Tn&&e.variables.each(n)}))}),bn.DEFMETHOD("tail_node",fn),lt.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),Hn.DEFMETHOD("compute_char_frequency",function(e){e=g(e),B.reset();var n=zt.prototype.add_source_map;try{zt.prototype.add_source_map=function(){this.unmangleable(e)||B.consider(this.name,-1)},e.properties&&(dt.prototype.add_source_map=function(){B.consider(this.property,-1)},ht.prototype.add_source_map=function(){!function e(n){n instanceof Yt?B.consider(n.value,-1):n instanceof bt?(e(n.consequent),e(n.alternative)):n instanceof lt&&e(n.tail_node())}(this.property)}),B.consider(this.print_to_string(),1)}finally{zt.prototype.add_source_map=n,delete dt.prototype.add_source_map,delete ht.prototype.add_source_map}B.sort()});var b,y,w,x,k,E,T,S,B=(b=Object.create(null),x=L("0123456789"),k=L("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),W.consider=function(e,n){for(var t=e.length;0<=--t;)w[e[t]]+=n},W.sort=function(){y=k.sort(G).concat(x.sort(G))},(W.reset=V)(),W);function L(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),b[i]=-.01*t}return n}function V(){w=Object.create(b)}function G(e,n){return w[n]-w[e]}function W(e){var n="",t=54;for(e++;n+=y[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}function J(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function ai(f){var e=!f;f=X(f,{ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,t,c=an;f.comments&&(t=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(n=f.comments.lastIndexOf("/"),t=new RegExp(f.comments.substr(1,n-1),f.comments.substr(n+1))),c=t instanceof RegExp?function(e){return"comment5"!=e.type&&t.test(e.value)}:"function"==typeof t?function(e){return"comment5"!=e.type&&t(this,e)}:"some"===t?J:sn);var r=f.indent_start,o=0,a=1,u=0,s="",l=f.ascii_only?function(e,t){return t&&(e=e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"})),e.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(I(e.charCodeAt(i+1))){i++;continue}}else if(!I(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function i(e,n){var t=function(t,e){var i=0,r=0;function n(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),t=l(t),f.quote_style){case 1:return n();case 2:return o();case 3:return("'"==e?n:o)();default:return(r<i?n:o)()}}(e,n);return f.inline_script&&(t=(t=(t=t.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),t}var p,d,h=!1,v=0,_=!0,m=!1,g=!1,b=!1,y=!1,w=-1,x="",k=f.source_map&&[],E=k?function(n,t){k.forEach(function(e){e.line+=n,e.col+=t})}:on,T=k?function(){k.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),k=[]}:on;function S(e){var n=s.lastIndexOf("\n");v<n&&(v=n);var t=s.slice(0,v),i=s.slice(v);for(E(e,i.length-o),a+=e,u+=e,o=i.length,s=t;e--;)s+="\n";s+=i}var D=f.max_line_len?function(){_?o>f.max_line_len&&bn.warn("Output exceeds {max_line_len} characters",f):(o>f.max_line_len&&S(1),_=!0,T())}:on,O=hn("( [ + * / - , .");function A(e){var n=(e=String(e)).charAt(0);b&&n&&(b=!1,"\n"!=n&&(A("\n"),z())),y&&n&&(y=!1,/[\s;})]/.test(n)||$()),w=-1;var t=x.slice(-1);g&&(g=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(f.semicolons||O[n]?(s+=";",o++,u++):(D(),s+="\n",u++,a++,o=0,/^\s+$/.test(e)&&(g=!0)),f.beautify||(m=!1))),m&&((U(t)&&(U(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==x||"--"==e&&"!"==x||"in"==e&&"/"==t||"--"==x&&">"==n)&&(s+=" ",o++,u++),"<"==t&&"!"==e||(m=!1)),p&&(k.push({token:p,name:d,line:a,col:o}),p=!1,_&&T()),s+=e,h="("==e.slice(-1),u+=e.length;var i=e.split(/\r?\n/),r=i.length-1;a+=r,o+=i[0].length,0<r&&(D(),o=i[r].length),x=e}var $=f.beautify?function(){A(" ")}:function(){m=!0},z=f.beautify?function(e){A(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",e?r-(f.indent_level>>1):r))}:on,q=f.beautify?function(e,n){!0===e&&(e=C());var t=r;r=e;var i=n();return r=t,i}:function(e,n){return n()},j=f.max_line_len||f.preserve_line?function(){D(),v=s.length,_=!1}:on,F=f.beautify?function(){if(w<0)return A("\n");"\n"!=s[w]&&(s=s.slice(0,w)+"\n"+s.slice(w),u++,a++),w++}:j,M=f.beautify?function(){A(";")}:function(){g=!0};function C(){return r+f.indent_level}function N(){return _||D(),s}function H(){var e=s.lastIndexOf("\n");return/^ *$/.test(s.slice(e+1))}var P=[];return{get:N,toString:N,indent:z,should_break:e?on:function(){return f.width&&o-r>=f.width},has_parens:function(){return h},newline:F,print:A,space:$,comma:function(){j(),A(","),j(),$()},colon:function(){A(":"),$()},last:function(){return x},semicolon:M,force_semicolon:function(){g&&A(";"),A(";")},to_utf8:l,print_name:function(e){var n;A((n=(n=e).toString(),n=l(n,!0)))},print_string:function(e,n){A(i(e,n))},next_indent:C,with_indent:q,with_block:function(e){var n;return A("{"),F(),q(C(),function(){n=e()}),z(),A("}"),n},with_parens:function(e){A("("),j();var n=e();return j(),A(")"),n},with_square:function(e){A("["),j();var n=e();return j(),A("]"),n},add_mapping:k?function(e,n){p=e,d=n}:on,option:function(e){return f[e]},prepend_comments:e?on:function(e){var i,n,t,r=this,o=e instanceof Bn&&e.value,a=(a=s(e))||[];function s(e){var n=e.start;if(!n){if(!o)return;e.start=n=new R}var t=n.comments_before;if(!t){if(!o)return;n.comments_before=t=[]}if(t._dumped!==r)return t._dumped=r,t}o&&((i=new ei(function(e){var n=i.parent();if(!(n instanceof Bn||n instanceof gt&&n.left===e||"Call"==n.TYPE&&n.expression===e||n instanceof bt&&n.condition===e||n instanceof dt&&n.expression===e||n instanceof lt&&n.expressions[0]===e||n instanceof ht&&n.expression===e||n instanceof mt))return!0;var t=s(e);t&&(a=a.concat(t))})).push(e),e.value.walk(i)),0==u&&(0<a.length&&f.shebang&&"comment5"==a[0].type&&(A("#!"+a.shift().value+"\n"),z()),(n=f.preamble)&&A(n.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),0!=(a=a.filter(c,e)).length&&(t=H(),a.forEach(function(e,n){t||(e.nlb?(A("\n"),z(),t=!0):0<n&&$()),/comment[134]/.test(e.type)?(A("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),z(),t=!0):"comment2"==e.type&&(A("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),t=!1)}),t||(e.start.nlb?(A("\n"),z()):$()))},append_comments:e||c===an?on:function(e,t){var n,i,r=e.end;!r||(n=r[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof yn||vn(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,i=s.length,n.filter(c,e).forEach(function(e,n){y=!1,b?(A("\n"),z(),b=!1):e.nlb&&(0<n||!H())?(A("\n"),z()):(0<n||!t)&&$(),/comment[134]/.test(e.type)?(A("//"+e.value.replace(/[@#]__PURE__/g," ")),b=!0):"comment2"==e.type&&(A("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),y=!0)}),s.length>i&&(w=i))},line:function(){return a},col:function(){return o},pos:function(){return u},push_node:function(e){P.push(e)},pop_node:f.preserve_line?function(){var e=P.pop();e.start&&e.start.line>a&&S(e.start.line-a)}:function(){P.pop()},parent:function(e){return P[P.length-2-(e||0)]}}}function se(e,n){e.DEFMETHOD("_codegen",n)}function fe(e,n){e.DEFMETHOD("needs_parens",n)}function ce(e){return!e.has_parens()&&gn(e)}function ue(e,n){var t=n.parent();return t instanceof gt?!(t instanceof yt):t instanceof ct?t.expression===e:t instanceof bt?t.condition===e:t instanceof pt?t.expression===e:t instanceof vt||void 0}function le(e,t,i,n){var r=e.length-1,o=n,a=E;e.forEach(function(e,n){o&&(e instanceof xn?"use asm"==e.value&&(E=!0):e instanceof kn||(e instanceof En&&e.body instanceof Yt&&i.force_semicolon(),o=!1)),e instanceof kn||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline()))}),E=a}function pe(e,n){n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}")}function de(e,n,t){0<e.body.length?n.with_block(function(){le(e.body,!1,n,t)}):pe(e,n)}function he(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function ve(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function _e(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();(e&&e.init!==this||!(e instanceof Fn||e instanceof Mn))&&t.semicolon()}}function me(e,n,t){var i=!1;t&&e.walk(new ei(function(e){return!!(i||e instanceof Nn)||(e instanceof gt&&"in"==e.operator?i=!0:void 0)})),e.print(n,i)}function ge(e,t){(e.expression instanceof ct||e.expression instanceof Pn)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}function be(e,n){var t,i=e.key;i instanceof bn?n.with_square(function(){i.print(n)}):n.option("quote_keys")?n.print_string(i):""+ +i==i&&0<=i?n.print(Ee(i)):(t=e.start&&e.start.quote,(l[i]?n.option("ie8"):!ni(i))||t&&n.option("keep_quoted_props")?n.print_string(i,t):n.print_name(i))}function ye(e){be(this,e),e.colon(),this.value.print(e)}function we(n){return function(e){e.print(n),e.space(),be(this,e),this.value._codegen(e,!0)}}function xe(e,n){n.option("braces")&&!(e instanceof ot||e instanceof at)?Te(e,n):!e||e instanceof kn?n.force_semicolon():e.print(n)}function ke(e,n){return 0<e.args.length||n.option("beautify")}function Ee(e){var n,t,i,r=e.toString(10).replace(/^0\./,".").replace("e+","e"),o=[r];return Math.floor(e)===e&&(e<0?o.push("-0x"+(-e).toString(16).toLowerCase()):o.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(r))?(t=n[0].length,i=r.slice(t),o.push(i+"e-"+(i.length+t-1))):(n=/0+$/.exec(r))?(t=n[0].length,o.push(r.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(r))&&o.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(o)}function Te(e,n){!e||e instanceof kn?n.print("{}"):e instanceof On?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function Se(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}function si(e,n){if(!(this instanceof si))return new si(e,n);oi.call(this,this.before,this.after),this.options=X(e,{arguments:!n,assignments:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_fargs:n||"strict",keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_funcs:!n,reduce_vars:!n,sequences:!n,side_effects:!n,strings:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n},!0);var t=this.options.evaluate;this.eval_threshold=/eager/.test(t)?1/0:+t;var i=this.options.global_defs;if("object"==typeof i)for(var r in i)/^@/.test(r)&&mn(i,r)&&(i[r.slice(1)]=ri(i[r],{expression:!0}));!0===this.options.inline&&(this.options.inline=3);var o=this.options.keep_fargs;this.drop_fargs="strict"==o?function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;var i=t.definition();if(i.direct_access)return!1;var r=i.escaped;return r&&1!=r.depth}:o?an:sn;var a=this.options.pure_funcs;"function"==typeof a?this.pure_funcs=a:"string"==typeof a?this.pure_funcs=function(e){return a!==e.expression.print_to_string()}:Array.isArray(a)?this.pure_funcs=function(e){return!tn(e.expression.print_to_string(),a)}:this.pure_funcs=sn;var s=this.options.sequences;this.sequences_limit=1==s?800:0|s;var f=this.options.top_retain;f instanceof RegExp?this.top_retain=function(e){return f.test(e.name)}:"function"==typeof f?this.top_retain=f:f&&("string"==typeof f&&(f=f.split(/,/)),this.top_retain=function(e){return tn(e.name,f)});var c=this.options.toplevel;this.toplevel="string"==typeof c?{funcs:/funcs/.test(c),vars:/vars/.test(c)}:{funcs:c,vars:c}}function De(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Oe(n,t,e){t[n]&&e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Ae(e){e&&("props"in e?e.props instanceof _n||(e.props=_n.fromObject(e.props)):e.props=new _n)}function $e(e){return{props:e.props.toObject()}}E=!1,bn.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),bn.DEFMETHOD("print_to_string",function(e){var n=ai(e);return this.print(n),n.get()}),fe(bn,an),fe(In,function(e){if(!e.has_parens()&&gn(e))return!0;var n;if(e.option("webkit")&&((n=e.parent())instanceof pt&&n.expression===this))return!0;if(e.option("wrap_iife")&&((n=e.parent())instanceof ct&&n.expression===this))return!0}),fe(St,ce),fe(vt,function(e){var n=e.parent();return(n instanceof ct||n instanceof pt)&&n.expression===this}),fe(lt,function(e){var n=e.parent();return n instanceof wt||n instanceof gt||n instanceof ct||n instanceof bt||n instanceof Et||n instanceof Dt||n instanceof pt&&n.expression===this||n instanceof vt||n instanceof ft}),fe(gt,function(e){var n=e.parent();if(n instanceof gt){var t=n.operator,i=ii[t],r=this.operator,o=ii[r];return o<i||i==o&&this===n.right}return n instanceof ct||n instanceof pt?n.expression===this:n instanceof vt||void 0}),fe(pt,function(e){var n=this,t=e.parent();if(t instanceof ut&&t.expression===n){for(;(n=n.expression)instanceof pt;);return"Call"==n.TYPE}}),fe(ct,function(e){var n=e.parent();if(n instanceof ut)return n.expression===this;if(e.option("webkit")){var t=e.parent(1);return this.expression instanceof In&&n instanceof pt&&n.expression===this&&t instanceof yt&&t.left===n}}),fe(ut,function(e){if(ke(this,e))return!1;var n=e.parent();return n instanceof ct?n.expression===this:n instanceof pt}),fe(Bt,function(e){var n=e.parent();if(n instanceof pt&&n.expression===this){var t=this.value;return t<0||e.option("galio")&&/^0/.test(Ee(t))}}),fe(yt,function(e){return!!ue(this,e)||(e.option("v8")?this.left instanceof xt:this.left instanceof Tt?ce(e):void 0)}),fe(bt,function(e){return ue(this,e)}),se(xn,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),se(wn,function(e){e.print("debugger"),e.semicolon()}),se(yn,function(e){this.body.print(e),e.semicolon()}),se(Hn,function(e){le(this.body,!0,e,!0),e.print("")}),se(An,function(e){this.label.print(e),e.colon(),this.body.print(e)}),se(En,function(e){this.body.print(e),e.semicolon()}),se(On,function(e){de(this,e)}),se(kn,function(e){e.semicolon()}),se(qn,function(e){var n=this;e.print("do"),e.space(),Te(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),se(jn,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),xe(n.body,e)}),se(Fn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof rt?n.init.print(e):me(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),xe(n.body,e)}),se(Mn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print("in"),e.space(),n.object.print(e)}),e.space(),xe(n.body,e)}),se(Cn,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),xe(n.body,e)}),se(Pn,function(t,e){var n=this;e||t.print("function"),n.name&&(t.space(),n.name.print(t)),t.with_parens(function(){n.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)})}),t.space(),de(n,t,!0)}),se(Ln,he("return","value")),se(Vn,he("throw","value")),se(Wn,he("break","label")),se(Jn,he("continue","label")),se(Xn,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof ot||t instanceof at)||n.option("ie8")&&t instanceof qn)return Te(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Xn){if(!t.alternative)return Te(e.body,n);t=t.alternative}else{if(!(t instanceof s))break;t=t.body}xe(e.body,n)}(n,e),e.space(),e.print("else"),e.space(),n.alternative instanceof Xn?n.alternative.print(e):xe(n.alternative,e)):xe(n.body,e)}),se(Kn,function(t){var e=this;t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?pe(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),se(Zn,function(e){e.print("default:"),ve(this,e)}),se(et,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),ve(this,e)}),se(nt,function(e){var n=this;e.print("try"),e.space(),de(n,e),n.bcatch&&(e.space(),n.bcatch.print(e)),n.bfinally&&(e.space(),n.bfinally.print(e))}),se(tt,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),de(n,e)}),se(it,function(e){e.print("finally"),e.space(),de(this,e)}),se(ot,_e("const")),se(at,_e("let")),se(st,_e("var")),se(ft,function(e){var n,t;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),t=(n=e.parent(1))instanceof Fn||n instanceof Mn,me(this.value,e,t))}),se(ct,function(e){this.expression.print(e),ge(this,e)}),se(ut,function(e){e.print("new"),e.space(),this.expression.print(e),ke(this,e)&&ge(this,e)}),se(lt,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),se(dt,function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie8")&&l[t]?(e.print("["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof Bt&&0<=n.value&&(/[xa-f.)]/i.test(e.last())||e.print(".")),e.print("."),e.add_mapping(this.end),e.print_name(t))}),se(ht,function(e){this.expression.print(e),e.print("["),this.property.print(e),e.print("]")}),se(_t,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof _t&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),se(mt,function(e){this.expression.print(e),e.print(this.operator)}),se(gt,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),se(bt,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),se(wt,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof Jt&&t.comma()}),t.space()}:on)}),se(kt,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof Jt&&t.comma()}),t.space()}:on)}),se(Et,ye),se(Tt,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):pe(this,t)}),se(St,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):pe(this,t)}),se(Ot,ye),se($t,we("get")),se(At,we("set")),se(zt,function(e){var n=this.definition();e.print_name(n&&n.mangled_name||this.name)}),se(Jt,on),se(It,function(e){e.print("this")}),se(Ut,function(e){e.print(this.value)}),se(Yt,function(e){e.print_string(this.value,this.quote)}),se(Bt,function(e){var n=this.start;E&&n&&null!=n.raw?e.print(n.raw):e.print(Ee(this.value))}),se(Lt,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}));var r=e.parent();r instanceof gt&&/^in/.test(r.operator)&&r.left===this&&e.print(" ")}),Se([bn,An],on),Se([wt,On,tt,Ut,wn,rt,xt,it,Yn,Pn,ut,St,s,zt,Kn,Qn,nt],function(e){e.add_mapping(this.start)}),Se([Et,Dt],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)}),t(si.prototype=new oi,{option:function(e){return this.options[e]},exposed:function(e){if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Hn))return!1;var n=this.toplevel;return!vn(e.orig,function(e){return n[e instanceof Nt?"funcs":"vars"]})},compress:function(e){e=e.resolve_defines(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new ei(function(){a++})),bn.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof Nn;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function h(e,n){var t,i=n.getProperty();if(!(i instanceof bn)){if(e instanceof wt){var r=e.elements;if("length"==i)return E(r.length,e);"number"==typeof i&&i in r&&(t=r[i])}else if(e instanceof Pn){if("length"==i)return e.length_read=!0,E(e.argnames.length,e)}else if(e instanceof St){i=""+i;for(var o=e.properties,a=o.length;0<=--a;){if(!(o[a]instanceof Ot))return;t||o[a].key!==i||(t=o[a].value)}}return t instanceof Rt&&t.fixed_value()||t}}function Q(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof dt&&(f=i,c=s.property,f instanceof Kt?le.Boolean[c]:f instanceof Bt?le.Number[c]:f instanceof Yt?le.String[c]:"valueOf"!=c&&(f instanceof wt?le.Array[c]:f instanceof In?le.Function[c]:f instanceof St?le.Object[c]:f instanceof Lt&&le.RegExp[c]&&!f.value.global)))){var f,c,u=fe(t,s);if(u)return u;if(s instanceof wt)return Q(e,n,s,s,r+1);if(s instanceof ct)return!o&&s.expression===t&&!s.is_expr_pure(e)&&(!(i instanceof In)||!(s instanceof ut)&&i.contains_this());if(s instanceof Mn)return s.init===t;if(s instanceof Ot){if(s.value!==t)return;var l=n.parent(r+1);return Q(e,n,l,l,r+2)}if(s instanceof pt){if(s.expression!==t)return;var p=h(i,s);return(!o||a)&&Q(e,n,s,p,r+1)}}}function Z(e){if("arguments"==e.name){var n=e.orig;return 1==n.length&&n[0]instanceof Ct}}function Y(e,n){do{if(e===n)return;if(n instanceof Nn)return 1}while(n=n.parent_scope)}function ee(e,n){var t=e.definition().orig;return(!e.in_arg||!(t[0]instanceof Ct||t[1]instanceof Ct))&&vn(t,function(e){return!(e instanceof jt||e instanceof Ft||n&&e instanceof Ht)})}function o(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof In&&t.init!==t.scope)&&t.init,t.fixed instanceof Un&&!vn(t.references,function(e){var n=e.scope.resolve();do{if(t.scope===n)return 1}while(n instanceof In&&(n=n.parent_scope.resolve()))})&&(e.defun_ids[t.id]=!1),t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function c(n,t,e){e.variables.each(function(e){o(n,t,e),null===e.fixed?(e.safe_ids=n.safe_ids,v(n,e)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,v(n,e))}),e.may_call_this=function(){e.may_call_this=on,e.contains_this()&&e.functions.each(function(e){e.init instanceof Un&&!(e.id in n.defun_ids)&&(n.defun_ids[e.id]=!1)})},t.option("ie8")&&e.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function l(n,t){if(t.id in n.defun_ids){var e=n.defun_ids[t.id];if(!e)return;var i=n.defun_visited[t.id];if(e===n.safe_ids){if(!i)return t.fixed}else i?t.init.enclosed.forEach(function(e){t.init.variables.get(e.name)!==e&&(m(n,e)||(e.fixed=!1))}):n.defun_ids[t.id]=!1}else{if(!n.in_loop)return n.defun_ids[t.id]=n.safe_ids,t.fixed;n.defun_ids[t.id]=!1}}function u(n,e){e.functions.each(function(e){e.init instanceof Un&&!n.defun_visited[e.id]&&(n.defun_ids[e.id]=n.safe_ids,e.init.walk(n))})}function p(e){e.safe_ids=Object.create(e.safe_ids)}function d(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function v(e,n){e.safe_ids[n.id]={}}function _(e,n){e.references.push(n),e.last_ref=n}function m(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(mn(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!Z(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=ne(Wt,n.orig[0]),!0)):!t.assign||t.assign===e.safe_ids):n.fixed instanceof Un}function f(e,n,t){if(t||vn(n.orig,function(e){return!(e instanceof jt)})){if(void 0===n.fixed)return t||vn(n.orig,function(e){return!(e instanceof Ft)});if(null===n.fixed&&n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,1;if(!1!==n.fixed){var i=e.safe_ids[n.id];if(!mn(e.safe_ids,n.id)){if(!i)return;if(i.read&&n.scope!==e.find_parent(Nn))return;i.assign=!(!i.assign||i.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&i.read){if(i.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return m(e,n)&&vn(n.orig,function(e){return!(e instanceof Ht)})}}}function g(e,n){var t=ne(Rt,e,e);return t.fixed=n||ne(Wt,e),t}function b(e,n,t,i,r,o,a){var s,f,c,u,l,p=e.parent(o);if(!r||!r.is_constant()){if(c=n,u=i,(l=p)instanceof yt?"="==l.operator&&l.right===u:l instanceof ct?l.expression!==u||l instanceof ut:l instanceof Bn?l.value===u&&u.scope!==c.scope:l instanceof ft&&l.value===u)return n.escaped.push(p),!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a));if(s=i,(f=p)instanceof wt||(f instanceof gt?ae[f.operator]:f instanceof bt?f.condition!==s:f instanceof lt&&f.tail_node()===s))b(e,n,t,p,p,o+1,a);else if(p instanceof Ot&&p.value===i){var d=e.parent(o+1);b(e,n,t,d,d,o+2,a)}else if(p instanceof pt&&p.expression===i&&(b(e,n,t,p,r=h(r,p),o+1,a+1),r))return;0<o||p instanceof ct&&p.expression===i||p instanceof lt&&p.tail_node()!==i||p instanceof En||p instanceof vt&&!U[p.operator]||(n.direct_access=!0)}}function y(e){var n,t;e instanceof ht&&((n=e.expression)instanceof Rt&&(Z(t=n.definition())&&e.property instanceof Bt&&(t.reassigned=!0)))}function w(n,e,r,t){var o=new ei(function(e){if(e instanceof kt){a(e);var i=r;return e.elements.forEach(function(e,n){return e instanceof Jt?a(e):(r=function(){return ne(ht,e,{expression:i(),property:ne(Bt,e,{value:n})})},void e.walk(o))}),r=i,!0}if(e instanceof Tt){a(e);i=r;return e.properties.forEach(function(t){a(t),t.key instanceof bn&&(p(n),t.key.walk(n),d(n)),r=function(){var e=t.key,n=ht;return"string"==typeof e&&(ni(e)?n=dt:e=E(e,t)),ne(n,t,{expression:i(),property:e})},t.value.walk(o)}),r=i,!0}return t(e,r),!0});e.walk(o)}var n;function a(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof Nn&&delete e._var_names}function t(e,n){var t=ne(e,this,this);return n(t,this),t}function i(e){return e(this)}function N(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}function ne(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function B(e,n){return 1==n.length?n[0]:ne(lt,e,{expressions:n.reduce(x,[])})}function E(e,n){switch(typeof e){case"string":return ne(Yt,n,{value:e});case"number":return isNaN(e)?ne(Gt,n):isFinite(e)?1/e<0?ne(_t,n,{operator:"-",expression:ne(Bt,n,{value:-e})}):ne(Bt,n,{value:e}):e<0?ne(_t,n,{operator:"-",expression:ne(Xt,n)}):ne(Xt,n);case"boolean":return ne(e?Zt:Qt,n);case"undefined":return ne(Wt,n);default:if(null===e)return ne(Vt,n,{value:null});if(e instanceof RegExp)return ne(Lt,n,{value:e});throw new Error(pn("Can't handle constant of type: {type}",{type:typeof e}))}}function H(e,n){return n instanceof pt||R(n)&&"eval"==n.name}function te(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&H(0,i):n instanceof _t&&(r="delete"==n.operator||"typeof"==n.operator&&R(i)),r?B(t,[ne(Bt,t,{value:0}),i]):i}function x(e,n){return n instanceof lt?e.push.apply(e,n.expressions):e.push(n),e}function T(e){if(null===e)return[];if(e instanceof On)return vn(e.body,function(e){return!(e instanceof ot||e instanceof at)})?e.body:[e];if(e instanceof kn)return[];if(e instanceof yn)return[e];throw new Error("Can't convert thing to statement array")}function L(e){return null===e||(e instanceof kn||e instanceof On&&0==e.body.length)}function k(e){return vn(e.body,function(e){return L(e)||e instanceof Un||e instanceof st&&vn(e.definitions,function(e){return!e.value})})}function S(e){return e instanceof $n&&e.body instanceof On?e.body:e}function ie(e){for(;e instanceof pt;)e=e.expression;return e}function P(e){return"Call"==e.TYPE&&(e.expression instanceof In||P(e.expression))}function R(e){return e instanceof Rt&&e.definition().undeclared}function re(e){return e[e instanceof yt?"right":"value"]}e(bn,function(e,n){return e}),bn.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),Nn.DEFMETHOD("process_expression",function(t,i){var r=this,o=new oi(function(e){return t&&e instanceof En?ne(Ln,e,{value:e.body}):!t&&e instanceof Ln?i?i(e):ne(En,e,{body:e.value||ne(_t,e,{operator:"void",expression:ne(Bt,e,{value:0})})}):(e instanceof Pn&&e!==r||(e instanceof Dn?0<=(n=e.body.length-1)&&(e.body[n]=e.body[n].transform(o)):e instanceof Xn?(e.body=e.body.transform(o),e.alternative&&(e.alternative=e.alternative.transform(o))):e instanceof Cn&&(e.body=e.body.transform(o))),e);var n});r.transform(o)}),(n=function(e,n){e.DEFMETHOD("reduce_vars",n)})(bn,on),n(Rn,function(e,n,t){return p(e),c(e,t,this),n(),d(e),u(e,this),!0}),n(yt,function(i,e,r){var o=this,a=o.left;if("="==o.operator&&a.equivalent_to(o.right)&&!a.has_side_effects(r))o.right.walk(i),function e(n){{var t;n instanceof dt?e(n.expression):n instanceof ht?(e(n.expression),n.property.walk(i)):n instanceof Rt?(_(t=n.definition(),n),n.fixed=t.fixed):n.walk(i)}}(a),o.__drop=!0;else{if(!(a instanceof xt||a instanceof Rt))return void y(a);if("="==o.operator)o.right.walk(i),w(i,a,function(){return o.right},function(e,n){if(!(e instanceof Rt))return y(e),void e.walk(i);var t=e.definition();t.assignments++,!Q(r,i,o,o.right,0)&&ee(e)&&f(i,t)?(_(t,e),v(i,t),t.single_use&&a instanceof xt&&(t.single_use=!1),i.loop_ids[t.id]=i.in_loop,b(i,t,e.scope,o,o.right,0,1),e.fixed=t.fixed=n,e.fixed.assigns=[o]):(e.walk(i),t.fixed=!1)});else{var n=a.definition();n.assignments++;var t=n.fixed;if(Q(r,i,o,o,0))return void(n.fixed=!1);var s=m(i,n);o.right.walk(i),s&&f(i,n)?(_(n,a),v(i,n),n.single_use&&(n.single_use=!1),a.fixed=n.fixed=function(){return ne(gt,o,{operator:o.operator.slice(0,-1),left:g(a,t),right:o.right})},a.fixed.assigns=t&&t.assigns?t.assigns.slice():[],a.fixed.assigns.push(o)):(a.walk(i),n.fixed=!1)}}return!0}),n(gt,function(e){if(ae[this.operator])return this.left.walk(e),p(e),this.right.walk(e),d(e),!0}),n(Tn,function(n,e,t){this.variables.each(function(e){o(n,t,e)})}),n(ct,function(n,e){n.find_parent(Nn).may_call_this();var t=this.expression,i=t.tail_node();if(i instanceof In)return t!==i&&t.expressions.slice(0,-1).forEach(function(e){e.walk(n)}),this.args.forEach(function(e){e.walk(n)}),i.walk(n),!0;if(i instanceof Rt){var r=i.definition();if("Call"==this.TYPE&&n.in_boolean_context()&&r.bool_fn++,!(r.fixed instanceof Un))return;var o=l(n,r);if(!o)return;return e(),o.walk(n),!0}"Call"==this.TYPE&&i instanceof yt&&"="==i.operator&&i.left instanceof Rt&&n.in_boolean_context()&&i.left.definition().bool_fn++}),n(bt,function(e){return this.condition.walk(e),p(e),this.consequent.walk(e),d(e),p(e),this.alternative.walk(e),d(e),!0}),n(Un,function(e,n,t){var i=this.name.definition().id;return e.defun_visited[i]||e.defun_ids[i]!==e.safe_ids||(e.defun_visited[i]=!0,this.inlined=!1,p(e),c(e,t,this),n(),d(e),u(e,this)),!0}),n(qn,function(e){var n=e.in_loop;return e.in_loop=this,p(e),this.body.walk(e),Fe(this,e.parent())&&(d(e),p(e)),this.condition.walk(e),d(e),e.in_loop=n,!0}),n(Fn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.init&&this.init.walk(n);var i=n.in_loop;return n.in_loop=this,p(n),this.condition&&this.condition.walk(n),this.body.walk(n),this.step&&(Fe(this,n.parent())&&(d(n),p(n)),this.step.walk(n)),d(n),n.in_loop=i,!0}),n(Mn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.object.walk(n);var i=n.in_loop;n.in_loop=this,p(n);var r=this.init;return r.walk(n),r instanceof rt?r.definitions[0].name.match_symbol(function(e){e instanceof qt&&(e.definition().fixed=!1)},!0):r instanceof Rt&&(r.definition().fixed=!1),this.body.walk(n),d(n),n.in_loop=i,!0}),n(In,function(o,e,n){var a,t,i,s,r,f=this;return f.inlined=!1,!f.name&&(a=o.parent())instanceof ct&&a.expression===f?(i=t=!1,f.walk(new ei(function(e){return t?i=!0:e instanceof Ln?t=!0:e instanceof Nn&&e!==f||void 0})),i&&p(o),c(o,n,f),s=!f.uses_arguments||o.has_directive("use strict"),f.argnames.forEach(function(i,r){var n=a.args[r];w(o,i,function(){var e=f.argnames.indexOf(i);return(e<0?n:a.args[e])||ne(Wt,a)},function(e,n){var t=e.definition();s&&void 0===t.fixed?(v(o,t),o.loop_ids[t.id]=o.in_loop,a.args[r],t.fixed=n,t.fixed.assigns=[i]):t.fixed=!1})}),Sn(f,o),r=o.safe_ids,d(o),u(o,f),i||(o.safe_ids=r)):(p(o),c(o,n,f),e(),d(o),u(o,f)),!0}),n(Xn,function(e){return this.condition.walk(e),p(e),this.body.walk(e),d(e),this.alternative&&(p(e),this.alternative.walk(e),d(e)),!0}),n(An,function(e){return p(e),this.body.walk(e),d(e),!0}),n(Kn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof Zn||(e.expression.walk(n),i&&(i=!1,p(n)))}),i||d(n),Sn(this,n),!0}),n(Qn,function(e){return p(e),Sn(this,e),d(e),!0}),n(Pt,function(){this.definition().fixed=!1}),n(Rt,function(e,n,t){var i,r,o,a,s,f,c,u=this.definition();_(u,this),1==u.references.length&&!u.fixed&&u.orig[0]instanceof Nt&&(e.loop_ids[u.id]=e.in_loop),!1===u.fixed?(i=u.redefined())&&Y(u.scope,this.scope)&&(i.single_use=!1):void 0!==u.fixed&&m(e,u)?u.fixed&&(this.in_arg&&u.orig[0]instanceof Ht&&(this.fixed=u.scope),r=this.fixed_value(),(o=Xe(e,u))?u.recursive_refs++:r&&(s=u,t.option("unused")&&!s.scope.pinned()&&!1!==s.single_use&&s.references.length-s.recursive_refs==1)?(u.in_loop=e.loop_ids[u.id]!==e.in_loop,u.single_use=r instanceof Pn&&!r.pinned()&&(!u.in_loop||e.parent()instanceof ct)||!u.in_loop&&u.scope===this.scope.resolve()&&r.is_constant_expression()):u.single_use=!1,Q(t,e,this,r,0,!!(a=r)&&(a.is_constant()||a instanceof Pn||a instanceof It),o)&&(u.single_use?u.single_use="m":u.fixed=!1),u.fixed&&e.loop_ids[u.id]!==e.in_loop&&(u.cross_loop=!0),b(e,u,this.scope,this,r,0,1)):u.fixed=!1,this.fixed||(this.fixed=u.fixed),!(u.fixed instanceof Un)||(f=e.parent())instanceof ct&&f.expression===this||(c=l(e,u))&&c.walk(e)}),n(Hn,function(n,e,t){return this.globals.each(function(e){o(n,t,e)}),p(n),c(n,t,this),e(),d(n),u(n,this),!0}),n(nt,function(n,e,t){return this.variables.each(function(e){o(n,t,e)}),p(n),Sn(this,n),d(n),this.bcatch&&(p(n),this.bcatch.walk(n),d(n)),this.bfinally&&this.bfinally.walk(n),!0}),n(vt,function(e,n){var t=this;if(se[t.operator]){var i=t.expression;if(i instanceof Rt){var r=i.definition();r.assignments++;var o=r.fixed;return m(e,r)&&f(e,r)?(_(r,i),v(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return ne(gt,t,{operator:t.operator.slice(0,-1),left:ne(_t,t,{operator:"+",expression:g(i,o)}),right:ne(Bt,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof _t?i.fixed=r.fixed:(i.fixed=function(){return ne(_t,t,{operator:"+",expression:g(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}y(i)}}),n(ft,function(i){var r=this;if(r.value)return r.value.walk(i),w(i,r.name,function(){return r.value},function(e,n){var t=e.definition();f(i,t,!0)?(v(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof jt&&t.redefined()||!ee(e)&&!Ne(t))&&(t.single_use=!1)):t.fixed=!1}),!0}),n(jn,function(e,n){var t=e.in_loop;return e.in_loop=this,p(e),n(),d(e),e.in_loop=t,!0}),Hn.DEFMETHOD("reset_opt_flags",function(t){var i=new ei(t.option("reduce_vars")?function(e,n){return a(e),e.reduce_vars(i,n,t)}:a);i.defun_ids=Object.create(null),i.defun_visited=Object.create(null),i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),this.walk(i)}),zt.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return e?(this.fixed&&(e=this.fixed),e instanceof bn?e:e()):e}),Rt.DEFMETHOD("is_immutable",function(){var e=this.definition();if(1!=e.orig.length)return!1;var n=e.orig[0];return n instanceof Ht&&e.scope.name===n}),bn.DEFMETHOD("convert_symbol",on),xt.DEFMETHOD("convert_symbol",function(t,i){return this.transform(new oi(function(e,n){return e instanceof xt?(n(e=e.clone(),this),e):e instanceof Et?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}),qt.DEFMETHOD("convert_symbol",t),Rt.DEFMETHOD("convert_symbol",t),xt.DEFMETHOD("mark_symbol",function(n,t){var i=new ei(function(e){return e instanceof Et?(e.key instanceof bn&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}),qt.DEFMETHOD("mark_symbol",i),Rt.DEFMETHOD("mark_symbol",i),bn.DEFMETHOD("match_symbol",function(e){return e(this)}),xt.DEFMETHOD("match_symbol",function(n,t){var i=!1,r=new ei(function(e){return!!i||(e instanceof Et?!t&&e.key instanceof bn?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i});var r=hn("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");Rt.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&r[this.name]});var s,D,O,A,oe=hn("Infinity NaN undefined");function $(e){return vn(e.definitions,function(e){return!e.value})}function z(e){return e instanceof Un||e instanceof st&&$(e)}function q(e,c){var W,J,X;!function(){var e=c.self(),n=0;do{if(e instanceof tt)c.parent(n).bfinally||n++;else if(e instanceof it)n++;else if(e instanceof $n)W=!0;else{if(e instanceof Nn){X=e;break}e instanceof nt&&(J=J||e)}}while(e=c.parent(n++))}();for(var K,n=10;K=!1,function e(n){var t=[];for(var i=0;i<n.length;){var r=n[i];if(r instanceof On&&vn(r.body,function(e){return!(e instanceof ot||e instanceof at)}))K=!0,e(r.body),[].splice.apply(n,[i,1].concat(r.body)),i+=r.body.length;else{if(r instanceof xn){if(tn(r.value,t)){K=!0,n.splice(i,1);continue}t.push(r.value)}r instanceof kn?(K=!0,n.splice(i,1)):i++}}}(e),c.option("dead_code")&&function(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(f instanceof Gn?(s=t.loopcontrol_target(f),f instanceof Wn&&!(s instanceof $n)&&S(s)===i||f instanceof Jn&&S(s)===i?f.label&&dn(f.label.thedef.references,f):n[o++]=f):n[o++]=f,ke(f)){e=n.slice(r+1);break}}n.length=o,K=o!=a,e&&e.forEach(function(e){j(t,e,n)})}(e,c),c.option("if_return")&&function(t,r){for(var o=r.self(),e=r.parent(),i=g(function(e){return e instanceof Pn}),n=i&&e&&"Call"==e.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof Xn&&i.body instanceof Ln&&1<++n)return!0}return!1}(t),s=t.length;0<=--s;){var f=t[s],c=k(s),u=t[c];if(i&&!u&&f instanceof Ln){if(!f.value){K=!0,t.splice(s,1);continue}if(f.value instanceof _t&&"void"==f.value.operator){K=!0,t[s]=ne(En,f,{body:f.value.expression});continue}}if(f instanceof Xn){var l=ke(f.body);if(y(l)){l.label&&dn(l.label.thedef.references,l),K=!0,(f=f.clone()).condition=f.condition.negate(r);var p=x(f.body,l);f.body=ne(On,f,{body:T(f.alternative).concat(w())}),f.alternative=ne(On,f,{body:p}),t[s]=f,t[s]=f.transform(r);continue}if(l&&!f.alternative&&f.body instanceof On&&u instanceof Yn){var d=f.condition.negate(r);if(d.print_to_string().length<=f.condition.print_to_string().length){K=!0,(f=f.clone()).condition=d,t[c]=f.body,f.body=u,t[s]=f,t[s]=f.transform(r);continue}}var h=ke(f.alternative);if(y(h)){h.label&&dn(h.label.thedef.references,h),K=!0,(f=f.clone()).body=ne(On,f.body,{body:T(f.body).concat(w())});p=x(f.alternative,h);f.alternative=ne(On,f.alternative,{body:p}),t[s]=f,t[s]=f.transform(r);continue}r.option("typeofs")&&(l&&!h&&Me(f.condition,null,ne(On,o,{body:t.slice(s+1)})),!l&&h&&Me(f.condition,ne(On,o,{body:t.slice(s+1)})))}if(f instanceof Xn&&f.body instanceof Ln){var v=f.body.value,_=f.body.in_bool||u instanceof Ln&&u.in_bool;if(!v&&!f.alternative&&(i&&!u||u instanceof Ln&&!u.value)){K=!0,t[s]=ne(En,f.condition,{body:f.condition});continue}if(!f.alternative&&u instanceof Ln){K=!0,(f=f.clone()).alternative=u,t.splice(s,1,f.transform(r)),t.splice(c,1);continue}if(!f.alternative&&!u&&i&&(_||v&&a)){K=!0,(f=f.clone()).alternative=ne(Ln,f,{value:null}),t.splice(s,1,f.transform(r));continue}var m=t[function(e){for(var n=e;0<=--n&&z(t[n]););return n}(s)];if(r.option("sequences")&&i&&!f.alternative&&(!m&&n||m instanceof Xn&&m.body instanceof Ln)&&k(c)==t.length&&u instanceof En){K=!0,(f=f.clone()).alternative=ne(On,u,{body:[u,ne(Ln,u,{value:null})]}),t.splice(s,1,f.transform(r)),t.splice(c,1);continue}}}function g(e){var n,t=o,i=0;do{do{if(e(t))return!0;t=r.parent(i++)}while(t instanceof Xn&&(n=t))}while((t instanceof On||t instanceof Nn)&&function(e,n){var t=e.lastIndexOf(n);if(!(t<0)){for(;++t<e.length;)if(!z(e[t]))return;return 1}}(t.body,n))}function b(n){return g(function(e){return e===n})}function y(e){if(e instanceof Ln)return i&&(!(n=e.value)||n instanceof _t&&"void"==n.operator);var n;if(e instanceof Gn){var t=r.loopcontrol_target(e);if(e instanceof Jn)return b(S(t));if(!(t instanceof $n))return b(t)}}function w(){var e=t.slice(s+1);return t.length=s+1,e.filter(function(e){return!(e instanceof Un)||(t.push(e),!1)})}function x(e,n){for(var t,i=T(e),r=i;(t=r[r.length-1])!==n;)r=t.body;return r.pop(),n.value&&i.push(ne(En,n.value,{body:n.value.expression})),i}function k(e){for(var n=e+1;n<t.length&&z(t[n]);n++);return n}}(e,c),0<c.sequences_limit&&(function(n,e){if(n.length<2)return;var t=[],i=0;function r(){var e;t.length&&(e=B(t[0],t),n[i++]=ne(En,e,{body:e}),t=[])}for(var o=0,a=n.length;o<a;o++){var s,f=n[o];f instanceof En?(t.length>=e.sequences_limit&&r(),s=f.body,0<t.length&&(s=s.drop_side_effect_free(e)),s&&x(t,s)):(z(f)||r(),n[i++]=f)}r(),(n.length=i)!=a&&(K=!0)}(e,c),function(e,n){function t(e){r--,K=!0;var n=i.body;return B(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var a,s=e[o];if(i&&(s instanceof Bn?s.value=t(s.value||ne(Wt,s)).transform(n):s instanceof Fn?s.init instanceof rt||(a=!1,i.body.walk(new ei(function(e){return!!(a||e instanceof Nn)||(e instanceof gt&&"in"==e.operator?a=!0:void 0)})),a||(s.init?s.init=t(s.init):(s.init=i.body,r--,K=!0))):s instanceof Mn?s.object=t(s.object):s instanceof Xn?s.condition=t(s.condition):(s instanceof Kn||s instanceof Cn)&&(s.expression=t(s.expression))),n.option("conditionals")&&s instanceof Xn){var f=[],c=p(s.body,f),u=p(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(ne(Xn,s,{condition:s.condition,body:c||ne(kn,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,K=!(i=null);continue}}e[r++]=s,i=s instanceof En?s:null}e.length=r}(e,c)),c.option("join_vars")&&function(e){for(var r,n=0,t=-1;n<e.length;n++){var i,o,a=e[n],s=e[t];if(a instanceof rt)s&&s.TYPE==a.TYPE?(s.definitions=s.definitions.concat(a.definitions),K=!0):r&&r.TYPE==a.TYPE&&$(a)?(r.definitions=r.definitions.concat(a.definitions),K=!0):(e[++t]=a)instanceof st&&(r=a);else{if(a instanceof Bn)a.value=f(a.value);else if(a instanceof Fn){if(o=u(s,a.init))K=!0,a.init=o.length?B(a.init,o):null;else{if(s instanceof st&&(!a.init||a.init.TYPE==s.TYPE)){a.init&&(s.definitions=s.definitions.concat(a.init.definitions)),r=a.init=s,e[t]=c(a),K=!0;continue}r&&a.init&&r.TYPE==a.init.TYPE&&$(a.init)?(r.definitions=r.definitions.concat(a.init.definitions),a.init=null,K=!0):a.init instanceof st&&(r=a.init)}}else if(a instanceof Mn){r&&r.TYPE==a.init.TYPE&&(i=r.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Rt,function(e,n){i.push(ne(ft,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,K=!0),a.object=f(a.object)}else if(a instanceof Xn)a.condition=f(a.condition);else if(a instanceof En){if(o=u(s,a.body)){if(K=!0,!o.length)continue;a.body=B(a.body,o)}}else(a instanceof Kn||a instanceof Cn)&&(a.expression=f(a.expression));e[++t]=r?c(a):a}}function f(e){var n=u(s,e,1);if(!n)return e;K=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),B(e,n)}function c(e){return e.transform(new oi(function(e,n,t){if(e instanceof rt){if(r===e)return e;if(r.TYPE!=e.TYPE)return e;var i=this.parent();return i instanceof Mn&&i.init===e?e:$(e)?(r.definitions=r.definitions.concat(e.definitions),K=!0,i instanceof Fn&&i.init===e?null:t?un.skip:ne(kn,e)):e}return!(e instanceof Nn)&&e instanceof yn?void 0:e}))}e.length=t+1}(e),c.option("collapse_vars")&&function(o,u){if(X.pinned())return;var f,t,a=Object.create(null),c=[],s=Object.create(null),l=o.length,p=new oi(function(e,n){if(q)return e;if(!z)return e!==d[h]?e:++h<d.length?N(e,p):(z=!0,(m=(_?function e(n,t){var i=p.parent(t);if(i instanceof wt)return e(i,t+1);if(i instanceof yt)return A(i)||i.left.match_symbol(function(e){return e instanceof Rt&&(b.name==e.name||_.name==e.name)})?n:e(i,t+1);if(i instanceof gt){if(ae[i.operator]&&i.left!==n){for(;n=i,(i=p.parent(++t))instanceof gt&&i.operator==n.operator;);return n}return e(i,t+1)}if(i instanceof ct)return i;if(i instanceof et)return i.expression!==n?n:e(i,t+1);if(i instanceof bt)return i.condition!==n?n:e(i,t+1);if(i instanceof rt)return I(i,t+1);if(i instanceof qn)return n;if(i instanceof Bn)return I(i,t+1);if(i instanceof Fn)return i.init!==n&&i.condition!==n?n:e(i,t+1);if(i instanceof Mn)return i.init!==n?n:e(i,t+1);if(i instanceof Xn)return i.condition!==n?n:e(i,t+1);if(i instanceof Dt){var r=p.parent(t+1);return vn(r.properties,function(e){return e instanceof Ot})?e(r,t+2):r}if(i instanceof pt)return e(i,t+1);if(i instanceof lt)return(i.tail_node()===n?e:I)(i,t+1);if(i instanceof En)return I(i,t+1);if(i instanceof Kn)return i.expression!==n?n:e(i,t+1);if(i instanceof vt)return"delete"==i.operator?n:e(i,t+1);if(i instanceof ft)return i.name.match_symbol(function(e){return e instanceof qt&&(b.name==e.name||_.name==e.name)})?n:e(i,t+1);if(i instanceof jn)return i.condition!==n?n:e(i,t+1);return null}:function e(n,t){var i=p.parent(t);if(i instanceof wt)return n;if(i instanceof yt)return n;if(i instanceof gt)return n;if(i instanceof ct)return n;if(i instanceof et)return n;if(i instanceof bt)return n;if(i instanceof rt)return I(i,t+1);if(i instanceof Bn)return n;if(i instanceof Xn)return n;if(i instanceof $n)return n;if(i instanceof Dt)return n;if(i instanceof pt)return n;if(i instanceof lt)return(i.tail_node()===n?e:I)(i,t+1);if(i instanceof En)return I(i,t+1);if(i instanceof Kn)return n;if(i instanceof vt)return n;if(i instanceof ft)return n;return null})(e,0))===e&&(q=!0),e);var t,i=p.parent();if(function(e,n){if(e===D)return!0;if(n instanceof Fn)return e!==n.init;if(e instanceof yt)return"="!=e.operator&&b.equivalent_to(e.left);if(e instanceof ct)return b instanceof pt&&(!!b.equivalent_to(e.expression)&&!(D instanceof In&&!D.contains_this()));if(e instanceof wn)return!0;if(e instanceof Un)return $&&b.name===e.name.name;if(e instanceof xt)return n instanceof yt;if(e instanceof Et)return e.key instanceof bn;if(e instanceof zn)return!0;if(e instanceof Gn)return!0;if(e instanceof Rt){if(e.is_declared(u)){if(e.fixed_value()||ee(e))return!1}else if(n instanceof yt&&"="==n.operator&&n.left===e)return!1;return O?x=!1:!0}return e instanceof nt||e instanceof Cn}(e,i))return q=!0,e;if(!g&&H(e,i)&&(g=i),e.single_use&&i instanceof ft&&i.value===e)return e;if(!(e instanceof qt)&&(w&&b.equivalent_to(e)||x&&(t=x(e,this)))){if(!M||g&&(t||!S||!O))return t&&_||(q=!0),e;if(fe(e,i))return _&&!t&&(F=!0,j++),e;if(_)return t||j++,e;if(j++,K=q=!0,bn.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),v instanceof mt)return b instanceof Rt&&(b.definition().fixed=!1),ne(_t,v,v);if(v instanceof ft){var r=v.name.definition();return r.references.length-r.replaced!=1||u.exposed(r)?ne(yt,v,{operator:"=",left:ne(Rt,v.name,v.name),right:v.value}):(r.replaced++,te(0,i,e,v.value))}return v.write_only=!1,v}if((P(e,i)||A(e))&&(m=e)instanceof Nn&&(q=!0),e instanceof Rn){var o=M;return M=!1,n(e,p),M=o,e}return N(e,p)},function(e){q||(m===e&&(q=!0),g===e&&(g=null))}),i=new oi(function(e){if(q)return e;if(!z){if(e!==d[h])return e;switch(h++,d.length-h){case 0:if(z=!0,F)return e;if(e instanceof ft)return e;r.replaced++;var n=i.parent();return n instanceof lt&&n.tail_node()!==e?(_.replaced++,un.skip):D;case 1:if(!F&&e.body===v)return z=!0,r.replaced++,_.replaced++,null;default:return}}if(e instanceof Rt&&e.name==r.name){if(--j||(q=!0),fe(e,i.parent()))return e;r.replaced++;var t=D.clone();return _.references.push(t),t}return e instanceof Zn||e instanceof Nn?e:void 0},B);for(;0<=--l;){0==l&&u.option("unused")&&function(){var e,t=u.self();if(t instanceof In&&!t.name&&!t.uses_arguments&&!t.pinned()&&(e=u.parent())instanceof ct&&e.expression===t){var i=u.has_directive("use strict");i&&!tn(i,t.body)&&(i=!1);var n=t.argnames.length;f=e.args.slice(n);for(var r=Object.create(null),o=n;0<=--o;){var a=t.argnames[o],s=e.args[o];if(f.unshift(ne(ft,a,{name:a,value:s})),a instanceof xt){if(!a.match_symbol(an))continue;c.length=0;break}a.name in r||(r[a.name]=!0,s?s instanceof Pn&&s.pinned()?s=null:s.walk(new ei(function(e){if(!s)return!0;if(e instanceof Rt&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==X)for(;n=n.parent_scope;)if(n===X)return!0;s=null}return e instanceof It&&(i||!this.find_parent(Nn))?!(s=null):void 0})):s=ne(Wt,a).transform(u),s&&c.unshift([ne(ft,a,{name:a,value:s})]))}}}();var d=[];for(R(o[l]);0<c.length;){d=c.pop();var h=0,v=d[d.length-1],_=null,m=null,g=null,b=function(e){{if(!(e instanceof ft)){if(e instanceof yt){var n=e.left;return"="==e.operator&&n instanceof Rt&&(t=n.definition()).references[0]===n&&!u.exposed(t)&&1<(r=t.references.length-t.replaced)&&U(e.right),n}return e.expression}var t;if((t=e.name.definition()).const_redefs)return;if(!tn(e.name,t.orig))return;var i=t.orig.length-t.eliminated-(s[t.name]||0),r=t.references.length-t.replaced-(a[t.name]||0);if(1<i&&!(e.name instanceof Ct))return U(e.value),ne(Rt,e.name,e.name);if(U(e.value)||1==r&&!u.exposed(t))return ne(Rt,e.name,e.name)}}(v),y=b&&b.has_side_effects(u),w=b&&!y&&!function e(n,t){if(n instanceof It)return!0;if(n instanceof Rt){var i=n.definition();return i.lambda||t.exposed(i)&&oe[i.name]}if(n instanceof pt){if((n=n.expression)instanceof Rt){if(n.is_immutable())return!1;n=n.fixed_value()}return!n||(!!n.is_constant()||e(n,t))}return!1}(b,u),x=function(n){if(n instanceof yt&&n.right.single_use)return;var t,i=Object.create(null),e=new ei(function(e){e instanceof Rt&&(i[e.definition().id]=!0)});for(;n instanceof yt&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Rt){var r=n.evaluate(u);return r===n?o:Y(r,o)}if(n instanceof It)return o;if(n.is_truthy())return Y(!0,an);if(n.is_constant())return Y(n.evaluate(u),o);return b instanceof Rt&&(!!function e(n){if(n instanceof wt)return!1;if(n instanceof gt&&ae[n.operator])return e(n.left)&&e(n.right);if(n instanceof ct)return!1;if(n instanceof bt)return e(n.consequent)&&e(n.alternative);if(n instanceof St)return!1;return!n.has_side_effects(u)}(n)&&(n.walk(new ei(function(e){if(t)return!0;e instanceof Rt&&i[e.definition().id]&&(t=!0)})),!t&&o));function o(e){return n.equivalent_to(e)}}(v);if(w||x){var k=!1,E=!1,T=function(i){var r=new _n;i instanceof ft&&r.add(i.name.name,b);var o=X.uses_arguments&&!u.has_directive("use strict"),a=X instanceof Hn,s=new ei(function(e){var n;if(e instanceof Rt?n=e.fixed_value()||e:e instanceof It&&(n=e),n&&r.add(e.name,Q(u,s,e,n,0)),o&&e instanceof ht&&(X.each_argname(function(e){u.option("reduce_vars")&&!e.definition().assignments||r.add(e.name,!0)}),o=!1),a)if("Call"==e.TYPE){if(E)return;var t=e.expression;if(t instanceof pt)return;if(t instanceof In&&!t.contains_this())return;E=!0}else e instanceof pt&&function e(n){if(n instanceof Rt&&!(n=n.fixed_value()))return!0;if(n instanceof yt)return"="==n.operator&&e(n.right);return n instanceof pt||n instanceof It}(e.expression)&&(e!==b||i instanceof vt?k=!0:E=!0)});return i.walk(s),r}(v),S=function(e){var n=ie(e);return n instanceof Rt&&n.definition().scope===X&&!(W&&(T.has(n.name)&&T.get(n.name)[0]!==e||v instanceof vt||v instanceof yt&&"="!=v.operator))}(b),D=re(v);y=y||!(v instanceof vt)&&D.has_side_effects(u);var O=function(e){if(e instanceof vt)return!1;if(y)return!1;if(_)return!0;if(!(b instanceof Rt))return!1;var n;if(e instanceof ft)n=1;else{if("="!=e.operator)return!1;n=2}var t=b.definition();return t.references.length-t.replaced==n}(v),A=v.may_throw(u)?J?function(e){return e.has_side_effects(u)}:G:an,$=v.name instanceof Ct,z=$,q=!1,j=0,F=!1,M=!f||!z;if(!M){for(var e=u.self().argnames.lastIndexOf(v.name)+1;!q&&e<f.length;e++)f[e].transform(p);M=!0}for(var n=l;!q&&n<o.length;n++)o[n].transform(p);if(_){var r=b.definition(),C=r.references.length-r.replaced;if(v instanceof yt&&C--,!j||C!=j){c.push(d),t=!0;continue}if(q=!1,j){h=0,z=$;for(n=l;!q&&n<o.length;n++)o[n].transform(i)||o.splice(n--,1);v instanceof ft&&(j=!u.exposed(r)&&r.references.length==r.replaced),_.single_use=!1}}j&&!function(e){if(e.name instanceof Ct){var n=u.self().argnames.indexOf(e.name),t=u.parent().args;return t[n]&&(t[n]=ne(Bt,t[n],{value:0}),e.name.definition().fixed=!1),!0}var i=d.length-1;d[i-1].body===d[i]&&i--;var r=new oi(function(e,n,t){return z||e!==d[h]?e:++h<=i?N(e,r):(z=!0,e instanceof ft?(e.value=null,s[e.name.name]=(s[e.name.name]||0)+1,_&&_.replaced++,e):t?un.skip:null)},B);return z=q=!1,h=0,o[l].transform(r)}(v)&&o.splice(l,1)}}}function N(e,n){if(e instanceof Tn){if(e instanceof Nn)return e;if(!e.variables||!e.variables.all(function(e){return!T.has(e.name)}))return q=!0,e;if(e instanceof Mn)return e.object=e.object.transform(n),q=!0,e;if(e instanceof Kn){e.expression=e.expression.transform(n);for(var t=0;!q&&t<e.body.length;t++){var i=e.body[t];if(i instanceof et){if(!z){if(i!==d[h])continue;h++}if(i.expression=i.expression.transform(n),!O)break;x=!1}}return q=!0,e}}}function H(e,n){return n instanceof gt?ae[n.operator]&&n.left!==e:n instanceof et?n.expression!==e:(n instanceof bt||n instanceof Xn)&&n.condition!==e}function P(e,n){if("Binary"==e.TYPE)return"in"==e.operator&&!We(e.right);if(e instanceof ct){var t=e.expression;if(t instanceof Rt&&(f=t.definition(),t=t.fixed_value()),!(t instanceof Pn))return 1;if(f&&Xe(u,f))return 1;if(!vn(t.argnames,function(e){return!(e instanceof xt)}))return 1;if(t.collapse_scanning)return;t.collapse_scanning=!0;var i=M;M=!1;for(var r=m,o=g,a=0;!q&&a<t.body.length;a++){var s=t.body[a];if(s instanceof Ln){s.value&&s.value.transform(p);break}s.transform(p)}return(g=o,m=r,M=i,delete t.collapse_scanning,q)?(q=!1,1):void 0}if(e instanceof Bn){if(J){if(J.bfinally)return 1;if(J.bcatch&&e instanceof Vn)return 1}return y||b instanceof pt||V(b)}if(e instanceof In)return u.option("ie8")&&e.name&&T.has(e.name.name);if(e instanceof pt)return y||!_&&e.expression.may_throw_on_access(u);if(e instanceof Rt){if(L(e))return!(n instanceof yt&&"="==n.operator&&n.left===e);if(y&&V(e))return 1;var f=e.definition();return(J||f.scope.resolve()!==X)&&!ee(e)}if(e instanceof It)return L(e);if(e instanceof ft)return(J||!S)&&e.name instanceof xt||(e.value||n instanceof at)&&e.name.match_symbol(function(e){return e instanceof qt&&(T.has(e.name)||y&&V(e))});var c=fe(e.left,e);return c&&(c instanceof pt||((J||!S)&&c instanceof xt||c.match_symbol(function(e){return e instanceof Rt&&(T.has(e.name)||k&&u.exposed(e.definition()))})))}function R(e){var n;d.push(e),e instanceof wt?e.elements.forEach(R):e instanceof yt?(e.left instanceof xt||c.push(d.slice()),R(e.left),R(e.right),e.left instanceof Rt&&(a[e.left.name]=(a[e.left.name]||0)+1)):e instanceof gt?(R(e.left),R(e.right)):e instanceof ct?(R(e.expression),e.args.forEach(R)):e instanceof et?R(e.expression):e instanceof bt?(R(e.condition),R(e.consequent),R(e.alternative)):e instanceof rt?e.definitions.forEach(R):e instanceof dt?R(e.expression):e instanceof zn?(R(e.condition),e.body instanceof Dn||R(e.body)):e instanceof Bn?e.value&&R(e.value):e instanceof Fn?(e.init&&R(e.init),e.condition&&R(e.condition),e.step&&R(e.step),e.body instanceof Dn||R(e.body)):e instanceof Mn?(R(e.object),e.body instanceof Dn||R(e.body)):e instanceof Xn?(R(e.condition),e.body instanceof Dn||R(e.body),!e.alternative||e.alternative instanceof Dn||R(e.alternative)):e instanceof St?e.properties.forEach(function(e){d.push(e),e.key instanceof bn&&R(e.key),e instanceof Ot&&R(e.value),d.pop()}):e instanceof lt?e.expressions.forEach(R):e instanceof En?R(e.body):e instanceof ht?(R(e.expression),R(e.property)):e instanceof Kn?(R(e.expression),e.body.forEach(R)):e instanceof vt?se[e.operator]?c.push(d.slice()):R(e.expression):e instanceof ft&&(e.name instanceof Mt&&(e.value?(n=e.name.definition()).references.length>n.replaced&&c.push(d.slice()):s[e.name.name]=(s[e.name.name]||0)+1),e.value&&R(e.value)),d.pop()}function I(e,n){var t=p.parent(n);if(P(e,t))return e;if(H(e,t))return e;if(t instanceof wt)return I(t,n+1);if(t instanceof yt)return A(t)?e:I(t,n+1);if(t instanceof gt)return I(t,n+1);if(t instanceof ct)return I(t,n+1);if(t instanceof et)return I(t,n+1);if(t instanceof bt)return I(t,n+1);if(t instanceof rt)return I(t,n+1);if(t instanceof Bn)return I(t,n+1);if(t instanceof Xn)return I(t,n+1);if(t instanceof $n)return e;if(t instanceof Dt){var i=p.parent(n+1);return vn(i.properties,function(e){return e instanceof Ot})?I(i,n+2):i}if(t instanceof pt){var r=t.expression;if(r===e)return I(t,n+1);var o=ie(r);if(!(o instanceof Rt))return I(t,n+1);var a=T.get(o.name);return!a||vn(a,function(e){return!(e instanceof pt)})?I(t,n+1):e}return t instanceof lt||t instanceof En||t instanceof Kn||t instanceof vt?I(t,n+1):t instanceof ft?A(t)?e:I(t,n+1):null}function U(e){if(t)t=!1;else if(e instanceof Rt){var n=e.definition();if(!n.undeclared&&!Z(n))return _=n}}function Y(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(u))return!0;if(e.is_constant())return!e.evaluate(u)==!t}return i(e)}}function B(e){if(e instanceof lt)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}function L(e){var n=T.get(e.name);if(n&&!vn(n,function(e){return!e}))return n[0]!==b||void(x=!1)}function V(e){var n=e.definition();return!(1==n.orig.length&&n.orig[0]instanceof Nt)&&(n.scope!==X||(!(!E||!u.exposed(n))||!vn(n.references,function(e){return e.scope.resolve()===X})))}function G(e,n){if(e instanceof yt)return G(e.left,!0);if(e instanceof vt)return G(e.expression,!0);if(e instanceof ft)return e.value&&G(e.value);if(n){if(e instanceof dt)return G(e.expression,!0);if(e instanceof ht)return G(e.expression,!0);if(e instanceof Rt)return e.definition().scope!==X}return!1}}(e,c),K&&0<n--;);return e;function p(e,n){if(!(e instanceof On))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof st&&$(r))n.push(r);else{if(t||r instanceof ot||r instanceof at)return!1;t=r}}return t}function u(e,n,t){var i;if(n instanceof yt?i=[n]:n instanceof lt&&(i=n.expressions.slice()),i){for(var r=!1,o=i.length-1;0<=--o;){var a,s=i[o];s instanceof yt&&"="==s.operator&&s.left instanceof Rt&&(a=i.slice(o+1),l(s.left,s.right,a)&&(r=!0,i=i.slice(0,o+1).concat(a)))}if(e instanceof rt){t=t||0;for(o=e.definitions.length;0<=--o;){var f=e.definitions[o];if(f.value){l(f.name,f.value,i)&&(r=!0),function(e,n,t){if(!c.option("conditionals"))return;if(e.name instanceof xt)return;var i=!1,r=e.name.definition();for(;n.length>t;){var o=Ye(c,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}(f,i,t)&&(r=!0);break}}e instanceof st&&function(e,n,t){var i=!1;for(;n.length>t;){var r=n[0];if(!(r instanceof yt))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Rt))break;if(R(o))break;if(o.scope.resolve()!==X)break;var a=o.definition();if(a.scope!==X)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;var s=ne(Mt,o,o);e.push(ne(ft,r,{name:s,value:r.right})),a.orig.push(s),a.replaced++,n.shift(),i=!0}return i}(e.definitions,i,t)&&(r=!0)}return r&&i}}function l(e,n,t){if(n instanceof St){var i=!1;do{var r=t[0];if(!(r instanceof yt))break;if("="!=r.operator)break;if(!(r.left instanceof pt))break;var o=r.left.expression;if(!(o instanceof Rt))break;if(e.name!=o.name)break;if(!r.right.is_constant_expression(X))break;var a=r.left.property;if(a instanceof bn&&(a=a.evaluate(c)),a instanceof bn)break;var s="__proto__"==(a=""+a)||c.has_directive("use strict")?function(e){return"string"==typeof e.key&&e.key!=a}:function(e){return!(e instanceof $t||e instanceof At)||"string"==typeof e.key&&e.key!=a};if(!vn(n.properties,s))break;n.properties.push(ne(Ot,r,{key:a,value:r.right})),t.shift(),i=!0}while(t.length);return i}}}function j(r,o,a){var s;function f(e){s?(s.push(e),(e instanceof ot||e instanceof at)&&(s.required=!0)):a.push(e)}o instanceof rt||o instanceof Un||bn.warn("Dropping unreachable code [{file}:{line},{col}]",o.start),o.walk(new ei(function(e,n){if(e instanceof rt){var t=[];return e.remove_initializers(r,t)&&bn.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",e.start),0<t.length&&(e.definitions=t,f(e)),!0}if(e instanceof Un)return f(e),!0;if(e instanceof Nn)return!0;if(e instanceof Tn){var i=s;return s=[],n(),s.required?a.push(ne(On,o,{body:s})):s.length&&[].push.apply(a,s),s=i,!0}}))}function F(e,n){return e.is_undefined||e instanceof Wt||e instanceof _t&&"void"==e.operator&&!e.expression.has_side_effects(n)}function M(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Ut)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":return!0;default:return!1}}function C(e){return/strict/.test(e.option("pure_getters"))}(s=function(e,n){e.DEFMETHOD("is_truthy",n)})(bn,an),s(wt,sn),s(yt,function(){return"="==this.operator&&this.right.is_truthy()}),s(Pn,sn),s(St,sn),s(Lt,sn),s(lt,function(){return this.tail_node().is_truthy()}),s(Rt,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=an;var n=e.is_truthy();return delete this.is_truthy,n}),(D=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(bn,sn),D(wt,an),D(yt,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():M(e.slice(0,-1),this.left,this.right)}),D(gt,function(){return M(this.operator,this.left,this.right)}),D(Ut,function(){return 0==this.value&&1/this.value<0}),D(Pn,an),D(St,an),D(Lt,an),D(lt,function(){return this.tail_node().is_negative_zero()}),D(Rt,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=sn;var n=e.is_negative_zero();return delete this.is_negative_zero,n}),D(_t,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),O=function(e,n){e.DEFMETHOD("_dot_throw",n)},bn.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),O(bn,C),O(wt,an),O(yt,function(e){if("="!=this.operator)return!1;var n=this.right;if(!n._dot_throw(e))return!1;var t=this.left;return!(t instanceof Rt)||(!(n instanceof gt&&"||"==n.operator&&t.name==n.left.name)||n.right._dot_throw(e))}),O(gt,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e)||this.right._dot_throw(e);case"||":return this.right._dot_throw(e);default:return!1}}),O(bt,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),O(Ut,an),O(dt,function(e){if(!C(e))return!1;var n=this.expression;return n instanceof Rt&&(n=n.fixed_value()),!(n instanceof Pn&&"prototype"==this.property)}),O(Pn,an),O(Vt,sn),O(St,function(e){return C(e)&&!vn(this.properties,function(e){return e instanceof Ot})}),O(lt,function(e){return this.tail_node()._dot_throw(e)}),O(Rt,function(e){if(this.is_undefined)return!0;if(!C(e))return!1;if(R(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;if(Z(this.definition()))return!1;var n=this.fixed_value();return!n||(this._dot_throw=sn,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=an,!1))}),O(It,function(e){return C(e)&&!this.scope.new}),O(_t,function(){return"void"==this.operator}),O(mt,an),O(Wt,sn),(A=function(e,n){e.DEFMETHOD("is_defined",n)})(bn,an),A(wt,sn),A(yt,function(e){return"="!=this.operator||this.right.is_defined(e)}),A(gt,function(e){switch(this.operator){case"&&":return this.left.is_defined(e)&&this.right.is_defined(e);case"||":return this.left.is_truthy()||this.right.is_defined(e);default:return!0}}),A(bt,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),A(Ut,sn),A(Pn,sn),A(St,sn),A(lt,function(e){return this.tail_node().is_defined(e)}),A(Rt,function(e){if(this.is_undefined)return!1;if(R(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=an;var t=n.is_defined(e);return delete this.is_defined,t}),A(_t,function(){return"void"!=this.operator}),A(mt,sn),A(Wt,an),function(e){e(bn,an),e(yt,function(e){return"="==this.operator&&this.right.is_boolean(e)});var n=hn("in instanceof == != === !== < <= >= >");e(gt,function(e){return n[this.operator]||ae[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),e(Kt,sn);var t=hn("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(ct,function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof dt&&(t[n.property]||"test"==n.property&&n.expression instanceof Lt)}),e(bt,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),e(ut,an),e(lt,function(e){return this.tail_node().is_boolean(e)}),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=an;var t=n.is_boolean(e);return delete this.is_boolean,t});var i=hn("! delete");e(_t,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(bn,an);var n=hn("- * / % & | ^ << >> >>>");e(yt,function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),e(gt,function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))});var t=hn(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(ct,function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof dt&&(t[n.property]||R(n.expression)&&"Math"==n.expression.name)}),e(bt,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),e(ut,an),e(Bt,sn),e(lt,function(e){return this.tail_node().is_number(e)}),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_number=an;var t=n.is_number(e);return delete this.is_number,t});var i=hn("+ - ~ ++ --");e(vt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(bn,an),e(yt,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),e(gt,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))});var t=hn(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(ct,function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof dt&&t[n.property]}),e(bt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(lt,function(e){return this.tail_node().is_string(e)}),e(Yt,sn),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=an;var t=n.is_string(e);return delete this.is_string,t}),e(_t,function(){return"typeof"==this.operator})}(function(e,n){e.DEFMETHOD("is_string",n)});var I,ae=hn("&& ||"),se=hn("++ --"),U=hn("delete ++ --");function fe(e,n){return n instanceof yt?n.left===e&&e:n instanceof xt||n instanceof Et?e:n instanceof vt?U[n.operator]&&n.expression:void 0}function V(e){bn.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function G(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function W(e,n,t){return G(ne(En,e,{body:e}),ne(En,n,{body:n}),t).body}function J(e,n,t,i){return(gn(e)?W:G)(n,t,i)}function X(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=hn(n[e])}),t}function K(e,n){var t=n.evaluate(e);return t===n?n:J(e,n,t=E(t,n).optimize(e),e.eval_threshold)}I=function(e,n){e.DEFMETHOD("_find_defs",n)},Hn.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie8:o.option("ie8")}),this.transform(new oi(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof pt&&t.expression===r;)r=t;if(!fe(r,t))return n;V(e)}}))):this}),I(bn,on),I(dt,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),I(qt,function(e){this.definition().global&&mn(e.option("global_defs"),this.name)&&V(this)}),I(Rt,function(e,n){if(this.definition().global){var t=e.option("global_defs"),i=this.name+n;return mn(t,i)?function n(e,t){if(e instanceof bn)return e.clone(!0);if(Array.isArray(e))return ne(wt,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i=[];for(var r in e)mn(e,r)&&i.push(ne(Ot,t,{key:r,value:n(e[r],t)}));return ne(St,t,{properties:i})}return E(e,t)}(t[i],this):void 0}}),Pn.DEFMETHOD("first_statement",function(){for(var e=this.body,n=0;n<e.length;n++){var t=e[n];if(!(t instanceof xn))return t}});var ce,ue=["constructor","toString","valueOf"],le=X({Array:["indexOf","join","lastIndexOf","slice"].concat(ue),Boolean:ue,Function:ue,Number:["toExponential","toFixed","toPrecision"].concat(ue),Object:ue,RegExp:["exec","test"].concat(ue),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(ue)}),pe=X({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]});function de(e){return ne(_t,e,{operator:"!",expression:e})}function he(e,n,t){var i=de(e);if(t){var r=ne(En,n,{body:n});return G(i,r)===r?n:i}return G(i,n)}!function(e){bn.DEFMETHOD("evaluate",function(e,n){if(!e.option("evaluate"))return this;var t=[],i=this._eval(e,n,t,1);return t.forEach(function(e){delete e._eval}),!n&&i&&!(i instanceof RegExp)&&("function"==typeof i||"object"==typeof i)?this:i});var n=hn("! ~ - + void");bn.DEFMETHOD("is_constant",function(){return this instanceof Ut?!(this instanceof Lt):this instanceof _t&&this.expression instanceof Ut&&n[this.operator]});var c=new ei(function(e){e instanceof yt&&u(e.left),e instanceof vt&&se[e.operator]&&u(e.expression)});function u(e){e instanceof pt?u(e.expression):e instanceof Rt&&e.definition().references.forEach(function(e){delete e._eval})}e(yn,function(){throw new Error(pn("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(Rn,fn),e(bn,fn),e(Ut,function(){return this.value}),e(yt,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Rt))return this;if(!mn(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this}}var a=this.operator,s=!mn(r,"_eval")&&r instanceof Rt&&r.fixed&&r.definition().fixed?r:"="==a?(r.walk(c),this.right):ne(gt,this,{operator:a.slice(0,-1),left:r,right:this.right}),f=s._eval(e,n,t,i);return"object"==typeof f?this:(u(r),f)}),e(lt,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(c);var s=r[a],f=s._eval(e,n,t,i);return f===s?this:f}),e(Pn,function(e){if(e.option("unsafe")){var n=function(){};return n.node=this,n.toString=function(){return"function(){}"},n}return this}),e(wt,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof Jt)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),e(St,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof Ot))return this;var s=a.key;if(s instanceof bn&&(s=s._eval(e,n,t,i))===a.key)return this;if(a.value instanceof In&&"function"==typeof Object.prototype[s])return this;if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this});var f=hn("! typeof void");e(_t,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof Pn||r instanceof Rt&&r.fixed_value()instanceof Pn))return"function";var a=r instanceof Rt&&r.definition();f[o]||a&&a.fixed||i++;var s=r._eval(e,n,t,i);if(s===r){if(n&&"void"==o)return;return this}switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return mn(r,"_eval")&&(s=+(o[0]+1)+ +s),u(r),s}return this}),e(mt,function(e,n,t,i){var r=this.expression;if(r instanceof Rt){if(!mn(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Rt&&r.definition().fixed||i++;var a=r._eval(e,n,t,i);return a===r?this:(u(r),+a)});var l=hn("&& || === !==");e(gt,function(e,n,t,i){l[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=n&&!(r&&"object"==typeof r),s=this.right._eval(e,a,t,i);if(s===this.right)return this;switch(this.operator){case"&&":o=r&&s;break;case"||":o=r||s;break;case"|":o=r|s;break;case"&":o=r&s;break;case"^":o=r^s;break;case"+":o=r+s;break;case"-":o=r-s;break;case"*":o=r*s;break;case"/":o=r/s;break;case"%":o=r%s;break;case"<<":o=r<<s;break;case">>":o=r>>s;break;case">>>":o=r>>>s;break;case"==":o=r==s;break;case"===":o=r===s;break;case"!=":o=r!=s;break;case"!==":o=r!==s;break;case"<":o=r<s;break;case"<=":o=r<=s;break;case">":o=s<r;break;case">=":o=s<=r;break;case"in":if(s&&"object"==typeof s&&mn(s,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(Cn)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){var f=Math.max(0,c(r),c(s));if(f<16)return+o.toFixed(f)}return o;function c(e){var n=/(\.[0-9]*)?(e.+)?$/.exec(+e);return(n[1]||".").length-1-(n[2]||"").slice(1)}}),e(bt,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;var o=r?this.consequent:this.alternative,a=o._eval(e,n,t,i);return a===o?this:a}),e(Rt,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(mn(o,"_eval"))r=o._eval();else{if(this._eval=fn,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new ei(function(e){return!!i||(e===n?i=!0:e instanceof Nn||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r});var _={Array:Array,Math:Math,Number:Number,Object:Object,String:String},p=X({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),d=hn("global ignoreCase multiline source");e(pt,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!R(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof bn&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){var s=p[o.name];if(!s||!s[a])return this;r=_[o.name]}else if(r instanceof RegExp){if(!d[a])return this}else if("object"==typeof r){if(!mn(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.argnames.length;default:return this}return r[a]}return this}),e(ct,function(o,a,s,f){var e=this.expression,n=e instanceof Rt?e.fixed_value():e;if(n instanceof Pn){if(n.evaluating)return this;if(n.name&&0<n.name.definition().recursive_refs)return this;if(this.is_expr_pure(o))return this;if(!vn(n.argnames,function(e){return!(e instanceof xt)}))return this;if(!(l=v(this.args))&&!a)return this;var t=n.first_statement();if(!(t instanceof Ln)){if(a){var i=!1;if(n.walk(new ei(function(e){return!!i||(e instanceof Ln?(e.value&&void 0!==e.value._eval(o,!0,s,f)&&(i=!0),!0):e instanceof Nn&&e!==n||void 0)})),!i)return}return this}if(!(c=t.value))return;var r=[];return l&&!vn(n.argnames,function(e,n){var t=l[n],i=e.definition();return i.orig[i.orig.length-1]===e&&(i.references.forEach(function(e){e._eval=function(){return t},r.push(e)}),1)})&&!a||(n.evaluating=!0,c=c._eval(o,a,s,f),delete n.evaluating),r.forEach(function(e){delete e._eval}),c===t.value?this:c}if(o.option("unsafe")&&e instanceof pt){var c,u=e.property;if(u instanceof bn&&(u=u._eval(o,a,s,f))===e.property)return this;var l,p=e.expression;if(R(p)){var d=pe[p.name];if(!d||!d[u])return this;c=_[p.name]}else{if(null==(c=p._eval(o,a,s,f+1))||c===p)return this;var h=le[c.constructor.name];if(!h||!h[u])return this;if(c instanceof RegExp&&c.global&&!(p instanceof Lt))return this}if(!(l=v(this.args)))return this;if("replace"==u&&"function"==typeof l[1])return this;try{return c[u].apply(c,l)}catch(e){bn.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{c instanceof RegExp&&(c.lastIndex=0)}}return this;function v(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],r=i._eval(o,a,s,f);if(i===r)return;n.push(r)}return n}}),e(ut,fn)}(function(e,n){e.DEFMETHOD("_eval",n)}),(ce=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(bn,function(){return de(this)}),ce(yn,function(){throw new Error("Cannot negate a statement")}),ce(In,function(){return de(this)}),ce(_t,function(){return"!"==this.operator?this.expression:de(this)}),ce(lt,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),B(this,n)}),ce(bt,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),he(this,t,n)}),ce(gt,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),he(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),he(this,t,n)}return de(this)});var ve,_e,me,ge,be=hn("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");function ye(e,n){for(var t=e.length;0<=--t;)if(e[t].has_side_effects(n))return!0;return!1}function we(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function xe(e){for(var n=e.length;0<=--n;)if(!e[n].is_constant_expression())return!1;return!0}function ke(e){return e&&e.aborts()}function Ee(){var e=this.body.length;return 0<e&&ke(this.body[e-1])}ct.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(R(n)&&be[n.name])return!0;if(n instanceof dt&&R(n.expression)){var t=pe[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return this.pure||!e.pure_funcs(this)}),bn.DEFMETHOD("is_call_pure",an),ct.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof dt))return!1;var t,i=n.expression,r=n.property;if(i instanceof wt)t=le.Array;else if(i.is_boolean(e))t=le.Boolean;else if(i.is_number(e))t=le.Number;else if(i instanceof Lt)t=le.RegExp;else if(i.is_string(e)){if(t=le.String,"replace"==r){var o=this.args[1];if(o&&!o.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=le.Object);return t&&t[r]}),(ve=function(e,n){e.DEFMETHOD("has_side_effects",n)})(bn,sn),ve(wt,function(e){return ye(this.elements,e)}),ve(yt,function(e){var n=this.left;if(!(n instanceof pt))return!0;var t=n.expression;return!(t instanceof It)||!t.scope.new||n instanceof ht&&n.property.has_side_effects(e)||this.right.has_side_effects(e)}),ve(gt,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!We(this.right)}),ve(Dn,function(e){return ye(this.body,e)}),ve(ct,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||ye(this.args,e)}),ve(et,function(e){return this.expression.has_side_effects(e)||ye(this.body,e)}),ve(bt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),ve(Ut,an),ve(rt,function(e){return ye(this.definitions,e)}),ve(kt,function(e){return ye(this.elements,e)}),ve(Et,function(e){return this.key instanceof bn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),ve(Tt,function(e){return ye(this.properties,e)}),ve(dt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),ve(kn,an),ve(Xn,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),ve(An,function(e){return this.body.has_side_effects(e)}),ve(Pn,an),ve(St,function(e){return ye(this.properties,e)}),ve(Dt,function(e){return this.key instanceof bn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),ve(ht,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),ve(lt,function(e){return ye(this.expressions,e)}),ve(En,function(e){return this.body.has_side_effects(e)}),ve(Kn,function(e){return this.expression.has_side_effects(e)||ye(this.body,e)}),ve(qt,an),ve(Rt,function(e){return!this.is_declared(e)||!ee(this)}),ve(It,an),ve(nt,function(e){return ye(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),ve(vt,function(e){return U[this.operator]||this.expression.has_side_effects(e)}),ve(ft,function(e){return this.value}),(_e=function(e,n){e.DEFMETHOD("may_throw",n)})(bn,sn),_e(Ut,an),_e(kn,an),_e(Pn,an),_e(qt,an),_e(It,an),_e(wt,function(e){return we(this.elements,e)}),_e(yt,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Rt)&&this.left.may_throw(e)}),_e(gt,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!We(this.right)}),_e(Dn,function(e){return we(this.body,e)}),_e(ct,function(e){return!!we(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof Pn)||we(this.expression.body,e)))}),_e(et,function(e){return this.expression.may_throw(e)||we(this.body,e)}),_e(bt,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),_e(rt,function(e){return we(this.definitions,e)}),_e(dt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),_e(Xn,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),_e(An,function(e){return this.body.may_throw(e)}),_e(St,function(e){return we(this.properties,e)}),_e(Dt,function(e){return this.key instanceof bn&&this.key.may_throw(e)||this.value.may_throw(e)}),_e(Ln,function(e){return this.value&&this.value.may_throw(e)}),_e(lt,function(e){return we(this.expressions,e)}),_e(En,function(e){return this.body.may_throw(e)}),_e(ht,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),_e(Kn,function(e){return this.expression.may_throw(e)||we(this.body,e)}),_e(Rt,function(e){return!this.is_declared(e)}),_e(nt,function(e){return(this.bcatch?this.bcatch.may_throw(e):we(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),_e(vt,function(e){return!("typeof"==this.operator&&this.expression instanceof Rt)&&this.expression.may_throw(e)}),_e(ft,function(e){return!!this.value&&this.value.may_throw(e)}),(me=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(bn,an),me(wt,function(){return xe(this.elements)}),me(gt,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()&&("in"!=this.operator||We(this.right))}),me(Ut,sn),me(Pn,function(r){var o=this,a=!0,s=[];return o.walk(new ei(function(e,n){if(!a)return!0;if(e instanceof Tn){if(e===o)return;return s.push(e),n(),s.pop(),!0}if(e instanceof Rt){if(o.inlined||e.redef)return!(a=!1);if(o.variables.has(e.name))return!0;var t=e.definition();if(tn(t.scope,s))return!0;if(r&&!t.redefined()){var i=r.find_variable(e);if(t.undeclared?!i:i===t)return a="f",!0}return!(a=!1)}})),a}),me(St,function(){return xe(this.properties)}),me(Dt,function(){return"string"==typeof this.key&&this.value.is_constant_expression()}),me(vt,function(){return this.expression.is_constant_expression()}),(ge=function(e,n){e.DEFMETHOD("aborts",n)})(yn,cn),ge(Yn,fn),ge(On,Ee),ge(Qn,Ee),ge(Xn,function(){return this.alternative&&ke(this.body)&&ke(this.alternative)&&this});var Te,Se=hn(["use asm","use strict"]);function De(e){switch(e.body.length){case 0:return ne(kn,e);case 1:var n=e.body[0];if(!(n instanceof ot||n instanceof at))return n}return e}function Oe(n,t){n.walk(new ei(function(e){return e instanceof Ln?(t(e),!0):e instanceof Nn&&e!==n||void 0}))}function Ae(e){var i=Object.create(null);return Oe(e,function(e){var n,t=e.value;(t=t&&t.tail_node())instanceof Rt&&(n=t.definition().id,i[n]=(i[n]||0)+1)}),i}function $e(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function ze(e,i){Oe(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=t.is_truthy()||t.evaluate(i,!0))?!n||n instanceof bn||(t=t.drop_side_effect_free(i),e.value=t?B(e.value,[t,ne(Bt,e.value,{value:1})]):ne(Bt,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?B(e.value,[t,ne(Bt,e.value,{value:0})]):null))})}function qe(e,n){if(!e.name||!n.option("ie8"))return 1;var t=e.name.definition();return!n.exposed(t)&&vn(t.references,function(e){return!(e instanceof Rt)})}function je(e,n,t){var i=e.length;if(!i)return null;for(var r=[],o=!1,a=0;a<i;a++){var s=e[a].drop_side_effect_free(n,t);o|=s!==e[a],s&&(r.push(s),t=!1)}return o?r.length?r:null:e}function Fe(n,e,t){t=t||Gn;var i=!1,r=new ei(function(e){return!!(i||e instanceof Nn)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof An&&r.push(e),r.push(n),n.body.walk(r),i}function Me(e,n,t){if(e instanceof gt)if(e.left instanceof Yt){if(e.right instanceof _t&&"typeof"==e.right.operator){var i=e.right.expression;if(R(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new ei(function(e){if(e instanceof Nn){var n=a.parent();if(n instanceof ct&&n.expression===e)return;return!0}e instanceof Rt&&e.definition()===o&&(e.defined=!0)}),r.walk(a))}}}else switch(e.operator){case"&&":Me(e.left,n),Me(e.right,n);break;case"||":Me(f(e.left),t),Me(f(e.right),t)}function f(e){if(e instanceof gt)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function Ce(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof qt&&t.push(ne(ft,e,{name:e,value:r(n,e)}))},!0)}),i}}function Ne(e){return e.orig.length<(e.orig[0]instanceof Ht?3:2)}function He(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function Pe(e){return ne(st,e,{definitions:e.definitions.map(function(e){return ne(ft,e,{name:e.name.convert_symbol(Mt,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;var i=t.scope.resolve();t.scope!==i&&(t.scope=i).variables.set(t.name,t)}),value:e.value})})})}function Re(e,t){return t.option("varify")&&vn(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof qt){var n=e.definition();return!e.fixed_value()||!Ne(n)||He(t,n)}},!0)})?Pe(e):e}function Ie(e){var n=e.expression;if(!(n instanceof lt))return e;var t=n.expressions.slice(),i=e.clone();return i.expression=t.pop(),t.push(i),B(e,t)}function Ue(e,t,n){var i=e.expression,r=i instanceof Rt?i.fixed_value():i;if(r instanceof Pn&&!r.uses_arguments&&!(r.pinned()||n&&n.indexOf(r)<0)){for(var o,a=e.args,s=0,f=0,c=r===i&&!r.name&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof kt?0==e.elements.length&&n instanceof wt:e instanceof Tt?0==e.properties.length&&n&&!n.may_throw_on_access(t):e.__unused)}:an,u=[],l=0;l<a.length;l++){var p=r.argnames[l];if(!p||"__unused"in p){var d=a[l].drop_side_effect_free(t);if(c(p)){p&&r.argnames.splice(l,1),a.splice(l,1),d&&u.push(d),l--;continue}if(d)u.push(d),a[s++]=B(e,u),u=[];else if(p){if(!u.length){a[s++]=ne(Bt,a[l],{value:0});continue}a[s++]=B(e,u),u=[]}}else{if(p&&c(p,a[l])){d=a[l].drop_side_effect_free(t);r.argnames.splice(l,1),a.splice(l,1),d&&u.push(d),l--;continue}u.push(a[l]),a[s++]=B(e,u),u=[]}f=s}for(;l<r.argnames.length;l++)c(r.argnames[l])&&r.argnames.splice(l--,1);a.length=f,u.length&&(o=B(e,u),a.push(a.length<r.argnames.length?ne(_t,e,{operator:"void",expression:o}):o))}}function Ye(t,i,e,n){if(n instanceof gt&&ae[n.operator]&&n.right instanceof yt&&"="==n.right.operator&&n.right.left instanceof Rt&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?ne(bt,n,{condition:n.left,consequent:n.right.right,alternative:e}):ne(bt,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){if(!e.has_side_effects(t)){var n=!1;return e.walk(new ei(function(e){return!!n||(e instanceof Rt&&e.definition()===i?n=!0:void 0)})),!n}}}e(xn,function(e,n){return!n.option("directives")||Se[e.value]&&n.has_directive(e.value)===e?e:ne(kn,e)}),e(wn,function(e,n){return n.option("drop_debugger")?ne(kn,e):e}),e(An,function(e,n){return n.option("dead_code")&&e.body instanceof Wn&&n.loopcontrol_target(e.body)===e.body?ne(kn,e):n.option("unused")&&0==e.label.references.length?e.body:e}),e(Dn,function(e,n){return e.body=q(e.body,n),e}),e(On,function(e,n){return e.body=q(e.body,n),De(e)}),e(In,function(n,e){if(n.body=q(n.body,e),e.option("inline"))for(var t=0;t<n.body.length;t++){var i=n.body[t];if(!(i instanceof xn)){if(i instanceof Ln){var r=i.value;if(!r||"Call"!=r.TYPE)break;if(r.is_expr_pure(e))break;var o=r.expression;if(o instanceof Rt){if(n.name&&n.name.definition()===o.definition())break;o=o.fixed_value()}if(!(o instanceof Pn))break;if(o.uses_arguments)break;if(o===r.expression){if(o.parent_scope!==n)break;if(!vn(o.enclosed,function(e){return e.scope!==n}))break}if(o.contains_this())break;var a=o.argnames.length;if(0<a&&e.option("inline")<2)break;if(a>n.argnames.length)break;if(!vn(n.argnames,function(e){return e instanceof Ct}))break;for(var s=0;s<a;s++){var f=r.args[s];if(!(f instanceof Rt))break;if(f.definition()!==n.argnames[s].definition())break}if(s<a)break;for(;s<r.args.length&&!r.args[s].has_side_effects(e);s++);if(s<r.args.length)break;if(a<n.argnames.length&&!e.drop_fargs(n,e.parent())){if(!e.drop_fargs(o,r))break;for(;o.argnames.push(o.make_var(Ct,o,"argument_"+a)),++a<n.argnames.length;);}return r.expression}break}}return n}),Nn.DEFMETHOD("merge_variables",function(o){if(o.option("merge_vars")){var l,p=this,d={},a=[],s=[],f=0,h=new _n,v=Object.create(null),c=Object.create(null),_=new ei(function(r,e){if(r instanceof yt){var n=r.left;if(n instanceof xt){r.right.walk(_);var t=new ei(function(e){if(!(e instanceof xt))return e instanceof Et?e.key instanceof bn?(w(),e.key.walk(_),x(),w(),e.value.walk(t),x()):e.value.walk(t):e instanceof Rt?k(e,!1):e.walk(_),!0});return n.walk(t),!0}return n instanceof Rt?("="!=r.operator&&k(n,!0),r.right.walk(_),k(n,!1),!0):void 0}if(r instanceof gt){if(!ae[r.operator])return;return r.left.walk(_),w(),r.right.walk(_),x(),!0}var i,o,a;if(r instanceof Wn)return(i=_.loopcontrol_target(r))instanceof $n||E(i),!0;if(r instanceof ct){var s=r.expression,f=s.tail_node();if(!(f instanceof In))return;return s!==f&&s.expressions.slice(0,-1).forEach(function(e){e.walk(_)}),r.args.forEach(function(e){e.walk(_)}),f.walk(_),!0}if(r instanceof bt)return r.condition.walk(_),w(),r.consequent.walk(_),x(),w(),r.alternative.walk(_),x(),!0;if(r instanceof Jn)return(i=_.loopcontrol_target(r))instanceof qn&&E(i),!0;if(r instanceof qn){w(),d.block=r,d.loop=!0;var c=d;return r.body.walk(_),d.inserted===r&&(d=c),r.condition.walk(_),x(),!0}if(r instanceof Fn)return r.init&&r.init.walk(_),w(),d.block=r,d.loop=!0,r.condition&&r.condition.walk(_),r.body.walk(_),r.step&&r.step.walk(_),x(),!0;if(r instanceof Mn)return r.object.walk(_),w(),d.block=r,d.loop=!0,r.init.walk(_),r.body.walk(_),x(),!0;if(r instanceof Xn)return r.condition.walk(_),w(),r.body.walk(_),x(),r.alternative&&(w(),r.alternative.walk(_),x()),!0;if(r instanceof An){w(),d.block=r;c=d;return r.body.walk(_),d.inserted===r&&(d=c),x(),!0}if(r instanceof Nn)return w(),(d.block=r)===p&&(l=d),r instanceof Pn&&(r.name&&(v[r.name.definition().id]=!1),t=r.uses_arguments&&!_.has_directive("use strict")?function(e){e instanceof Ct&&(v[e.definition().id]=!1)}:function(e){e instanceof Ct&&k(e,!1)},o=new ei(function(e){if(e instanceof qt&&(v[e.definition().id]=!1),e instanceof Rt){var n,t=e.definition(),i=r.variables.get(e.name);return i&&(i===t||t.undeclared||r.parent_scope.find_variable(e)===t)?(v[t.id]=!1,v[i.id]=!1):(n=d,x(),k(e,!0),d=n),!0}}),r.argnames.forEach(function(e){e.mark_symbol(t,o)})),Sn(r,_),x(),!0;if(r instanceof Kn){r.expression.walk(_);c=d;return r.body.forEach(function(e){e instanceof Zn||(e.expression.walk(_),c===d&&w())}),d=c,r.body.forEach(function(e){w(),d.block=r;var n=d;Sn(e,_),d.inserted===r&&(d=n),x()}),!0}if(r instanceof Rt)return k(r,!0),!0;if(r instanceof nt)return w(),Sn(d.block=r,_),x(),r.bcatch&&(r.bcatch.argname&&(a=r.bcatch.argname.definition(),v[a.id]=!1,(a=a.redefined())&&(v[a.id]=!1)),w(),r.bfinally&&(d.block=r.bcatch),Sn(r.bcatch,_),x()),r.bfinally&&r.bfinally.walk(_),!0;if(r instanceof vt){if(!se[r.operator])return;var u=r.expression;if(!(u instanceof Rt))return;return k(u,!0),!0}return r instanceof ft?(r.value&&r.value.walk(_),r.name.mark_symbol(r.value?function(e){if(e instanceof qt)return e instanceof Mt?k(e,!1):v[e.definition().id]=!1,!0}:function(e){if(e instanceof qt){var n=e.definition().id;return e instanceof Mt?n in v?v[n]&&v[n].push(e):h.add(n,e):v[n]=!1,!0}},_),!0):r instanceof jn?(w(),d.block=r,d.loop=!0,e(),x(),!0):void 0});_.directives=Object.create(o.directives),p.walk(_);for(var e=Object.create(null);a.length&&s.length;){var n=a.pop(),t=n.definition;if(t.id in c&&v[t.id]){for(var i={start:v[t.id].start};t.id in e;)t=e[t.id];i.end=v[t.id].end;var r=[];do{var u=s.pop();if(u&&!(u.index>n.index)){var m=u.definition.id,g=v[m];if(g){if(i.start.block===g.start.block&&S(i,g)&&(!i.start.loop||S(g,i))&&vn(g,function(e){return e.scope.find_variable(t.name)===t})){var b=[],y=[];g.forEach(function(e){e.thedef=t,e.name=t.name,e instanceof Rt?y.push(e):b.push(e)}),t.orig=b.concat(t.orig),t.references=y.concat(t.references),t.fixed=u.definition.fixed&&t.fixed,e[m]=t;break}r.unshift(u)}}}while(s.length);r.length&&(s=s.concat(r))}}}function w(){d=Object.create(d)}function x(){d=Object.getPrototypeOf(d)}function k(e,n){var t,i,r=e.definition();if(r.id in v){if(!(i=v[r.id]))return;if(i.start.block!==d.block)return v[r.id]=!1;if(i.push(e),i.end=d,r.id in c)s[c[r.id]]=null;else if(!n)return}else{if((t=p.variables.get(r.name))!==r)return t&&l===d&&(v[t.id]=!1),v[r.id]=!1;if(o.exposed(r)||"arguments"==e.name)return v[r.id]=!1;if((i=h.get(r.id)||[]).push(e),v[r.id]=i,!n)return i.start=d,a.push({index:f++,definition:r});if(d.block!==p)return v[r.id]=!1;i.start=l}c[r.id]=s.length,s.push({index:f++,definition:r})}function E(e){for(var n=[];;){if(mn(d,"block")){var t=d.block;if(t instanceof An&&(t=t.body),t===e)break}n.push(d),x()}for(d.inserted=d.block,w();n.length;){var i=n.pop();w(),mn(i,"block")&&(d.block=i.block),mn(i,"loop")&&(d.loop=i.loop)}}function T(e,n){return e===n||e.isPrototypeOf(n)}function S(e,n){return T(e.start,e.end)||T(e.start,n.start)}}),Nn.DEFMETHOD("drop_unused",function(k){if(k.option("unused")){var d=this,h=!(d instanceof Hn)||k.toplevel.funcs,E=!(d instanceof Hn)||k.toplevel.vars,T=/keep_assign/.test(k.option("unused"))?an:function(e,n){var t,i=!1;if(e instanceof yt?!e.write_only&&"="!=e.operator||(t=e.left):e instanceof vt&&e.write_only&&(t=e.expression),/strict/.test(k.option("pure_getters")))for(;t instanceof pt&&!t.expression.may_throw_on_access(k);)t instanceof ht&&n.unshift(t.property),t=t.expression,i=!0;if(t instanceof Rt&&!k.exposed(t.definition())&&ee(t,i))return t},S=Object.create(null),D=Object.create(null),v=[],O=Object.create(null),_=Object.create(null),m=Object.create(null);d instanceof Hn&&k.top_retain&&d.variables.each(function(e){!k.top_retain(e)||e.id in O||(O[e.id]=!0,v.push(e))});var g=new _n,A=new _n,b=new _n,$=this,y=new ei(function(o,e){if(o instanceof Pn&&o.uses_arguments&&!y.has_directive("use strict")&&o.each_argname(function(e){var n=e.definition();n.id in O||(O[n.id]=!0,v.push(n))}),o!==d){if($===d){if(o instanceof Un){var n=o.name.definition();return h||n.id in O||(O[n.id]=!0,v.push(n)),b.add(n.id,o),!0}if(o instanceof rt)return o.definitions.forEach(function(i){var r=i.value&&(i.name instanceof xt||i.value.has_side_effects(k));i.name.mark_symbol(function(e){if(e instanceof qt){var n,t=e.definition();return A.add(t.id,i),o instanceof st&&t.orig[0]instanceof Pt&&((n=t.redefined())&&A.add(n.id,i)),t.id in O||E&&(o instanceof ot?!t.redefined():!t.const_redefs)&&(o instanceof st||Ne(t))||(O[t.id]=!0,v.push(t)),i.value&&(r||b.add(t.id,i.value),g.add(t.id,i)),!0}},y),r&&i.value.walk(y)}),!0;if(o instanceof Ct){n=o.definition();return A.add(n.id,o),g.add(n.id,o),!0}}return t(o,e,!0)}});y.directives=Object.create(k.directives),d.walk(y),y=new ei(t);for(var e=0;e<v.length;e++){var n=b.get(v[e].id);n&&n.forEach(function(e){e.walk(y)})}Object.keys(S).forEach(function(e){var n,t=S[e];t?(t=t.reduce(function(n,e){return e.forEach(function(e){ln(n,e)}),n},[]),n=(g.get(e)||[]).filter(function(n){return rn(n instanceof vt?function(e){return e===n}:function(e){return e===n||!(e instanceof vt)&&re(e)===re(n)},t)}),t.length==n.length?S[e]=n:delete S[e]):delete S[e]});var z=k.option("keep_fnames")?an:k.option("ie8")?function(e){return!k.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in O)||!(e.orig.length<2)&&(e.orig[1]instanceof Ct||vn(e.references,function(e){return!e.in_arg}))},q=[],j=[],F=[],M=new oi(function(v,e,n){var _=M.parent();if(E){var t=[];if(o=T(v,t)){var i,r=(a=o.definition()).id in O;if(v instanceof yt?(!r||v.left===o&&P(a,v)<0)&&(i=I(v),!0===v.write_only&&(i=i.drop_side_effect_free(k)||ne(Bt,v,{value:0}))):(!r||v.expression===o&&P(a,v)<0)&&(i=ne(Bt,v,{value:0})),i)switch(_ instanceof lt&&_.tail_node()!==v&&(i=i.drop_side_effect_free(k)),i&&t.push(i),t.length){case 0:return un.skip;case 1:return te(0,_,v,t[0].transform(M));default:return B(v,t.map(function(e){return e.transform(M)}))}}else if(v instanceof mt&&v.expression instanceof Rt&&P(v.expression.definition(),v)<0)return ne(_t,v,{operator:"+",expression:v.expression})}if(v instanceof ct&&j.push(v),$===d){if(v instanceof Pn){if(h&&v!==d&&v instanceof Un)if(!((a=v.name.definition()).id in O))return C(v.name,"Dropping unused function {name}"),a.eliminated++,n?un.skip:ne(kn,v);if(v instanceof In&&v.name&&z(v.name.definition())&&q.push(v),!(v instanceof Rn)){for(var o,a,s=k.drop_fargs(v,_),f=v.argnames,c=f.length;0<=--c;){(o=f[c])instanceof xt?(o.transform(new oi(function(e){if(e instanceof kt){for(var n=!0,t=e.elements.length;0<=--t;){var i=e.elements[t];i instanceof Ct?i.definition().id in O?n=!1:n?e.elements.pop():e.elements[t]=ne(Jt,i):(e.elements[t]=i.transform(this),n=!1)}return e}if(e instanceof Et)return e.value instanceof Ct?"string"!=typeof e.key||e.value.definition().id in O?e:un.skip:(e.value=e.value.transform(this),e)})),s=!1):(a=o.definition()).id in O?(s=!1,P(a,o)<0&&(o.__unused=null)):(o.__unused=!0,s&&(C(o,"Dropping unused function argument {name}"),f.pop()))}F.push(v)}}if(v instanceof rt&&!(_ instanceof Mn&&_.init===v)){var m=[],g=[],b=[],y=[],w=0,x=v instanceof st;switch(v.definitions.forEach(function(n){var s,e,t,i,r,o,a,f,c,u,l,p;function d(e){var n=e.definition();return n.orig[0]instanceof Pt&&n.scope.resolve()===e.scope.resolve()}function h(){0<y.length&&(0==b.length?m.push(ne(En,v,{body:B(v,y)})):n.value?(y.push(n.value),n.value=B(n.value,y)):n.value=ne(_t,n,{operator:"void",expression:B(n,y)}),y=[]),b.push(n)}n.value&&(n.value=n.value.transform(M)),n.name instanceof xt?(c=n.value,s=new oi(function(e){if(e instanceof kt){var n=c;c instanceof Rt&&(c=c.fixed_value());var i=c instanceof wt&&c.elements,t=[];if(e.elements.forEach(function(e,n){e instanceof Jt||(c=i&&i[n],(e=e.transform(s))&&(t[n]=e))}),c=n,i&&0==t.length)return null;for(var r=t.length;0<=--r;)t[r]||(t[r]=ne(Jt,e.elements[r]||e));return e.elements=t,e}if(e instanceof Tt){n=c;if(c instanceof Rt&&(c=c.fixed_value()),c instanceof St){i=Object.create(null);for(r=0;r<c.properties.length;r++){var o=c.properties[r];if("string"!=typeof o.key){i=null;break}i[o.key]=o.value}}var a=[];return(e.properties.forEach(function(e){var n,t=e.key instanceof bn?(e.key=e.key.transform(M),c=null,e.key.has_side_effects(k)):(c=i&&i[e.key],!1);t&&e.value instanceof qt?a.push(e):(n=e.value.transform(s))&&(e.value=n,a.push(e))}),c=n,0==a.length&&c&&!c.may_throw_on_access(k))?null:(e.properties=a,e)}if(e instanceof qt)return!E||e.definition().id in O||d(e)||x&&!ee(e)?e:null}),n.name.transform(s)?h():(c=c.drop_side_effect_free(k))&&y.push(c)):(e=n.name.definition(),!(t=x?ee(n.name):Ne(e))||!E||e.id in O?(n.value&&P(e,n)<0&&(i=n.value.write_only,c=n.value.drop_side_effect_free(k),n.value!==c?n.value=c&&B(n.value,[c,ne(Bt,n.value,{value:0})]):n.value.write_only!==i&&(n.value.write_only=i)),f=A.get(e.id),n.value||v instanceof at?k.option("functions")&&!k.option("ie8")&&!(v instanceof ot||v instanceof at)&&1==f.length&&0==e.assignments&&n.value instanceof In&&(e.references.length?vn(e.references,function(e){return n.value===e.fixed_value()}):n.value===n.name.fixed_value())&&(!n.value.name||0==(r=n.value.name.definition()).assignments&&(r.name==n.name.name||vn(r.references,function(e){return e.scope.find_variable(n.name)===n.name.definition()})))&&(k.has_directive("use strict")?_ instanceof Nn:_ instanceof Dn||_ instanceof Fn&&_.init===v||_ instanceof Xn)&&(u=n.value,l=n.name.name,!(p=u.variables.get(l))||u.name&&p===u.name.definition())?(bn.warn("Declaring {name} as function [{file}:{line},{col}]",N(n.name)),(o=ne(Un,n,n.value)).name=ne(Nt,n.name,n.name),a=n.name.scope.resolve().def_function(o.name),r&&r.references.forEach(function(e){e.name=a.name,e.thedef=a,e.reference({})}),m.push(o)):(t&&1<f.length&&e.orig.indexOf(n.name)>e.eliminated&&(dn(f,n),w++),h()):t&&1<f.length?(bn.info("Dropping declaration of variable {name} [{file}:{line},{col}]",N(n.name)),dn(f,n),e.eliminated++):g.push(n)):d(n.name)?((c=n.value&&n.value.drop_side_effect_free(k))&&y.push(c),1<(f=A.get(e.id)).length?(bn.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",N(n.name)),dn(f,n),e.eliminated++):(n.value=null,g.push(n))):((c=n.value&&!n.value.single_use&&n.value.drop_side_effect_free(k))?(bn.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",N(n.name)),y.push(c)):C(n.name,"Dropping unused variable {name}"),e.eliminated++))}),g.length){case 0:if(0==b.length)break;if(b.length==w){[].unshift.apply(y,b.map(function(e){bn.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",N(e.name));var n=e.name.definition(),t=ne(Rt,e.name,e.name);n.references.push(t);var i=ne(yt,e,{operator:"=",left:t,right:e.value}),r=P(n,e);return 0<=r&&(S[n.id][r]=i),n.eliminated++,i}));break}case 1:if(0==b.length){var u=g[0].name.definition().id;if(u in D){v.definitions=g,D[u].init=v;break}}default:v.definitions=g.concat(b),m.push(v)}return 0<y.length&&m.push(ne(En,v,{body:B(v,y)})),H(m,v,n)}if(v instanceof An&&v.body instanceof Fn){if(e(v,M),v.body instanceof On){var l=v.body;return v.body=l.body.pop(),l.body.push(v),n?un.splice(l.body):l}return v}if(v instanceof Nn){var p=$;return e($=v,M),$=p,v}}},function(e,n){if(e instanceof On)switch(e.body.length){case 0:return n?un.skip:ne(kn,e);case 1:var t=e.body[0];if(!(t instanceof ot||t instanceof at))return t}else{var i;if(e instanceof Fn)return e.init instanceof On&&(i=e.init,e.init=i.body.pop(),i.body.push(e)),e.init instanceof Un?((i=i||ne(On,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof En?e.init=e.init.body:L(e.init)&&(e.init=null),i?n?un.splice(i.body):i:e;if(e instanceof Mn){if(!E||!k.option("loops"))return;if(!L(e.body))return;var r=U(e);if(!r)return;var o=r.definition();if(o.id in O)return;C(r,"Dropping unused loop variable {name}"),D[o.id]===e&&delete D[o.id];var a=[],s=e.object.drop_side_effect_free(k);return s&&(bn.warn("Side effects in object of for-in loop [{file}:{line},{col}]",s.start),a.push(ne(En,e,{body:s}))),e.init instanceof rt&&o.orig[0]instanceof Pt&&a.push(e.init),H(a,e,n)}if(e instanceof lt&&1==e.expressions.length)return e.expressions[0]}});M.push(k.parent()),d.transform(M),d instanceof Pn&&1==d.body.length&&d.body[0]instanceof xn&&"use strict"==d.body[0].value&&(d.body.length=0),q.forEach(function(e){e.name=null}),j.forEach(function(e){Ue(e,k,F)})}function C(e,n){bn[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",N(e))}function N(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function H(e,n,t){switch(e.length){case 0:return t?un.skip:ne(kn,n);case 1:return e[0];default:return t?un.splice(e):ne(On,n,{body:e})}}function w(e,n){return e.scope===d&&(e.fixed&&n.fixed||(S[e.id]=!1),!1!==S[e.id])}function x(e,n){S[e.id]||(S[e.id]=[]),n.fixed.assigns&&ln(S[e.id],n.fixed.assigns)}function P(e,n){var t=S[e.id];return t&&t.indexOf(n)}function R(e,n,t){e.id in O||(n&&t?(O[e.id]=!0,v.push(e)):(_[e.id]=n,m[e.id]=t))}function I(e){var n=e.right;if(!e.write_only)return n;if(!(n instanceof gt&&ae[n.operator]))return n;if(!(n.left instanceof Rt))return n;if(!(e.left instanceof Rt))return n;var t=e.left.definition();return n.left.definition()!==t||n.right.has_side_effects(k)?n:(w(t,n.left)&&x(t,n.left),n.right)}function U(e){var n=e.init;if(n instanceof rt)return(n=n.definitions[0].name)instanceof qt&&n;for(;n instanceof pt;)n=n.expression.tail_node();return n instanceof Rt?n:void 0}function t(e,n,t){e instanceof yt&&e.left instanceof Rt&&(r=e.left.definition()).scope===d&&g.add(r.id,e),e instanceof vt&&e.expression instanceof Rt&&(r=e.expression.definition()).scope===d&&g.add(r.id,e);var i,r,o,a,s=[],f=T(e,s);if(f&&d.variables.get(f.name)===(a=f.definition())){if(s.forEach(function(e){e.walk(y)}),e instanceof yt){if("p"===e.write_only&&e.right.may_throw_on_access(k))return;var c,u=I(e);t&&!0===e.write_only&&a.scope===d&&!u.has_side_effects(k)?b.add(a.id,u):u.walk(y),e.left===f?e.write_only||R(a,!0,m[a.id]):(c=f.fixed_value())&&c.is_constant()||R(a,_[a.id],!0)}return w(a,f)&&fe(f,e)!==f&&x(a,f),!0}if(e instanceof Mn){if(e.init instanceof Rt&&$===d&&((i=e.init.definition().id)in D||(D[i]=e)),!E||!k.option("loops"))return;if(!L(e.body))return;if(e.init.has_side_effects(k))return;if(!(f=U(e)))return;if((r=f.definition()).scope!==d){var l=d.find_variable(f);if((l&&l.redefined()||l)===r)return}return e.object.walk(y),!0}if(e instanceof Rt)return(a=e.definition()).id in O||(O[a.id]=!0,v.push(a)),Y(a.scope,e.scope)&&(!(o=a.redefined())||o.id in O||(O[o.id]=!0,v.push(o))),w(a,e)&&x(a,e),!0;if(e instanceof Nn){var p=$;return $=e,n(),$=p,!0}}}),Nn.DEFMETHOD("hoist_declarations",function(r){if(!r.has_directive("use asm")){var n,o=r.option("hoist_funs"),a=r.option("hoist_vars"),s=this;if(a&&(n=0,s.walk(new ei(function(e){return 1<n||(e instanceof Nn&&e!==s||(e instanceof st?(n++,!0):void 0))})),n<=1&&(a=!1)),o||a){var f=[],c=[],u=new _n,l=0,p=new oi(function(e){if(e!==s){if(e instanceof xn)return f.push(e),ne(kn,e);if(o&&e instanceof Un&&(p.parent()===s||!r.has_directive("use strict")))return c.push(e),ne(kn,e);if(a&&e instanceof st){e.definitions.forEach(function(e){u.set(e.name.name,e),++l});var n=e.to_assignments(),t=p.parent();if(t instanceof Mn&&t.init===e){if(n)return n;var i=e.definitions[0].name;return ne(Rt,i,i)}return t instanceof Fn&&t.init===e?n:n?ne(En,e,{body:n}):ne(kn,e)}return e instanceof Nn?e:void 0}});if(s.transform(p),0<l){var t=[];if(u.each(function(e,n){s instanceof Pn&&!vn(s.argnames,function(e){return e.name!=n})?u.del(n):((e=e.clone()).value=null,t.push(e),u.set(n,e))}),0<t.length){for(var e=0;e<s.body.length;){if(s.body[e]instanceof En){var i,d,h,v=s.body[e].body;if(v instanceof yt&&"="==v.operator&&(i=v.left)instanceof zt&&u.has(i.name)){if((h=u.get(i.name)).value)break;h.value=v.right,dn(t,h),t.push(h),s.body.splice(e,1);continue}if(v instanceof lt&&(d=v.expressions[0])instanceof yt&&"="==d.operator&&(i=d.left)instanceof zt&&u.has(i.name)){if((h=u.get(i.name)).value)break;h.value=d.right,dn(t,h),t.push(h),s.body[e].body=B(v,v.expressions.slice(1));continue}}if(s.body[e]instanceof kn)s.body.splice(e,1);else{if(!(s.body[e]instanceof On))break;var _=[e,1].concat(s.body[e].body);s.body.splice.apply(s.body,_)}}t=ne(st,s,{definitions:t}),c.push(t)}}s.body=f.concat(c,s.body)}}}),Nn.DEFMETHOD("process_boolean_returns",on),Un.DEFMETHOD("process_boolean_returns",function(e){var n;e.option("booleans")&&(n=Ae(this),$e(this.name.definition(),n,e)&&ze(this,e))}),In.DEFMETHOD("process_boolean_returns",function(e){if(e.option("booleans")){var n=Ae(this);if(!this.name||$e(this.name.definition(),n,e)){var t=e.parent();if(t instanceof yt){if("="!=t.operator)return;if(!((i=t.left)instanceof Rt))return;if(!$e(i.definition(),n,e))return}else if(t instanceof ct&&t.expression!==this){var i,r=t.expression;if(r instanceof Rt&&(r=r.fixed_value()),!(r instanceof Pn))return;if(r.uses_arguments||r.pinned())return;if((i=r.argnames[t.args.indexOf(this)])&&!$e(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;e.pop();var o=e.in_boolean_context();if(e.push(this),!o)return}ze(this,e)}}}),Tn.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),Nn.DEFMETHOD("make_var",function(e,n,t){var i=[this];n instanceof qt&&n.definition().references.forEach(function(e){var n=e.scope;if(!tn(n,i))for(;ln(i,n),(n=n.parent_scope)&&n!==this;);});for(var r=t=t.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),o=0;!vn(i,function(e){return!e.var_names()[r]});o++)r=t+"$"+o;var a=ne(e,n,{name:r,scope:this}),s=this.def_variable(a);return i.forEach(function(e){e.enclosed.push(s),e.var_names()[r]=!0}),a}),Nn.DEFMETHOD("hoist_properties",function(e){var f,r,c;function t(e,n,t){if(e instanceof zt){var i=e.definition();if(i.assignments==t&&!i.direct_access&&1!=i.escaped.depth&&i.references.length-i.replaced!=t&&!i.single_use&&!r(i)&&e.fixed_value()===n)return n instanceof St&&0<n.properties.length&&vn(n.properties,function(e){return e instanceof Ot&&"string"==typeof e.key})&&vn(i.references,function(e){return e.fixed_value()===n})&&ee(e)}}e.option("hoist_props")&&!e.has_directive("use asm")&&(r=(f=this)instanceof Hn&&e.top_retain||an,c=Object.create(null),f.transform(new oi(function(i,e){if(i instanceof yt){if("="!=i.operator)return;if(!i.write_only)return;if(i.left.scope!==f)return;if(!t(i.left,i.right,1))return;e(i,this);var r=new _n,o=[],a=[];return i.right.properties.forEach(function(e){var n=s(i.left,e.key);a.push(ne(ft,i,{name:n,value:null}));var t=ne(Rt,i,{name:n.name,scope:f,thedef:n.definition()});t.reference({}),o.push(ne(yt,i,{operator:"=",left:t,right:e.value}))}),c[i.left.definition().id]=r,f.body.splice(f.body.indexOf(this.stack[1])+1,0,ne(st,i,{definitions:a})),B(i,o)}if(i instanceof Nn)return i===f?void 0:i;if(i instanceof ft){if(!t(i.name,i.value,0))return;e(i,this);var r=new _n,n=[];return i.value.properties.forEach(function(e){n.push(ne(ft,i,{name:s(i.name,e.key),value:e.value}))}),c[i.name.definition().id]=r,un.splice(n)}function s(e,n){var t=f.make_var(Mt,e,e.name+"_"+n);return r.set(n,t.definition()),t}})),f.transform(new oi(function(i,e){if(i instanceof gt)return o("right");if(i instanceof pt){if(!(i.expression instanceof Rt))return;var n=c[i.expression.definition().id];if(!n)return;var t=n.get(i.getProperty()),r=ne(Rt,i,{name:t.name,scope:i.expression.scope,thedef:t});return r.reference({}),r}if(i instanceof vt){if(U[i.operator])return;return o("expression")}function o(e){var n=i[e];if(n instanceof Rt&&n.definition().id in c){var t=i.clone();return t[e]=ne(St,n,{properties:[]}),t}}})))}),(Te=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(bn,fn),Te(Rn,cn),Te(wt,function(e,n){var t=je(this.elements,e,n);return t&&B(this,t)}),Te(yt,function(e){var n=this.left;if(n instanceof pt){var t=n.expression;if(t instanceof yt&&"="==t.operator&&!t.may_throw_on_access(e)&&(t.write_only="p"),e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)?this:(this.write_only=!0,ie(n).is_constant_expression(e.find_parent(Nn))?this.right.drop_side_effect_free(e):this)}),Te(gt,function(e,n){if("in"==this.operator&&!We(this.right))return(t=this.left.drop_side_effect_free(e,n))===this.left?this:((i=this.clone()).left=t||ne(Bt,this.left,{value:0}),i);var t,i,r=this.right.drop_side_effect_free(e,n);return r?!ae[this.operator]||r instanceof In?(t=this.left.drop_side_effect_free(e,n))?B(this,[t,r.drop_side_effect_free(e)]):r:(r!==(i=this).right&&((i=this.clone()).right=r.drop_side_effect_free(e)),(n?W:G)(i,ne(gt,this,{operator:"&&"==i.operator?"||":"&&",left:i.left.negate(e,n),right:i.right}))):this.left.drop_side_effect_free(e,n)}),Te(ct,function(t,e){var n=this;if(n.is_expr_pure(t)){n.pure&&bn.warn("Dropping __PURE__ call [{file}:{line},{col}]",n.start);var i=je(n.args,t,e);return i&&B(n,i)}var r,o=n.expression;if(n.is_call_pure(t))return(s=n.args.slice()).unshift(o.expression),(s=je(s,t,e))&&B(n,s);if(o instanceof In&&!(o.name&&(r=o.name.definition()).references.length>r.replaced)&&(o.process_expression(!1,function(e){var n=e.value&&e.value.drop_side_effect_free(t,!0);return n?ne(En,e,{body:n}):ne(kn,e)}),Oe(o,function(e){e.value&&(e.value=e.value.drop_side_effect_free(t))}),(n=n.clone()).expression=o.clone()),n instanceof ut){var a=o;if(a instanceof Rt&&(a=a.fixed_value()),a instanceof Pn){a.new=!0;var s,f=vn(a.body,function(e){return!e.has_side_effects(t)});if(delete a.new,f)return(s=n.args.slice()).unshift(o),(s=je(s,t,e))&&B(n,s);if(!a.contains_this())return ne(ct,n,n)}}return n}),Te(bt,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie8")&&(n=[],i instanceof In&&(n.push(i),i=null),r instanceof In&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=ne(gt,this,{operator:"&&",left:this.condition,right:i}):t=r?ne(gt,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie8")?(t&&n.push(t),0==n.length?null:B(this,n)):t)}),Te(Ut,cn),Te(dt,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),Te(In,function(e){return qe(this,e)?null:this}),Te(St,function(e,n){var t=[];this.properties.forEach(function(e){e.key instanceof bn&&t.push(e.key),t.push(e.value)});var i=je(t,e,n);return i&&B(this,i)}),Te(lt,function(e,n){var t=je(this.expressions,e,n);if(!t)return null;var i,r,o,a=t.length-1;return e.option("conditionals")&&0<a&&(i=t[a-1])instanceof yt&&"="==i.operator&&(o=i.left)instanceof Rt&&(r=Ye(e,o.definition(),i.right,t[a]))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i)),t===this.expressions?this:B(this,t)}),Te(ht,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);var i=this.property.drop_side_effect_free(e);return i?B(this,[t,i]):t}),Te(Rt,function(e){return this.is_declared(e)&&ee(this)?null:this}),Te(It,cn),Te(vt,function(e,n){var t=this.expression;if(U[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Rt&&ee(t))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&P(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}),e(En,function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return bn.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),ne(kn,e);if(i!==t)return ne(En,e,{body:i})}return e}),e(jn,function(e,n){return n.option("loops")?ne(Fn,e,e).optimize(n):e}),e(qn,function(t,e){if(!e.option("loops"))return t;var n=t.condition.is_truthy()||t.condition.evaluate(e,!0);if(!(n instanceof bn)){if(n&&!Fe(t,e.parent(),Jn))return ne(Fn,t,{body:ne(On,t.body,{body:[t.body,ne(En,t.condition,{body:t.condition})]})}).optimize(e);if(!Fe(t,e.parent()))return ne(On,t.body,{body:[t.body,ne(En,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof On&&!Fe(t,e.parent(),Jn)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof Xn&&!o.alternative&&o.body instanceof Wn&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=ne(gt,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof En){if(a(o.body))break;t.condition=B(t,[o.body,t.condition]),i.splice(r,1)}else if(!z(o))break}t.body=De(t.body)}return t.body instanceof kn?ne(Fn,t,t).optimize(e):t.body instanceof En?ne(Fn,t,{condition:B(t.condition,[t.body.body,t.condition]),body:ne(kn,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new ei(function(e){return!!n||(e instanceof Rt?(tn(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),e(Fn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t,i=e.condition.evaluate(n);if(i instanceof bn?i=e.condition.is_truthy()||e.condition.evaluate(n,!0):i?e.condition=null:n.option("dead_code")||(t=e.condition,e.condition=E(i,e.condition),e.condition=G(e.condition.transform(n),t)),i)!e.condition||i instanceof bn||(e.body=ne(On,e.body,{body:[ne(En,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){var r=[];return e.init instanceof yn?r.push(e.init):e.init&&r.push(ne(En,e.init,{body:e.init})),r.push(ne(En,e.condition,{body:e.condition})),j(n,e.body,r),ne(On,e,{body:r}).optimize(n)}}return function n(t,i){var e=s(t.body);if(i.option("dead_code")&&(e instanceof Wn||e instanceof Jn&&f(e)||e instanceof Bn)){var r=[];t.init instanceof yn?r.push(t.init):t.init&&r.push(ne(En,t.init,{body:t.init}));var o=f(e)||e instanceof Bn;return t.condition&&o?r.push(ne(Xn,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(ne(En,t.condition,{body:t.condition})):o&&r.push(e),j(i,t.body,r),ne(On,t,{body:r})}if(e instanceof Xn){var a=s(e.body);if(a instanceof Wn&&!f(a))return t.condition?t.condition=ne(gt,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=T(e.alternative),j(i,e.body,r),c(r);if((a=s(e.alternative))instanceof Wn&&!f(a))return t.condition?t.condition=ne(gt,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=T(e.body),j(i,e.alternative,r),c(r)}return t;function s(e){return e instanceof On?e.body[0]:e}function f(e){return i.loopcontrol_target(e)!==i.self()}function c(e){return t.body instanceof On?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=ne(On,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),e(Mn,function(e,n){var t;return n.option("varify")&&(e.init instanceof ot||e.init instanceof at)&&(((t=e.init.definitions[0].name)instanceof xt||t instanceof Ft)&&!t.match_symbol(function(e){if(e instanceof qt)return He(n,e.definition())})&&(e.init=Pe(e.init))),e}),e(Xn,function(e,f){if(L(e.alternative)&&(e.alternative=null),!f.option("conditionals"))return e;var n,t=e.condition.evaluate(f);if(f.option("dead_code")||t instanceof bn||(n=e.condition,e.condition=E(t,n),e.condition=G(e.condition.transform(f),n)),f.option("dead_code")){if(t instanceof bn&&(t=e.condition.is_truthy()||e.condition.evaluate(f,!0)),!t){bn.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var i=[ne(En,e.condition,{body:e.condition})];return j(f,e.body,i),e.alternative&&i.push(e.alternative),ne(On,e,{body:i}).optimize(f)}if(!(t instanceof bn)){bn.warn("Condition always true [{file}:{line},{col}]",e.condition.start);i=[ne(En,e.condition,{body:e.condition}),e.body];return e.alternative&&j(f,e.alternative,i),ne(On,e,{body:i}).optimize(f)}}var r,o=e.condition.negate(f),a=e.condition.print_to_string().length,s=o.print_to_string().length,c=s<a;e.alternative&&c&&(c=!1,e.condition=o,r=e.body,e.body=e.alternative||ne(kn,e),e.alternative=r);var i=[],u=[],l=[],p=_(e.body,i,u,l),d=_(e.alternative,i,u,l);if(p&&d)return 0<u.length&&i.push(ne(st,e,{definitions:u})),0==p.length?i.push(ne(En,e.condition,{body:0<d.length?ne(gt,e,{operator:"||",left:e.condition,right:B(e.alternative,d)}).transform(f):e.condition.clone()}).optimize(f)):0==d.length?(a===s&&!c&&e.condition instanceof gt&&"||"==e.condition.operator&&(c=!0),i.push(ne(En,e,{body:ne(gt,e,{operator:c?"||":"&&",left:c?o:e.condition,right:B(e.body,p)}).transform(f)}).optimize(f))):i.push(ne(En,e,{body:ne(bt,e,{condition:e.condition,consequent:B(e.body,p),alternative:B(e.alternative,d)})}).optimize(f)),l.forEach(function(e){e.definition().references.push(e)}),ne(On,e,{body:i}).optimize(f);if(L(e.body)&&(e=ne(Xn,e,{condition:o,body:e.alternative,alternative:null})),e.body instanceof Bn&&e.alternative instanceof Bn&&e.body.TYPE==e.alternative.TYPE){var h=ne(e.body.CTOR,e,{value:ne(bt,e,{condition:e.condition,consequent:e.body.value||ne(Wt,e.body).transform(f),alternative:e.alternative.value||ne(Wt,e.alternative).transform(f)})});return h instanceof Ln&&(h.in_bool=e.body.in_bool||e.alternative.in_bool),h}if(e.body instanceof Xn&&!e.body.alternative&&!e.alternative&&(e=ne(Xn,e,{condition:ne(gt,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),ke(e.body)&&e.alternative){var v=e.alternative;return e.alternative=null,ne(On,e,{body:[e,v]}).optimize(f)}if(ke(e.alternative)){i=e.body;return e.body=e.alternative,e.condition=c?o:e.condition.negate(f),e.alternative=null,ne(On,e,{body:[e,i]}).optimize(f)}return f.option("typeofs")&&Me(e.condition,e.body,e.alternative),e;function _(e,n,t,i){if(null==e)return[];if(e instanceof On){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(a instanceof Un)n.push(a);else{if(a instanceof kn)continue;if(a instanceof En){if(!f.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof st))return;if(!f.option("sequences")&&0<r.length)return;a.remove_initializers(f,t),a.definitions.forEach(s)}}}return r}if(e instanceof Un)return n.push(e),[];if(e instanceof kn)return[];if(e instanceof En)return[e.body];if(e instanceof st){r=[];return e.remove_initializers(f,t),e.definitions.forEach(s),r}function s(e){e.value&&r.push(ne(yt,e,{operator:"=",left:e.name.convert_symbol(Rt,function(e){i.push(e)}),right:e.value}))}}}),e(Kn,function(i,t){if(!t.option("switches"))return i;var e,n,r=i.expression.evaluate(t);if(r instanceof bn||(n=i.expression,i.expression=E(r,n),i.expression=G(i.expression.transform(t),n)),!t.option("dead_code"))return i;r instanceof bn&&(r=i.expression.evaluate(t,!0));for(var o,a,s,f=[],c=[],u=0,l=i.body.length;u<l&&!s;u++){if((e=i.body[u])instanceof Zn){var p=c[c.length-1];if(o||g(e.body[0],t)&&(!p||ke(p))){y(e,p);continue}o=e}else if(!(r instanceof bn)){if(!((d=e.expression.evaluate(t))instanceof bn)&&d!==r){y(e,c[c.length-1]);continue}d instanceof bn&&(d=e.expression.evaluate(t,!0)),d===r&&(s=e,o&&(a=c.indexOf(o),c.splice(a,1),y(o,c[a-1]),o=null))}ke(e)&&ke(p=c[c.length-1])&&p.body.length==e.body.length&&ne(On,p,p).equivalent_to(ne(On,e,e))&&(p.body=[]),c.push(e)}for(;u<l;)y(i.body[u++],c[c.length-1]);for(;e=c[c.length-1];){if(g(e.body[e.body.length-1],t)&&e.body.pop(),e===o){if(!k(e))break}else{if(e.expression.has_side_effects(t))break;if(o){if(!k(o))break;if(c[c.length-2]!==o)break;o.body=o.body.concat(e.body),e.body=[]}else if(!k(e))break}y(e),c.pop()===o&&(o=null)}if(0==c.length)return ne(On,i,{body:f.concat(ne(En,i.expression,{body:i.expression}))}).optimize(t);if(c[0].body=f.concat(c[0].body),i.body=c,t.option("conditionals"))switch(c.length){case 1:if(!b(c[0]))break;var d=c[0].expression,h=c[0].body.slice();return c[0]!==o&&c[0]!==s?ne(Xn,i,{condition:ne(gt,i,{operator:"===",left:i.expression,right:d}),body:ne(On,i,{body:h}),alternative:null}).optimize(t):(d&&h.unshift(ne(En,d,{body:d})),h.unshift(ne(En,i.expression,{body:i.expression})),ne(On,i,{body:h}).optimize(t));case 2:if(!tn(o,c)||!b(c[1]))break;var v=(h=c[0].body.slice()).length&&g(h[h.length-1],t);if(v&&h.pop(),!vn(h,b))break;var _=c[1].body.length&&ne(On,c[1],c[1]),m=ne(Xn,i,{condition:ne(gt,i,c[0]===o?{operator:"!==",left:i.expression,right:c[1].expression}:{operator:"===",left:i.expression,right:c[0].expression}),body:ne(On,c[0],{body:h}),alternative:v&&_||null});return!v&&_&&(m=ne(On,i,{body:[m,_]})),m.optimize(t)}return i;function g(e,n){return e instanceof Wn&&n.loopcontrol_target(e)===i}function b(e){var n=!1,t=new ei(function(e){if(n||e instanceof Pn||e instanceof En)return!0;g(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function y(e,n){n&&!ke(n)?n.body=n.body.concat(e.body):j(t,e,f)}}),e(nt,function(e,n){if(e.body=q(e.body,n),n.option("dead_code")){if(k(e)&&(!e.bcatch||!e.bcatch.argname||ee(e.bcatch.argname))){var t=[];return e.bcatch&&(j(n,e.bcatch,t),t.forEach(function(e){e instanceof st&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(ne(On,e,e).optimize(n)),e.bfinally&&t.push(ne(On,e.bfinally,e.bfinally).optimize(n)),ne(On,e,{body:t}).optimize(n)}if(e.bfinally&&k(e.bfinally)){t=ne(On,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return ne(On,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),ot.DEFMETHOD("remove_initializers",Ce(function(e,n){return ne(Wt,n).optimize(e)})),at.DEFMETHOD("remove_initializers",Ce(cn)),st.DEFMETHOD("remove_initializers",Ce(cn)),rt.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){var t,i=n.name.definition();return n.value&&(t=ne(Rt,n.name,n.name),e.push(ne(yt,n,{operator:"=",left:t,right:n.value})),i.references.push(t)),i.eliminated++,e},[]);return 0==e.length?null:B(this,e)}),e(ot,Re),e(at,Re),e(ct,function(f,c){var e,t,a=f.expression;if(c.option("sequences"))if(a instanceof pt){if((e=Ie(a))!==a){var n=f.clone();return n.expression=e.expressions.pop(),e.expressions.push(n),e.optimize(c)}}else if(!H(0,a.tail_node())){if((e=Ie(f))!==f)return e.optimize(c)}if(c.option("unused")&&Ue(f,c),c.option("unsafe"))if(R(a))switch(a.name){case"Array":if(1==f.args.length){if((u=f.args[0])instanceof Bt)try{var i=u.value;if(6<i)break;for(var r=Array(i),o=0;o<i;o++)r[o]=ne(Jt,f);return ne(wt,f,{elements:r})}catch(e){bn.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:i,file:f.start.file,line:f.start.line,col:f.start.col});break}if(!u.is_boolean(c)&&!u.is_string(c))break}return ne(wt,f,{elements:f.args});case"Object":if(0==f.args.length)return ne(St,f,{properties:[]});break;case"String":if(0==f.args.length)return ne(Yt,f,{value:""});if(f.args.length<=1)return ne(gt,f,{left:f.args[0],operator:"+",right:ne(Yt,f,{value:""})}).optimize(c);break;case"Number":if(0==f.args.length)return ne(Bt,f,{value:0});if(1==f.args.length)return ne(_t,f,{expression:f.args[0],operator:"+"}).optimize(c);case"Boolean":if(0==f.args.length)return ne(Qt,f);if(1==f.args.length)return ne(_t,f,{expression:ne(_t,f,{expression:f.args[0],operator:"!"}),operator:"!"}).optimize(c);break;case"RegExp":var s=[];if(vn(f.args,function(e){var n=e.evaluate(c);return s.unshift(n),e!==n}))try{return J(c,f,ne(Lt,f,{value:RegExp.apply(RegExp,s)}))}catch(e){bn.warn("Error converting {expr} [{file}:{line},{col}]",{expr:f,file:f.start.file,line:f.start.line,col:f.start.col})}}else if(a instanceof dt)switch(a.property){case"toString":if(0==f.args.length&&!a.expression.may_throw_on_access(c))return ne(gt,f,{left:ne(Yt,f,{value:""}),operator:"+",right:a.expression}).optimize(c);break;case"join":if(a.expression instanceof wt)if(!(0<f.args.length&&(t=f.args[0].evaluate(c))===f.args[0])){var u,r=[],l=[];return(a.expression.elements.forEach(function(e){var n=e.evaluate(c);n!==e?l.push(n):(0<l.length&&(r.push(ne(Yt,f,{value:l.join(t)})),l.length=0),r.push(e))}),0<l.length&&r.push(ne(Yt,f,{value:l.join(t)})),0==r.length)?ne(Yt,f,{value:""}):1==r.length?r[0].is_string(c)?r[0]:ne(gt,r[0],{operator:"+",left:ne(Yt,f,{value:""}),right:r[0]}):""==t?(u=r[0].is_string(c)||r[1].is_string(c)?r.shift():ne(Yt,f,{value:""}),r.reduce(function(e,n){return ne(gt,n,{operator:"+",left:e,right:n})},u).optimize(c)):((z=f.clone()).expression=z.expression.clone(),z.expression.expression=z.expression.expression.clone(),z.expression.expression.elements=r,J(c,f,z))}break;case"charAt":if(f.args.length<2)return(z=ne(ht,f,{expression:a.expression,property:f.args.length?ne(gt,f.args[0],{operator:"|",left:ne(Bt,f,{value:0}),right:f.args[0]}):ne(Bt,f,{value:0})})).is_string=sn,z.optimize(c);break;case"apply":if(2==f.args.length&&f.args[1]instanceof wt)return(k=f.args[1].elements.slice()).unshift(f.args[0]),ne(ct,f,{expression:ne(dt,a,{expression:a.expression,property:"call"}),args:k}).optimize(c);break;case"call":var p=a.expression;if(p instanceof Rt&&(p=p.fixed_value()),p instanceof Pn&&!p.contains_this())return(f.args.length?B(this,[f.args[0],ne(ct,f,{expression:a.expression,args:f.args.slice(1)})]):ne(ct,f,{expression:a.expression,args:[]})).optimize(c)}if(c.option("unsafe_Function")&&R(a)&&"Function"==a.name){if(0==f.args.length)return ne(In,f,{argnames:[],body:[]}).init_vars(a.scope);if(vn(f.args,function(e){return e instanceof Yt}))try{var d=ri(m="n(function("+f.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+f.args[f.args.length-1].value+"})"),h={ie8:c.option("ie8")};d.figure_out_scope(h);var v,_=new si(c.options);(d=d.transform(_)).figure_out_scope(h),d.compute_char_frequency(h),d.mangle_names(h),d.walk(new ei(function(e){return!!v||(e instanceof Pn?(v=e,!0):void 0)}));var m=ai();return On.prototype._codegen.call(v,m),f.args=[ne(Yt,f,{value:v.argnames.map(function(e){return e.print_to_string()}).join(",")}),ne(Yt,f.args[f.args.length-1],{value:m.get().replace(/^\{|\}$/g,"")})],f}catch(e){if(!(e instanceof ti))throw e;bn.warn("Error parsing code passed to new Function [{file}:{line},{col}]",f.args[f.args.length-1].start),bn.warn(e.toString())}}var g=a instanceof Rt?a.fixed_value():a,b=g instanceof Pn,y=b&&g.first_statement(),w=b&&c.option("inline")&&!f.is_expr_pure(c)&&vn(g.argnames,function(e){return!(e instanceof xt)});if(w&&y instanceof Ln){var x=y.value;if(a===g&&(!x||x.is_constant_expression())){var k=f.args.concat(x||ne(Wt,f));return B(f,k).optimize(c)}}if(b){var E,T=!1;if(w&&!g.uses_arguments&&!g.pinned()&&!(g.name&&g instanceof In)&&(a===g||!Xe(c,E=a.definition())&&g.is_constant_expression(N(c)))&&(x=function(e){var n=g.body.length;if(c.option("inline")<3)return 1==n&&j(e);e=null;for(var t=0;t<n;t++){var i=g.body[t];if(i instanceof st){if((T||!vn(i.definitions,function(e){return!e.value}))&&(T=!0,e))return!1}else{if(i instanceof Un||i instanceof kn)continue;if(e)return!1;e=i}}return j(e)}(y))&&!g.contains_this()){var S,D,O,A=a===g||E.single_use&&E.references.length-E.replaced==1;if(function(){if(T)return;if(c.option("inline")<2&&g.argnames.length)return;if(!g.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Ct}))return;var r,o=!1,a=[],s=!1;if(x.walk(new ei(function(e,n){if(o)return!0;if(e instanceof gt&&ae[e.operator]||e instanceof bt)a=null;else{if(e instanceof Nn)return o=!0;if(!(e instanceof Rt))return e.has_side_effects(c)?(n(),s=!0):void 0;var t=e.definition();if(g.variables.get(e.name)!==t)return void(a=null);if(t.init instanceof Un)return o=!0;if(fe(e,this.parent()))return o=!0;var i=F(t);if(r<i||(r=i),!a)return;s?a=null:a.push(g.argnames[i])}})),o)return;var e=f.args.length;if(a&&g.argnames.length>=e){for(e=g.argnames.length;e-- >r&&g.argnames[e]===a.pop(););e++}var n=s&&!a&&c.find_parent(Nn);return e<=r||vn(f.args.slice(r,e),n?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(c)})}()){var k=f.args.slice(),$=[];k.push(x.clone(!0).transform(new oi(function(e){if(e instanceof Rt){var n=e.definition();if(g.variables.get(e.name)!==n)return $.push(e),e;var t=F(n),i=k[t];if(!i)return ne(Wt,f);k[t]=null;var r=this.parent();return r?te(0,r,e,i):i}})));var z=B(f,k.filter(function(e){return e})).optimize(c);if(z=te(0,c.parent(),c.self(),z),A||G(z,f)===z)return $.forEach(function(e){var n=e.definition();n.references.push(e),A&&n.replaced++}),z}if(A&&function(){var e,n=Object.create(null),t=0;O=c.self();for(;!(O instanceof Nn);)if(O.variables&&O.variables.each(function(e){n[e.name]=!0}),e=O,(O=c.parent(t++))instanceof zn)D=[];else if(O instanceof Fn){if(O.init===e)continue;D=[]}else if(O instanceof Mn){if(O.init===e)continue;if(O.object===e)continue;D=[]}else if(O instanceof Rt&&O.fixed_value()instanceof Nn)return!1;if(!(S=O.body.indexOf(e)+1))return!1;var i=(!(O instanceof Hn)||c.toplevel.vars)&&(a!==g||g.parent_scope.resolve()===c.find_parent(Nn)),r=c.option("inline"),o=Object.create(n);return!!function(e,n,t){for(var i=0;i<g.argnames.length;i++){var r=g.argnames[i];if(!r.__unused){if(!t||M(e,r.name))return!1;n[r.name]=!0,D&&D.push(r.definition())}}return!0}(n,o,2<=r&&i)&&(!!function(n,e,t){for(var i=0;i<g.body.length;i++){var r=g.body[i];if(r instanceof Un){if(!t||M(e,r.name.name))return!1;if(!vn(r.enclosed,function(e){return e.scope===r||!n[e.name]}))return!1}else if(r instanceof st){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(M(n,a.name))return!1;D&&D.push(a.definition())}}}return!0}(n,o,3<=r&&i)&&(!D||0==D.length||!Qe(g,D)))}()){g._squeezed=!0,a!==g&&(g.parent_scope=a.scope);z=B(f,function(){var e=[],n=[];(function(e,n){for(var t=g.argnames.length,i=f.args.length;--i>=t;)n.push(f.args[i]);for(i=t;0<=--i;){var r,o=g.argnames[i],a=f.args[i];o.__unused||O.var_names()[o.name]?a&&n.push(a):(r=ne(Mt,o,o),o.definition().orig.push(r),!a&&D&&(a=ne(Wt,f)),"__unused"in o?(C(e,n,r),a&&n.push(a)):C(e,n,r,a))}e.reverse(),n.reverse()})(e,n),function(e,n){for(var t=n.length,i=0;i<g.body.length;i++){var r=g.body[i];if(r instanceof st)for(var o=0;o<r.definitions.length;o++){var a,s,f=r.definitions[o],c=f.name,u=c.definition().redefined();u&&((c=c.clone()).thedef=u),C(e,n,c,f.value),D&&vn(g.argnames,function(e){return e.name!=c.name})&&(a=g.variables.get(c.name),s=ne(Rt,c,c),a.references.push(s),n.splice(t++,0,ne(yt,f,{operator:"=",left:s,right:ne(Wt,c)})))}}}(e,n),n.push(x);var t=g.body.filter(function(e){if(e instanceof Un){var n=e.name.definition();return O.functions.set(n.name,n),O.variables.set(n.name,n),O.enclosed.push(n),O.var_names()[n.name]=!0}});t.unshift(S,0),e.length&&t.push(ne(st,g,{definitions:e}));return[].splice.apply(O.body,t),g.enclosed.forEach(function(e){O.var_names()[e.name]||(O.enclosed.push(e),O.var_names()[e.name]=!0)}),n}()).optimize(c);return te(0,c.parent(),c.self(),z)}}if(c.option("side_effects")&&vn(g.body,L)&&vn(g.argnames,function(e){return!(e instanceof xt)})&&(g!==a||qe(g,c))){k=f.args.concat(ne(Wt,f));return B(f,k).optimize(c)}}if(c.option("drop_console")&&a instanceof pt){for(var q=a.expression;q.expression;)q=q.expression;if(R(q)&&"console"==q.name)return ne(Wt,f).optimize(c)}return c.option("negate_iife")&&c.parent()instanceof En&&P(f)?f.negate(c,!0):K(c,f);function j(e){return e?e instanceof Ln?e.value||ne(Wt,f):e instanceof En?ne(_t,e,{operator:"void",expression:e.body}):void 0:ne(Wt,f)}function F(e){for(var n=g.argnames.length;0<=--n;)if(g.argnames[n].definition()===e)return n}function M(e,n){return e[n]||oe[n]||O.var_names()[n]}function C(e,n,t,i){var r,o=t.definition();O.variables.set(t.name,o),O.enclosed.push(o),O.var_names()[t.name]||(O.var_names()[t.name]=!0,e.push(ne(ft,t,{name:t,value:null}))),i&&(r=ne(Rt,t,t),o.references.push(r),n.push(ne(yt,f,{operator:"=",left:r,right:i})))}}),e(ut,function(e,n){if(n.option("sequences")){var t=Ie(e);if(t!==e)return t.optimize(n)}if(n.option("unsafe")){var i=e.expression;if(R(i))switch(i.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return ne(ct,e,e).transform(n)}}return e}),e(lt,function(e,o){var r=function(){if(!o.option("side_effects"))return e.expressions;var t=[],i=gn(o),r=e.expressions.length-1;return e.expressions.forEach(function(e,n){n<r&&(e=e.drop_side_effect_free(o,i)),e&&(x(t,e),i=!1)}),t}(),a=r.length-1;return function(){if(!o.option("conditionals"))return;for(var e=1;e<a;e++){var n,t,i=r[e-1];i instanceof yt&&"="==i.operator&&i.left instanceof Rt&&(n=i.left.definition(),(t=Ye(o,n,i.right,r[e]))&&(i.right=t,r.splice(e,1),a--))}}(),function(){if(!o.option("side_effects"))return;for(;0<a&&F(r[a],o);)a--;a<r.length-1&&(r[a]=ne(_t,e,{operator:"void",expression:r[a]}),r.length=a+1)}(),0==a?(e=te(0,o.parent(),o.self(),r[0]))instanceof lt||(e=e.optimize(o)):e.expressions=r,e}),e(mt,function(e,n){if(n.option("sequences")){var t=Ie(e);if(t!==e)return t.optimize(n)}return K(n,e)});var Be=hn("+ -"),Le=hn("* / %");e(_t,function(e,n){var t,i=e.operator,r=e.expression;if(n.option("evaluate")&&"delete"==i&&!(r instanceof Rt||r instanceof pt||((t=r)instanceof Xt||t instanceof Gt||t instanceof Wt)))return r instanceof lt?((r=r.expressions.slice()).push(ne(Zt,e)),B(e,r).optimize(n)):B(e,[r,ne(Zt,e)]).optimize(n);if(n.option("sequences")&&("typeof"!=i||!R(r.tail_node()))){var o=Ie(e);if(o!==e)return o.optimize(n)}if(n.option("side_effects")&&"void"==i)return(r=r.drop_side_effect_free(n))?(e.expression=r,e):ne(Wt,e).optimize(n);if(n.option("booleans")){if("!"==i&&r.is_truthy())return B(e,[r,ne(Qt,e)]).optimize(n);if(n.in_boolean_context())switch(i){case"!":if(r instanceof _t&&"!"==r.operator)return r.expression;r instanceof gt&&(e=J(n,e,r.negate(n,gn(n))));break;case"typeof":bn.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var a=[ne(Zt,e)];return r instanceof Rt&&ee(r)||a.unshift(r),B(e,a).optimize(n)}}return"-"==i&&r instanceof Xt&&(r=r.transform(n)),n.option("evaluate")&&r instanceof gt&&Be[i]&&Le[r.operator]&&(r.left.is_constant()||!r.right.has_side_effects(n))?ne(gt,e,{operator:r.operator,left:ne(_t,r.left,{operator:i,expression:r.left}),right:r.right}):"-"==i&&(r instanceof Bt||r instanceof Xt)?e:K(n,e)}),gt.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof pt){if(!(this.left.expression instanceof lt))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),B(this,n)}if(this.left instanceof lt){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),B(this,n)}if(this.right instanceof lt){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Rt,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),B(this,n);if(0<o)return(t=this.clone()).right=B(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),B(this,n)}return this});var Ve=hn("indexOf lastIndexOf"),Ge=hn("== === != !== * & | ^");function We(e){return e instanceof yt?"="==e.operator&&We(e.right):e instanceof lt?We(e.tail_node()):e instanceof Rt?We(e.fixed_value()):e instanceof wt||e instanceof Pn||e instanceof ut||e instanceof St}function Je(e,n){return n instanceof dt?Je(e,n.expression):n instanceof ht?Je(e,n.expression)&&Je(e,n.property):n instanceof zt||!n.has_side_effects(e)}function Xe(e,n){var t=0,i=e.self();do{if(i instanceof Pn&&i.name&&i.name.definition()===n)return i}while(i=e.parent(t++))}function Ke(e,n){return e instanceof Rt||e.TYPE===n.TYPE}function Qe(t,n){var i=!1,r=new ei(function(e){return!!i||(e instanceof Rt&&tn(e.definition(),n)?i=!0:void 0)}),o=new ei(function(e){if(i)return!0;if(e instanceof Nn&&e!==t){var n=o.parent();if(n instanceof ct&&n.expression===e)return;return e.walk(r),!0}});return t.walk(o),i}e(gt,function(i,a){function t(){return i.left.is_constant()||i.right.is_constant()||!i.left.has_side_effects(a)&&!i.right.has_side_effects(a)}function e(e){var n;t()&&(e&&(i.operator=e),n=i.left,i.left=i.right,i.right=n)}function n(){var e=i.right;i.left=ne(gt,i,{operator:i.operator,left:i.left,right:e.left,start:i.left.start,end:e.left.end}),i.right=e.right,i.left=i.left.transform(a)}if(!Ge[i.operator]||!i.right.is_constant()||i.left.is_constant()||i.left instanceof gt&&ii[i.left.operator]>=ii[i.operator]||e(),a.option("sequences")){var r=i.lift_sequences(a);if(r!==i)return r.optimize(a)}if(a.option("assignments")&&ae[i.operator]){var o=i.right;if(i.left instanceof Rt&&o instanceof yt&&"="==o.operator&&i.left.equivalent_to(o.left))return i.right=o.right,o.right=i,o}if(a.option("comparisons"))switch(i.operator){case"===":case"!==":if(F(i.left,a)&&i.right.is_defined(a))return bn.warn("Expression always defined [{file}:{line},{col}]",i.start),B(i,[i.right,ne("==="==i.operator?Qt:Zt,i)]).optimize(a);var s=!0;(i.left.is_string(a)&&i.right.is_string(a)||i.left.is_number(a)&&i.right.is_number(a)||i.left.is_boolean(a)&&i.right.is_boolean(a)||Je(a,i.left)&&i.left.equivalent_to(i.right))&&(i.operator=i.operator.slice(0,2));case"==":case"!=":if(!s&&F(i.left,a))i.left=ne(Vt,i.left);else if(a.option("typeofs")&&i.left instanceof Yt&&"undefined"==i.left.value&&i.right instanceof _t&&"typeof"==i.right.operator){var f=i.right.expression;(f instanceof Rt?!f.is_declared(a):f instanceof pt&&a.option("ie8"))||(i.right=f,i.left=ne(Wt,i.left).optimize(a),2==i.operator.length&&(i.operator+="="))}else if(i.left instanceof Rt&&i.right instanceof Rt&&i.left.definition()===i.right.definition()&&We(i.left))return ne("="==i.operator[0]?Zt:Qt,i).optimize(a);break;case"&&":case"||":if((m=i.left).operator==i.operator&&(m=m.right),m instanceof gt&&m.operator==("&&"==i.operator?"!==":"===")&&i.right instanceof gt&&m.operator==i.right.operator&&(F(m.left,a)&&i.right.left instanceof Vt||m.left instanceof Vt&&F(i.right.left,a))&&!m.right.has_side_effects(a)&&m.right.equivalent_to(i.right.right)){var c=ne(gt,i,{operator:m.operator.slice(0,-1),left:ne(Vt,i),right:m.right});return m!==i.left&&(c=ne(gt,i,{operator:i.operator,left:i.left.left,right:c})),c}}var u=a.option("booleans")&&a.in_boolean_context();if(u)switch(i.operator){case"+":var l=i.left.evaluate(a),p=i.right.evaluate(a);if(l&&"string"==typeof l)return bn.warn("+ in boolean context always true [{file}:{line},{col}]",i.start),B(i,[i.right,ne(Zt,i)]).optimize(a);if(p&&"string"==typeof p)return bn.warn("+ in boolean context always true [{file}:{line},{col}]",i.start),B(i,[i.left,ne(Zt,i)]).optimize(a);break;case"==":if(i.left instanceof Yt&&""==i.left.value&&i.right.is_string(a))return ne(_t,i,{operator:"!",expression:i.right}).optimize(a);break;case"!=":if(i.left instanceof Yt&&""==i.left.value&&i.right.is_string(a))return i.right.optimize(a)}var d=a.parent();if(a.option("comparisons")&&i.is_boolean(a)){if(!(d instanceof gt)||d instanceof yt){var h=J(a,i,ne(_t,i,{operator:"!",expression:i.negate(a,gn(a))}));if(h!==i)return h}switch(i.operator){case">":e("<");break;case">=":e("<=")}}if(a.option("conditionals")&&ae[i.operator]&&i.right instanceof gt&&i.operator==i.right.operator&&n(),a.option("strings")&&"+"==i.operator){if(i.right instanceof Yt&&""==i.right.value&&i.left.is_string(a))return i.left.optimize(a);if(i.left instanceof Yt&&""==i.left.value&&i.right.is_string(a))return i.right.optimize(a);if(i.left instanceof gt&&"+"==i.left.operator&&i.left.left instanceof Yt&&""==i.left.left.value&&i.right.is_string(a))return i.left=i.left.right,i.optimize(a);i.right instanceof gt&&i.operator==i.right.operator&&(i.left.is_string(a)&&i.right.is_string(a)||i.right.left.is_string(a)&&(i.left.is_constant()||!i.right.right.has_side_effects(a)))&&n()}if(a.option("evaluate")){var v,_,m,g,b,y=!0;switch(i.operator){case"&&":if(!(l=S(i.left)))return bn.warn("Condition left of && always false [{file}:{line},{col}]",i.start),te(0,d,a.self(),i.left).optimize(a);if(!(l instanceof bn))return bn.warn("Condition left of && always true [{file}:{line},{col}]",i.start),B(i,[i.left,i.right]).optimize(a);if(p=i.right.evaluate(a)){if(!(p instanceof bn)&&(u||"&&"==d.operator&&d.left===a.self()))return bn.warn("Dropping side-effect-free && [{file}:{line},{col}]",i.start),i.left.optimize(a)}else{if(u)return bn.warn("Boolean && always false [{file}:{line},{col}]",i.start),B(i,[i.left,ne(Qt,i)]).optimize(a);i.falsy=!0}if("||"==i.left.operator)if(!(v=i.left.right.evaluate(a,!0)))return ne(bt,i,{condition:i.left.left,consequent:i.right,alternative:i.left.right}).optimize(a);break;case"||":if(!(l=S(i.left)))return bn.warn("Condition left of || always false [{file}:{line},{col}]",i.start),B(i,[i.left,i.right]).optimize(a);if(!(l instanceof bn))return bn.warn("Condition left of || always true [{file}:{line},{col}]",i.start),te(0,d,a.self(),i.left).optimize(a);if(p=i.right.evaluate(a)){if(!(p instanceof bn)){if(u)return bn.warn("Boolean || always true [{file}:{line},{col}]",i.start),B(i,[i.left,ne(Zt,i)]).optimize(a);i.truthy=!0}}else if(u||"||"==d.operator&&d.left===a.self())return bn.warn("Dropping side-effect-free || [{file}:{line},{col}]",i.start),i.left.optimize(a);if("&&"==i.left.operator)if((v=i.left.right.is_truthy()||i.left.right.evaluate(a,!0))&&!(v instanceof bn))return ne(bt,i,{condition:i.left.left,consequent:i.left.right,alternative:i.right}).optimize(a);break;case"+":if(i.left instanceof Ut&&i.right instanceof gt&&"+"==i.right.operator&&i.right.left instanceof Ut&&i.right.is_string(a)&&(i=ne(gt,i,{operator:"+",left:ne(Yt,i.left,{value:""+i.left.value+i.right.left.value,start:i.left.start,end:i.right.left.end}),right:i.right.right})),i.right instanceof Ut&&i.left instanceof gt&&"+"==i.left.operator&&i.left.right instanceof Ut&&i.left.is_string(a)&&(i=ne(gt,i,{operator:"+",left:i.left.left,right:ne(Yt,i.right,{value:""+i.left.right.value+i.right.value,start:i.left.right.start,end:i.right.end})})),i.right instanceof _t&&"-"==i.right.operator&&i.left.is_number(a)){i=ne(gt,i,{operator:"-",left:i.left,right:i.right.expression});break}if(i.left instanceof _t&&"-"==i.left.operator&&t()&&i.right.is_number(a)){i=ne(gt,i,{operator:"-",left:i.right,right:i.left.expression});break}if(a.option("unsafe_math")&&i.left instanceof gt&&ii[i.left.operator]==ii[i.operator]&&i.right.is_constant()&&(i.right.is_boolean(a)||i.right.is_number(a))&&i.left.is_number(a)&&!i.left.right.is_constant()&&(i.left.left.is_boolean(a)||i.left.left.is_number(a))){i=ne(gt,i,{operator:i.left.operator,left:ne(gt,i,{operator:i.operator,left:i.right,right:i.left.left}),right:i.left.right});break}case"-":if(i.right instanceof _t&&"-"==i.right.operator&&i.left.is_number(a)&&i.right.expression.is_number(a)){i=ne(gt,i,{operator:"+",left:i.left,right:i.right.expression});break}case"*":case"/":y=a.option("unsafe_math"),"+"!=i.operator&&["left","right"].forEach(function(e){var n,t=i[e];t instanceof _t&&"+"==t.operator&&(((n=t.expression).is_boolean(a)||n.is_number(a)||n.is_string(a))&&(i[e]=n))});case"&":case"|":case"^":if("-"==i.operator||"/"==i.operator||!i.left.is_boolean(a)&&!i.left.is_number(a)||!i.right.is_boolean(a)&&!i.right.is_number(a)||!t()||i.left instanceof gt&&i.left.operator!=i.operator&&ii[i.left.operator]>=ii[i.operator]||(_=ne(gt,i,{operator:i.operator,left:i.right,right:i.left}),i=i.right instanceof Ut&&!(i.left instanceof Ut)?J(a,_,i):J(a,i,_)),!y||!i.is_number(a))break;!(i.right instanceof gt&&"%"!=i.right.operator&&ii[i.right.operator]==ii[i.operator]&&i.right.is_number(a)&&("+"!=i.operator||i.right.left.is_boolean(a)||i.right.left.is_number(a)))||"-"==i.operator&&i.left.is_negative_zero()||!i.right.left.is_constant_expression()&&i.right.right.has_side_effects(a)||"+"!=(i=ne(gt,i,{operator:E(i.operator,i.right.operator),left:ne(gt,i.left,{operator:i.operator,left:i.left,right:i.right.left,start:i.left.start,end:i.right.left.end}),right:i.right.right})).operator||i.right.is_boolean(a)||i.right.is_number(a)||(i.right=ne(_t,i.right,{operator:"+",expression:i.right})),i.right instanceof Ut&&i.left instanceof gt&&"%"!=i.left.operator&&ii[i.left.operator]==ii[i.operator]&&i.left.is_number(a)&&(i.left.left instanceof Ut?(m=T(i.left,i.operator,i.left.left,i.right,i.left.left.start,i.right.end),i=T(i,i.left.operator,K(a,m),i.left.right)):i.left.right instanceof Ut&&(g=E(i.left.operator,i.operator),!(b=K(a,T(i.left,g,i.left.right,i.right))).is_constant()||"-"==i.left.operator&&0!=i.right.value&&0==+b.value&&i.left.left.is_negative_zero()||(i=T(i,i.left.operator,i.left.left,b))))}if(!(d instanceof _t&&"delete"==d.operator)){if(i.left instanceof Bt&&!i.right.is_constant())switch(i.operator){case"+":if(0==i.left.value){if(i.right.is_boolean(a))return ne(_t,i,{operator:"+",expression:i.right}).optimize(a);if(i.right.is_number(a)&&!i.right.is_negative_zero())return i.right}break;case"*":if(1==i.left.value)return i.right.is_number(a)?i.right:ne(_t,i,{operator:"+",expression:i.right}).optimize(a)}if(i.right instanceof Bt&&!i.left.is_constant())switch(i.operator){case"+":if(0==i.right.value){if(i.left.is_boolean(a))return ne(_t,i,{operator:"+",expression:i.left}).optimize(a);if(i.left.is_number(a)&&!i.left.is_negative_zero())return i.left}break;case"-":if(0==i.right.value)return i.left.is_number(a)?i.left:ne(_t,i,{operator:"+",expression:i.left}).optimize(a);break;case"/":if(1==i.right.value)return i.left.is_number(a)?i.left:ne(_t,i,{operator:"+",expression:i.left}).optimize(a)}}}if(a.option("typeofs"))switch(i.operator){case"&&":Me(i.left,i.right,null);break;case"||":Me(i.left,null,i.right)}if(a.option("unsafe")){var w=D(i.right);if(u&&w&&("=="==i.operator||"!="==i.operator)&&i.left instanceof Bt&&0==i.left.value)return("=="==i.operator?ne(_t,i,{operator:"!",expression:i.right}):i.right).optimize(a);var x=D(i.left);if(a.option("comparisons")&&function(){switch(i.operator){case"<=":return w&&i.left instanceof Bt&&0==i.left.value;case"<":if(x&&i.right instanceof Bt&&0==i.right.value)return!0;case"==":case"!=":return w?i.left instanceof Bt&&-1==i.left.value||i.left instanceof _t&&"-"==i.left.operator&&i.left.expression instanceof Bt&&1==i.left.expression.value:!1}}()){var k=ne(_t,i,{operator:"!",expression:ne(_t,i,{operator:"~",expression:x?i.left:i.right})});switch(i.operator){case"<":if(x)break;case"<=":case"!=":k=ne(_t,i,{operator:"!",expression:k})}return k.optimize(a)}}return K(a,i);function E(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function T(e,n,t,i,r,o){return"+"==n&&(t.is_boolean(a)||t.is_number(a)||(t=ne(_t,t,{operator:"+",expression:t})),i.is_boolean(a)||i.is_number(a)||(i=ne(_t,i,{operator:"+",expression:i}))),ne(gt,e,{operator:n,left:t,right:i,start:r,end:o})}function S(e){return!!e.truthy||!e.falsy&&(!!e.is_truthy()||e.evaluate(a,!0))}function D(e){return"Call"==e.TYPE&&e.expression instanceof dt&&Ve[e.expression.property]}}),e(Rt,function(e,n){if(!n.option("ie8")&&R(e)&&(!e.scope.resolve().uses_with||!n.find_parent(Cn)))switch(e.name){case"undefined":return ne(Wt,e).optimize(n);case"NaN":return ne(Gt,e).optimize(n);case"Infinity":return ne(Xt,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&fe(n.self(),t)!==n.self()){var r,o,i,a=e.definition(),s=e.fixed_value(),f=a.single_use&&!(t instanceof ct&&t.is_expr_pure(n));if(f)if(s instanceof Pn){if(a.scope===e.scope.resolve()&&!a.in_loop||n.option("reduce_funcs")&&1!=a.escaped.depth&&!s.inlined){if(Xe(n,a))f=!1;else if(s.name&&s.name.definition()!==a)f=!1;else if((s.parent_scope!==e.scope.resolve()||a.orig[0]instanceof Ct)&&"f"==(f=s.is_constant_expression(e.scope)))for(var c=e.scope;(c instanceof Un||c instanceof In)&&(c.inlined=!0),c=c.parent_scope;);}else f=!1;f&&(s.parent_scope=e.scope)}else s&&s.is_constant_expression()||(f=!1);if(f)return a.single_use=!1,s._squeezed=!0,s.single_use=!0,s instanceof Un&&((s=ne(In,s,s)).name=ne(Ht,s.name,s.name)),s instanceof Pn&&(c=e.scope.resolve(),s.enclosed.forEach(function(e){s.variables.has(e.name)||c.var_names()[e.name]||(c.enclosed.push(e),c.var_names()[e.name]=!0)})),0<a.recursive_refs?(r=(v=s.clone(!0)).name.definition(),(i=(o=v.variables.get(v.name.name))&&o.orig[0])instanceof Ht||(((i=ne(Ht,v.name,v.name)).scope=v).name=i,(o=v.def_function(i)).recursive_refs=a.recursive_refs),v.walk(new ei(function(e){if(e instanceof Rt){var n=e.definition();if(n===r)(e.thedef=o).references.push(e);else{n.single_use=!1;var t=e.fixed_value();if(!(t instanceof Pn))return;if(!t.name)return;if(t.name.definition()!==n)return;if(n.scope!==t.name.scope)return;if(s.variables.get(t.name.name)!==n)return;t.name=t.name.clone();var i=v.variables.get(t.name.name)||v.def_function(t.name);(e.thedef=i).references.push(e)}}}))):(v=s.optimize(n))===s&&(v=v.transform(new oi(function(e,n){return e instanceof Nn||n(e=e.clone(),this),e}))),a.replaced++,v;var u,l,p,d,h,v,_=e.fixed!==a.fixed;if(s&&(_||!1!==a.should_replace))if(s instanceof It?a.orig[0]instanceof Ct||!m(a)||(u=s):(l=s.evaluate(n,!0))!==s&&"function"!=typeof l&&("object"!=typeof l||l instanceof RegExp&&n.option("unsafe_regexp")&&!a.cross_loop&&m(a))&&(u=E(l,s)),u)if(_||void 0!==a.should_replace||(p=u.optimize(n).print_to_string().length,g(s)||(p=Math.min(p,s.print_to_string().length)),d=a.name.length,n.option("unused")&&!n.exposed(a)&&(d+=(d+2+p)/(a.references.length-a.replaced-a.assignments)),h=p-Math.floor(d),a.should_replace=h<n.eval_threshold),_||a.should_replace)return g(s)?(v=u.optimize(n))===u&&(v=v.clone(!0)):(v=G(u.optimize(n),s))!==u&&v!==s||(v=v.clone(!0)),a.replaced++,v}return e;function m(e){var n=e.scope.resolve();return vn(e.references,function(e){return n===e.scope.resolve()})}function g(e){var n;return e.walk(new ei(function(e){if(e instanceof Rt&&(n=!0),n)return!0})),n}}),e(Wt,function(e,n){if(n.option("unsafe_undefined")){var t=N(n).find_variable("undefined");if(t){var i=ne(Rt,e,{name:"undefined",scope:t.scope,thedef:t});return i.is_undefined=!0,i}}var r=fe(n.self(),n.parent());return r&&Ke(r,e)?e:ne(_t,e,{operator:"void",expression:ne(Bt,e,{value:0})})}),e(Xt,function(e,n){var t=fe(n.self(),n.parent());return(!t||!Ke(t,e))&&(!n.option("keep_infinity")||t&&!Ke(t,e)||N(n).find_variable("Infinity"))?ne(gt,e,{operator:"/",left:ne(Bt,e,{value:1}),right:ne(Bt,e,{value:0})}):e}),e(Gt,function(e,n){var t=fe(n.self(),n.parent());return t&&!Ke(t,e)||N(n).find_variable("NaN")?ne(gt,e,{operator:"/",left:ne(Bt,e,{value:0}),right:ne(Bt,e,{value:0})}):e});var Ze=hn("+ - * / % >> << >>> | ^ &"),en=hn("* | ^ &");function nn(e,n){if(e instanceof Rt&&(e=e.fixed_value()),e){if(!(e instanceof Pn))return 1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!e.contains_this())}}e(yt,function(o,a){if(a.option("dead_code"))if(o.left instanceof pt){if("="==o.operator){if(o.__drop){var e=[o.left.expression];return o.left instanceof ht&&e.push(o.left.property),e.push(o.right),B(o,e).optimize(a)}if(o.left.equivalent_to(o.right)&&!o.left.has_side_effects(a))return o.right;var n=o.left.expression;if(n instanceof Pn||!a.has_directive("use strict")&&n instanceof Ut&&!n.may_throw_on_access(a))return o.left instanceof dt?o.right:B(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Rt&&vn(o.left.definition().orig,function(e){return!(e instanceof jt)})){if("="==o.operator&&o.left.equivalent_to(o.right)&&!((c=a.parent())instanceof _t&&"delete"==c.operator))return o.right;if(o.left.is_immutable())return d();var t,i=o.left.definition(),s=i.scope.resolve(),r=s===a.find_parent(Pn),f=0,c=o;do{if(t=c,(c=a.parent(f++))instanceof yt){if(c.left instanceof pt)break;if(!(c.left instanceof Rt))continue;if(c.left.definition()!==i)continue;if(p(f,c))break;return i.fixed=!1,d()}if(c instanceof Bn){if(!r)break;if(p(f,c))break;if(Qe(s,[i]))break;return i.fixed=!1,d()}if(c instanceof ft){if(!(c.name instanceof qt))continue;if(c.name.definition()!==i)continue;if(p(f,c))break;return i.fixed=!1,d()}}while(c instanceof gt&&c.right===t||c instanceof lt&&c.tail_node()===t||c instanceof _t)}if(a.option("sequences")){var u=o.lift_sequences(a);if(u!==o)return u.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Rt&&o.right instanceof gt){if(o.right.left instanceof Rt&&o.right.left.name==o.left.name&&Ze[o.right.operator])return ne(yt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.right}).optimize(a);if(o.right.right instanceof Rt&&o.right.right.name==o.left.name&&en[o.right.operator]&&!o.right.left.has_side_effects(a))return ne(yt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.left}).optimize(a)}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof Bt&&1==o.right.value){var l=o.operator.slice(0,-1);return ne(_t,o,{operator:l+l,expression:o.left})}}return K(a,o);function p(e,n){var t=o.right;o.right=ne(Vt,t);var i,r=n.may_throw(a);for(o.right=t;i=a.parent(e++);){if(i===s)return;if(i instanceof nt){if(i.bfinally)return 1;if(r&&i.bcatch)return 1}}}function d(){return("="!=o.operator?ne(gt,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):te(0,a.parent(),o,o.right)).optimize(a)}}),e(bt,function(a,n){if(n.option("sequences")&&a.condition instanceof lt){var e=a.condition.expressions.slice();return a.condition=e.pop(),e.push(a),B(a,e)}if(!n.option("conditionals"))return a;var s=a.condition.is_truthy()||a.condition.evaluate(n,!0);if(!s)return bn.warn("Condition always false [{file}:{line},{col}]",a.start),B(a,[a.condition,a.alternative]).optimize(n);if(!(s instanceof bn))return bn.warn("Condition always true [{file}:{line},{col}]",a.start),B(a,[a.condition,a.consequent]).optimize(n);var t=s.negate(n,gn(n));J(n,s,t)===t&&(a=ne(bt,a,{condition:t,consequent:a.alternative,alternative:a.consequent}),t=s,s=a.condition);var i=a.consequent,r=a.alternative;if(Je(n,s)){if(s.equivalent_to(i))return ne(gt,a,{operator:"||",left:s,right:r}).optimize(n);if(s.equivalent_to(r))return ne(gt,a,{operator:"&&",left:s,right:i}).optimize(n)}var o=i.tail_node();if(o instanceof yt){var f="="==o.operator,c=f?r.tail_node():r;if((f||i===o)&&c instanceof yt&&o.operator==c.operator&&o.left.equivalent_to(c.left)&&(f&&o.left instanceof Rt||!s.has_side_effects(n)&&b(i)&&b(r)))return ne(yt,a,{operator:o.operator,left:o.left,right:ne(bt,a,{condition:s,consequent:y(i),alternative:y(r)})})}if(i.equivalent_to(r))return B(a,[s,i]).optimize(n);var u,l=function e(n,t,i){if(!g(n,t))return!i&&ne(bt,a,{condition:s,consequent:n,alternative:t});var r=e(n.expression,t.expression);if(!r)return;var o=n.clone();o.expression=r;return o}(i,r,!0);if(l)return l;if(i instanceof ct&&r.TYPE==i.TYPE&&0<=(u=m(i,r))&&i.expression.equivalent_to(r.expression)&&!s.has_side_effects(n)&&!i.expression.has_side_effects(n)){var p=i.clone();return p.args[u]=ne(bt,a,{condition:s,consequent:i.args[u],alternative:r.args[u]}),p}if(i instanceof bt&&i.alternative.equivalent_to(r))return ne(bt,a,{condition:ne(gt,a,{left:s,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:r});if(i instanceof bt&&i.consequent.equivalent_to(r))return ne(bt,a,{condition:ne(gt,a,{left:t,operator:"||",right:i.condition}),consequent:r,alternative:i.alternative});if(r instanceof bt&&i.equivalent_to(r.consequent))return ne(bt,a,{condition:ne(gt,a,{left:s,operator:"||",right:r.condition}),consequent:i,alternative:r.alternative});if(r instanceof bt&&i.equivalent_to(r.alternative))return ne(bt,a,{condition:ne(gt,a,{left:t,operator:"&&",right:r.condition}),consequent:r.consequent,alternative:i});if((i instanceof lt||r instanceof lt)&&i.tail_node().equivalent_to(r.tail_node()))return B(a,[ne(bt,a,{condition:s,consequent:w(i),alternative:w(r)}),i.tail_node()]).optimize(n);if(i instanceof gt&&"&&"==i.operator&&i.right.equivalent_to(r))return ne(gt,a,{operator:"&&",left:ne(gt,a,{operator:"||",left:t,right:i.left}),right:r}).optimize(n);if(i instanceof gt&&"||"==i.operator&&i.right.equivalent_to(r))return ne(gt,a,{operator:"||",left:ne(gt,a,{operator:"&&",left:s,right:i.left}),right:r}).optimize(n);if(r instanceof gt&&"&&"==r.operator&&r.right.equivalent_to(i))return ne(gt,a,{operator:"&&",left:ne(gt,a,{operator:"||",left:s,right:r.left}),right:i}).optimize(n);if(r instanceof gt&&"||"==r.operator&&r.right.equivalent_to(i))return ne(gt,a,{operator:"||",left:ne(gt,a,{operator:"&&",left:t,right:r.left}),right:i}).optimize(n);var d=n.option("booleans")&&n.in_boolean_context();return v(i)?_(r)?h(s):ne(gt,a,{operator:"||",left:h(s),right:r}):_(i)?v(r)?h(s.negate(n)):ne(gt,a,{operator:"&&",left:h(s.negate(n)),right:r}):v(r)?ne(gt,a,{operator:"||",left:h(s.negate(n)),right:i}):_(r)?ne(gt,a,{operator:"&&",left:h(s),right:i}):(n.option("typeofs")&&Me(s,i,r),a);function h(e){return e.is_boolean(n)?e:ne(_t,e,{operator:"!",expression:e.negate(n)})}function v(e){return e instanceof Zt||d&&e instanceof Ut&&e.value||e instanceof _t&&"!"==e.operator&&e.expression instanceof Ut&&!e.expression.value}function _(e){return e instanceof Qt||d&&(e instanceof Ut&&!e.value||e instanceof _t&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof _t&&"!"==e.operator&&e.expression instanceof Ut&&e.expression.value}function m(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function g(e,n){if(e.TYPE==n.TYPE){if(e instanceof ct){if(-1!=m(e,n))return;return"Call"!=e.TYPE||!(e.expression instanceof pt||n.expression instanceof pt)||g(e.expression,n.expression)}return e instanceof dt?e.property==n.property:e instanceof ht?e.property.equivalent_to(n.property):void 0}}function b(e){return e===e.tail_node()||vn(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function y(e){if(!(e instanceof lt))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),B(e,n)}function w(e){return e instanceof lt?B(e,e.expressions.slice(0,-1)):ne(Bt,e,{value:0})}}),e(Kt,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return ne(Bt,e,{value:+e.value});var t=n.parent();return t instanceof gt&&("=="==t.operator||"!="==t.operator)?(bn.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),ne(Bt,e,{value:+e.value})):ne(_t,e,{operator:"!",expression:ne(Bt,e,{value:1-e.value})})}),e(ht,function(e,t){var n=e.expression,i=e.property;if(t.option("properties")){var r=i.evaluate(t);if(r!==i){"string"==typeof r&&("undefined"==r?r=void 0:(b=parseFloat(r)).toString()==r&&(r=b)),i=e.property=G(i,E(r,i).transform(t));var o=""+r;if(ni(o)&&o.length<=i.print_to_string().length+1)return ne(dt,e,{expression:n,property:o}).optimize(t)}}var a,s,f,c,u=t.parent(),l=fe(t.self(),u);if(t.option("arguments")&&n instanceof Rt&&Z(a=n.definition())&&i instanceof Bt&&(s=n.scope.resolve())===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof Pn){if(e instanceof Rn)return;return f=t.parent(n),e}}()&&(!l||"d"!==s.uses_arguments)){var p=i.value;u instanceof _t&&"delete"==u.operator&&(a.deleted||(a.deleted=[]),a.deleted[p]=!0);var d=s.argnames[p];if(a.deleted&&a.deleted[p])d=null;else if(!d||!t.has_directive("use strict")&&(f instanceof ct&&p<f.args.length)){if(!d&&p<s.argnames.length+5&&t.drop_fargs(s,f))for(;p>=s.argnames.length;)d=s.make_var(Ct,s,"argument_"+s.argnames.length),s.argnames.push(d)}else{var h=d.definition();(!t.option("reduce_vars")||a.reassigned||h.assignments||1<h.orig.length)&&(d=null)}if(d&&rn(function(e){return e.name===d.name},s.argnames)===d){a.reassigned=!1;var v=ne(Rt,e,d);return v.reference({}),delete d.__unused,v}}if(l)return e;if(t.option("sequences")&&"Call"!=u.TYPE&&!(u instanceof Mn&&u.init===e)){var _=Ie(e);if(_!==e)return _.optimize(t)}if(r===i||(c=e.flatten_object(o,t))&&(n=e.expression=c.expression,i=e.property=c.property),t.option("properties")&&t.option("side_effects")&&i instanceof Bt&&n instanceof wt){var p=i.value,m=n.elements,g=m[p];if(nn(g,t)){for(var b,y=g instanceof Jt,w=!y,x=[],k=m.length;--k>p;){(b=m[k].drop_side_effect_free(t))&&(x.unshift(b),w&&b.has_side_effects(t)&&(w=!1))}for(w||x.unshift(g);0<=--k;){(b=m[k].drop_side_effect_free(t))?x.unshift(b):y?x.unshift(ne(Jt,m[k])):p--}return w?(x.push(g),B(e,x).optimize(t)):ne(ht,e,{expression:ne(wt,n,{elements:x}),property:ne(Bt,i,{value:p})})}}return K(t,e)}),Nn.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new ei(function(e){return!!n||(e instanceof It?n=!0:e!==t&&e instanceof Nn||void 0)})),n}),pt.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof St)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key==e){if(!vn(i,function(e){return e instanceof Ot&&"string"==typeof e.key}))break;if(!nn(o.value,n))break;return ne(ht,this,{expression:ne(wt,t,{elements:i.map(function(e){return e.value})}),property:ne(Bt,this,{value:r})})}}}}),e(dt,function(e,n){"arguments"!=e.property&&"caller"!=e.property||bn.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(fe(n.self(),t))return e;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof Mn&&t.init===e)){var i=Ie(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof dt&&"prototype"==e.expression.property){var r=e.expression.expression;if(R(r))switch(r.name){case"Array":e.expression=ne(wt,e.expression,{elements:[]});break;case"Function":e.expression=ne(In,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=ne(Bt,e.expression,{value:0});break;case"Object":e.expression=ne(St,e.expression,{properties:[]});break;case"RegExp":e.expression=ne(Lt,e.expression,{value:/t/});break;case"String":e.expression=ne(Yt,e.expression,{value:""})}}var o=e.flatten_object(e.property,n);return o?o.optimize(n):K(n,e)}),e(Et,function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof bn&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),e(St,function(t,n){if(!n.option("objects")||n.has_directive("use strict"))return t;for(var e=t.properties.length;0<=--e;){var i=t.properties[e],r=i.key;if(r instanceof bn&&(r=r.evaluate(n)),"string"!=typeof r||/[0-9]+/.test(r))break;r!==i.key&&(i.key=""+r)}var o=new _n,a=[];return t.properties.forEach(function(e){e instanceof Ot&&"string"==typeof e.key?(e.value.has_side_effects(n)&&s(),o.add(e.key,e.value)):(s(),a.push(e))}),s(),t.properties.length!=a.length?ne(St,t,{properties:a}):t;function s(){o.each(function(e,n){a.push(ne(Ot,t,{key:n,value:B(t,e)}))}),o=new _n}}),e(Ln,function(e,n){return e.value&&F(e.value,n)&&(e.value=null),e})}(function(e,t){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;var n=t(this,e);return n._optimized=!0,n})}),S="undefined"==typeof Buffer?(T=atob,btoa):void 0===Buffer.alloc?(T=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(T=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")});var ze={};return ze.minify=function(i,r){try{(r=X(r,{compress:{},enclose:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&bn.enable_validation();var e,n=r.timings&&{start:Date.now()};void 0===r.rename&&(r.rename=r.compress&&r.mangle),Oe("ie8",r,["compress","mangle","output"]),Oe("keep_fnames",r,["compress","mangle"]),Oe("toplevel",r,["compress","mangle"]),Oe("webkit",r,["mangle","output"]),r.mangle&&(r.mangle=X(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(e=r.mangle.properties.reserved,Array.isArray(e)||(e=[]),r.mangle.properties.reserved=e),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Ae(r.mangle.cache),Ae(r.mangle.properties.cache)),r.sourceMap&&(r.sourceMap=X(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,t=[];if(r.warnings&&bn.log_function(function(e){t.push(e)},"verbose"==r.warnings),n&&(n.parse=Date.now()),i instanceof Hn)o=i;else{"string"==typeof i&&(i=[i]),r.parse=r.parse||{},r.parse.toplevel=null;var a,s=r.sourceMap&&r.sourceMap.content;for(var f in"string"==typeof s&&"inline"!=s&&(s=De(s)),s&&(r.sourceMap.orig=Object.create(null)),i){mn(i,f)&&(r.parse.filename=f,r.parse.toplevel=o=ri(i[f],r.parse),"inline"==s?(a=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;var o=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!o)break;if("sourceMappingURL"==o[1]){if(!(o=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(o[2])))break;return T(o[2])}}bn.warn("inline source map not found: {name}",{name:e})}(f,o))&&(r.sourceMap.orig[f]=De(a)):s&&(r.sourceMap.orig[f]=s))}}e&&reserve_quoted_keys(o,e),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),n&&(n.rename=Date.now()),r.rename&&(o.figure_out_scope(r.mangle),o.expand_names(r.mangle)),n&&(n.compress=Date.now()),r.compress&&(o=new si(r.compress).compress(o),r.validate&&o.validate_ast()),n&&(n.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),n&&(n.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),n&&(n.properties=Date.now()),r.mangle&&r.mangle.properties&&mangle_properties(o,r.mangle.properties),n&&(n.output=Date.now());var c={};if(r.output.ast&&(c.ast=o),!mn(r.output,"code")||r.output.code){if(r.sourceMap&&(r.output.source_map=SourceMap(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof Hn)throw new Error("original source content unavailable");for(var f in i)mn(i,f)&&r.output.source_map.setSourceContent(f,i[f])}delete r.output.ast,delete r.output.code;var u,l=ai(r.output);o.print(l),c.code=l.get(),r.sourceMap&&(c.map=r.output.source_map.toString(),(u=r.sourceMap.url)&&(c.code=c.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),c.code+="inline"==u?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+S(c.map):"\n//# sourceMappingURL="+u))}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=$e(r.mangle.cache)),r.mangle.properties&&r.mangle.properties.cache&&(r.nameCache.props=$e(r.mangle.properties.cache))),n&&(n.end=Date.now(),c.timings={parse:.001*(n.rename-n.parse),rename:.001*(n.compress-n.rename),compress:.001*(n.scope-n.compress),scope:.001*(n.mangle-n.scope),mangle:.001*(n.properties-n.mangle),properties:.001*(n.output-n.properties),output:.001*(n.end-n.output),total:.001*(n.end-n.start)}),t.length&&(c.warnings=t),c}catch(e){return{error:e}}finally{bn.log_function(),bn.disable_validation()}},ze});